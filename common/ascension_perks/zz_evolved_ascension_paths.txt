# common\ascension_perks\zz_evolved_ascension_paths.txt

# Order
	# Psionics
	# Psychic
	# Ethereals

	# Genetics
	# Biogenics

	# Cybernetic
	# Bioware
	# Synthetics

	# Replicant
	# Biopsionic
	# Cyberpsionic
	# Biopsychic
	# Cyberpsychic

	# Ascendant
# /

# Vars
# -----------------------------------------
@ap_engineered_evolution_POINTS = 3
@ap_engineered_evolution_COST_MULT = -0.25
@ap_evolutionary_mastery_POINTS = 3
@ap_evolutionary_mastery_COST_MULT = -0.25
@ap_tec_genetic_perfection_POINTS = 2

# -----------------------------------------
# MAIN ASCENSION PATHS
# -----------------------------------------
# ------------------------------------------------- Mystical Paths
	# Tier I
	ap_mind_over_matter = { 			# Mystical Tier I
	 # Base - Allows branching
		potential = {
			has_utopia = yes
			# Auth lockers
			is_mechanical_empire = no
			is_synthetic_empire = no
			is_individual_machine = no
			is_machine_empire = no
			# Path Lockers
			tec_has_main_ascension_path = no
			is_natural_design_empire = no
			# TODO ASCENSION
			is_hive_empire = no
		}
		possible = {
			custom_tooltip = {
				fail_text = "requires_ascension_perks_2"
				num_ascension_perks > 1
			}
			custom_tooltip = {
				fail_text = "tec_ap_require_tech_colonial_centralization"
				has_technology = tech_colonial_centralization
			}
			custom_tooltip = {
				fail_text = "synthetic_empire_psionic_ascension"
				NOT = { has_trait = trait_mechanical }
			}
			custom_tooltip = {
				fail_text = "tec_blocked_path"
				NOR = {
					# Locked if the empire has picked another T1 or T2
					# Completed main perk
						#tec_has_psionic_ascension_path = yes
						tec_has_genetic_ascension_path = yes
						tec_has_cybernetic_ascension_path = yes
						tec_has_synthetic_ascension_path = yes
					# /
					# Completed T2 evolved perk
						has_ascension_perk = ap_tec_psionic_ascendance			# perfect psi
						has_ascension_perk = ap_tec_genetic_perfection			# perfect bio
						has_ascension_perk = ap_tec_cybernetic_revolution		# perfect cyborg
						has_ascension_perk = ap_tec_synthetic_singularity		# perfect synth
						has_ascension_perk = ap_tec_biogenic_mutation			# perfect biogenics
						has_ascension_perk = ap_tec_bioware_combination			# perfect bioware
						has_ascension_perk = ap_tec_psychic_elevation			# perfect psychic
						has_ascension_perk = ap_tec_ethereal_transmutation		# perfect ethereal
					# /
					# Completed mixed path
						has_ascension_perk = ap_tec_replicant
						has_ascension_perk = ap_tec_biopsionic
						has_ascension_perk = ap_tec_cyberpsionic
						has_ascension_perk = ap_tec_biopsychic
						has_ascension_perk = ap_tec_cyberpsychic
					# /
				}
			}
			custom_tooltip = {
				fail_text = tec_crisis_cant_pick_ap
				is_crisis_faction = no
			}
		}
		on_enabled = {
			# Effects on tec_ascension.40
			# Note: tooltips must be here because apparently swaps don't add them for some reason
			if = {	# Base
				limit = {
					NOR = {
						has_country_flag = ap_mind_over_matter_psionic
						has_country_flag = ap_mind_over_matter_psychic
						has_country_flag = ap_mind_over_matter_psionic_ethereal
						has_country_flag = ap_mind_over_matter_psychic_ethereal
					}
				}
				# Situation
				custom_tooltip = "ap_mind_over_matter_base_tooltip"
				if = { # Pre-steps - Psionic Theory
					limit = {
						NOR = {
							has_tech_option = tech_psionic_theory
							has_technology = tech_psionic_theory
						}
					}
					custom_tooltip = "tec_ap_unlock_tech_psionic_theory"
				}
				if = { # Free - Telepathy
					limit = {
						NOR = {
							has_tech_option = tech_telepathy
							has_technology = tech_telepathy
						}
					}
					custom_tooltip = "tec_ap_unlock_tech_telepathy"
				}
			}
			if = {	# Psionic
				limit = {
					has_country_flag = ap_mind_over_matter_psionic
				}
				custom_tooltip = "ap_mind_over_matter_psionic_tooltip"
				custom_tooltip = "ap_mind_over_matter_psionic_tradition"
			}
 			if = {	# Psychic
				limit = {
					has_country_flag = ap_mind_over_matter_psychic
				}
				custom_tooltip = "ap_mind_over_matter_psychic_tooltip"
				custom_tooltip = "ap_mind_over_matter_psychic_tradition"
			}
			#if = {	# Ethereal Psionic
			#}
			#if = {	# Ethereal Psychic
			#}
		}
		ai_weight = {
			weight = @tec_force_path_ap_weight
			# Ethic
				modifier = {
					factor = 0.75
					is_spiritualist = no
				}
				modifier = {
					factor = 1.25
					is_spiritualist = yes
				}
			# /
			# Overlord
				modifier = {
					factor = 2
					is_subject = yes
					overlord = {
						tec_has_mystical_ascension_path = yes
					}
				}
			# /
			# Ascension Controller
				# Note: This affect mixed paths
				# Global checker
				modifier = {
					factor = 0.5
					event_target:global_event_country = {
						check_variable = {
							which = tec_number_of_mystical_empires
							value >= 2
						}
					}
					tec_is_mystical_ascension_beeliner = no
				}
				modifier = {
					factor = 0.5
					event_target:global_event_country = {
						check_variable = {
							which = tec_number_of_mystical_empires
							value >= 3
						}
					}
					tec_is_mystical_ascension_beeliner = no
				}
				modifier = {
					factor = 0.25
					event_target:global_event_country = {
						check_variable = {
							which = tec_number_of_mystical_empires
							value >= 5
						}
					}
					tec_is_mystical_ascension_beeliner = no
				}
			# /	
			modifier = {
				factor = 10
				has_ascension_perk = ap_become_the_crisis
			}
		}
	 # /
	 tradition_swap = {	# Psionic
		name = ap_mind_over_matter_psionic
		inherit_effects = no
		inherit_icon = no
		inherit_name = no
		trigger = {
			has_country_flag = ap_mind_over_matter_psionic
		}
		on_enabled = {
			custom_tooltip = "ap_mind_over_matter_psionic_tooltip"
			custom_tooltip = "ap_mind_over_matter_psionic_tradition"
		}
		weight = {
			factor = @tec_force_ap_swap_weight
		}
	 }
	 tradition_swap = {	# Psychic
		name = ap_mind_over_matter_psychic
		inherit_effects = no
		inherit_icon = no
		inherit_name = no
		trigger = {
			has_country_flag = ap_mind_over_matter_psychic
		}
		on_enabled = {
			custom_tooltip = "ap_mind_over_matter_psychic_tooltip"
			custom_tooltip = "ap_mind_over_matter_psychic_tradition"
		}
		weight = {
			factor = @tec_force_ap_swap_weight
		}
	 }
	 #tradition_swap = {	# Ethereal Psionic
		#name = ap_mind_over_matter_psionic_ethereal
	 #}
	 #tradition_swap = {	# Ethereal Psychic
		#name = ap_mind_over_matter_psychic_ethereal
	 #}
	}
	# Tier II
	ap_tec_psionic_ascendance = {		# Psionic Tier II	TODO ASCENSION
	 # Base
		potential = {
			has_utopia = yes
			# Auth lockers
			is_hive_empire = no
			is_mechanical_empire = no
			is_synthetic_empire = no
			is_individual_machine = no
			is_machine_empire = no
			# Path Lockers
			OR = {
				tec_has_main_ascension_path = no
				tec_has_psionic_ascension_path = yes
			}
			tec_has_secondary_ascension_path = no
		}
		possible = {
			custom_tooltip = {
				fail_text = "requires_ascension_perks_5"
				num_ascension_perks > 4
			}
			custom_tooltip = {
				fail_text = "tec_ap_require_tech_galactic_administration"
				has_technology = tech_galactic_administration
			}
			custom_tooltip = {	# Tradition
				fail_text = "ap_tec_psionic_ascendance_requirements_path"
				has_tradition = tr_psionics_finish
				has_country_flag = tec_psionics_gate_completed
			}
			custom_tooltip = {
				fail_text = "synthetic_empire_psionic_ascension"
				NOT = { has_trait = trait_mechanical }
			}
			custom_tooltip = {
				fail_text = "tec_blocked_path"
				NOR = {
					# Locked if the empire has picked another T1 or T2
					# Completed main perk
						#tec_has_psionic_ascension_path = yes
						tec_has_genetic_ascension_path = yes
						tec_has_cybernetic_ascension_path = yes
						tec_has_synthetic_ascension_path = yes
					# /
					# Completed T2 evolved perk
						#has_ascension_perk = ap_tec_psionic_ascendance			# perfect psi
						has_ascension_perk = ap_tec_genetic_perfection			# perfect bio
						has_ascension_perk = ap_tec_cybernetic_revolution		# perfect cyborg
						has_ascension_perk = ap_tec_synthetic_singularity		# perfect synth
						has_ascension_perk = ap_tec_biogenic_mutation			# perfect biogenics
						has_ascension_perk = ap_tec_bioware_combination			# perfect bioware
						has_ascension_perk = ap_tec_psychic_elevation			# perfect psychic
						has_ascension_perk = ap_tec_ethereal_transmutation		# perfect ethereal
					# /
					# Completed mixed path
						has_ascension_perk = ap_tec_replicant
						has_ascension_perk = ap_tec_biopsionic
						has_ascension_perk = ap_tec_cyberpsionic
						has_ascension_perk = ap_tec_biopsychic
						has_ascension_perk = ap_tec_cyberpsychic
					# /
				}
			}
		}
		on_enabled = {
			hidden_effect = {
				if = {
					limit = {
						has_country_flag = tec_advanced_ascension
					}
					tec_give_t2_psionic_effect = yes
				}
				else = {
					country_event = {
						id = tec_psionic_path.200
					}
				}
			}
			if = {	# Special effect
				limit = {
					has_country_flag = tec_psionics_t2_completed
				}
				custom_tooltip = "ap_tec_psionic_ascendance_tooltip_discovered"
				if = {
					limit = {
						has_country_flag = tec_psionics_t2_extra_leader_traits
					}
					custom_tooltip = "ap_tec_psionic_ascendance_unlock_leader_traits"
				}
				if = {
					limit = {
						has_country_flag = tec_psionics_t2_deluxe_shroud
					}
					custom_tooltip = "ap_tec_psionic_ascendance_unlock_deluxe_shroud"
				}
			}
			else = {
				custom_tooltip = "ap_tec_psionic_ascendance_tooltip"
			}
		}
		ai_weight = {
			factor = @tec_force_path_ap_weight
		}
	 # /
	}
	ap_tec_psychic_elevation = {		# Psychic Tier II	TODO ASCENSION
		potential = {
			always = no
		}
		possible = {
			always = no
		}
	}
	ap_tec_ethereal_transmutation = {	# Ethereal Tier II	TODO ASCENSION
		potential = {
			always = no
		}
		possible = {
			always = no
		}
	}
# /

# ------------------------------------------------- Genetics
	# Genetic Ascension  (regular empires & Hive Minds)
	ap_engineered_evolution = {			# Biologic Tier I
	 # Base - Allows branching
		potential = {
			has_utopia = yes
			# Auth lockers
			is_mechanical_empire = no
			is_synthetic_empire = no
			is_individual_machine = no
			is_machine_empire = no
			# Path Lockers
			tec_has_main_ascension_path = no
			is_natural_design_empire = no
		}
		possible = {
			custom_tooltip = {
				fail_text = "requires_ascension_perks_2"
				num_ascension_perks > 1
			}
			custom_tooltip = {
				fail_text = "tec_ap_require_tech_genome_mapping"
				has_technology = tech_genome_mapping
			}
			custom_tooltip = {
				fail_text = "tec_ap_require_tech_colonial_centralization"
				has_technology = tech_colonial_centralization
			}
			custom_tooltip = {
				fail_text = "synthetic_empire_biological_ascension"
				NOT = { has_trait = trait_mechanical }
			}
			custom_tooltip = {
				fail_text = "requires_free_tradition_tree"
				num_tradition_categories < @max_tradition_trees
			}
			custom_tooltip = {
				fail_text = "tec_blocked_path"
				NOR = {
					# Locked if the empire has picked another T1 or T2
					# Completed main perk
						tec_has_psionic_ascension_path = yes
						#tec_has_genetic_ascension_path = yes
						tec_has_cybernetic_ascension_path = yes
						tec_has_synthetic_ascension_path = yes
					# /
					# Completed T2 evolved perk
						has_ascension_perk = ap_tec_psionic_ascendance			# perfect psi
						has_ascension_perk = ap_tec_genetic_perfection			# perfect bio
						has_ascension_perk = ap_tec_cybernetic_revolution		# perfect cyborg
						has_ascension_perk = ap_tec_synthetic_singularity		# perfect synth
						has_ascension_perk = ap_tec_biogenic_mutation			# perfect biogenics
						has_ascension_perk = ap_tec_bioware_combination			# perfect bioware
						has_ascension_perk = ap_tec_psychic_elevation			# perfect psychic
						has_ascension_perk = ap_tec_ethereal_transmutation		# perfect ethereal
					# /
					# Completed mixed path
						has_ascension_perk = ap_tec_replicant
						has_ascension_perk = ap_tec_biopsionic
						has_ascension_perk = ap_tec_cyberpsionic
						has_ascension_perk = ap_tec_biopsychic
						has_ascension_perk = ap_tec_cyberpsychic
					# /
					# Blocks Paths
						has_valid_civic = civic_augmentation_bazaars
					# /
				}
			}
			custom_tooltip = {
				fail_text = tec_crisis_cant_pick_ap
				is_crisis_faction = no
			}
		}
		on_enabled = {
			# Effects on tec_ascension.10
			# Note: tooltips must be here because apparently swaps don't add them for some reason
			if = {	# Base
				limit = {
					NOR = {
						has_country_flag = ap_engineered_evolution_genetics
						has_country_flag = ap_engineered_evolution_biogenics
						has_country_flag = ap_engineered_evolution_biocreation
					}
				}
				# Situation
				custom_tooltip = "ap_engineered_evolution_tooltip"
				if = {	# Pre-steps - Gene Tailoring
					limit = {
						NOR = {
							has_tech_option = tech_gene_tailoring
							has_technology = tech_gene_tailoring
						}
					}
					custom_tooltip = "tec_ap_unlock_tech_gene_tailoring"
				}
				if = {	# Free - Gene Seed
					limit = {
						NOR = {
							has_tech_option = tech_gene_seed_purification
							has_technology = tech_gene_seed_purification
						}
					}
					custom_tooltip = "tec_ap_unlock_tech_gene_seed_purification"
				}
				if = {	# Notify Clone Army
					limit = {
						has_origin = origin_clone_army
						OR = {
							has_trait = trait_clone_soldier_infertile
							has_trait = trait_clone_soldier_infertile_full_potential
						}
					}
					custom_tooltip = "clone_soldier_locked_genes"
				}
			}
			if = {	# Genetic
				limit = {
					has_country_flag = ap_engineered_evolution_genetics
				}
				custom_tooltip = "ap_engineered_evolution_genetics_tooltip"
				custom_tooltip = "ap_engineered_evolution_genetics_tradition"
			}
			if = {	# Biogenic
				limit = {
					has_country_flag = ap_engineered_evolution_biogenics
				}
				custom_tooltip = "ap_engineered_evolution_biogenics_tooltip"
				custom_tooltip = "ap_engineered_evolution_biogenics_tradition"
			}
			#if = {	# Biocreation
			#}
		}
		ai_weight = {
			factor = @tec_force_path_ap_weight
			# Ethic
				modifier = {
					factor = 0.75
					OR = {
						is_industrialist = yes
						has_authority = auth_tec_hive_cybernetic
					}
				}
				modifier = {
					factor = 1.25
					OR = {
						is_ecologist = yes
						has_authority = auth_hive_mind
						has_authority = auth_tec_hive_biological
					}
				}
			# /
			# Overlord
				modifier = {
					factor = 2
					is_subject = yes
					overlord = {
						tec_has_biological_ascension_path = yes
					}
				}
			# /
			# Pop types
				modifier = {
					factor = 1.5
					pop_percentage = {
						percentage >= 0.20
						limit = {
							has_trait = @trait_tec_bioservant
						}
					}
				}
			# /
			# Ascension Controller
				# Note: This affect mixed paths
				# Global checker
				modifier = {
					factor = 0.75
					event_target:global_event_country = {
						check_variable = {
							which = tec_number_of_bioascended_empires
							value >= 2
						}
					}
					tec_is_biological_ascension_beeliner = no
				}
				modifier = {
					factor = 0.75
					event_target:global_event_country = {
						check_variable = {
							which = tec_number_of_bioascended_empires
							value >= 3
						}
					}
					tec_is_biological_ascension_beeliner = no
				}
				modifier = {
					factor = 0.75
					event_target:global_event_country = {
						check_variable = {
							which = tec_number_of_bioascended_empires
							value >= 4
						}
					}
					tec_is_biological_ascension_beeliner = no
				}
			# /	
		}
	 # /
	 tradition_swap = {	# Genetics
		name = ap_engineered_evolution_genetics
		inherit_effects = no
		inherit_icon = no
		inherit_name = no
		trigger = {	# TODO ASCENSION
			has_country_flag = ap_engineered_evolution_genetics
		}
		on_enabled = {
			custom_tooltip = "ap_engineered_evolution_genetics_tooltip"
			custom_tooltip = "ap_engineered_evolution_genetics_tradition"
		}
		weight = {
			factor = @tec_force_ap_swap_weight
		}
	 }
	 tradition_swap = {	# Biogenic
		name = ap_engineered_evolution_biogenics
		inherit_effects = no
		inherit_icon = no
		inherit_name = no
		trigger = {	# TODO ASCENSION
			has_country_flag = ap_engineered_evolution_biogenics
		}
		on_enabled = {
			custom_tooltip = "ap_engineered_evolution_biogenics_tooltip"
			custom_tooltip = "ap_engineered_evolution_biogenics_tradition"
		}
		weight = {
			factor = @tec_force_ap_swap_weight
		}
	 }
	 #tradition_swap = {	# Biocreation
		#name = ap_engineered_evolution_biocreation
	 #}
	}
	# Tier II
	ap_tec_genetic_perfection = {		# Biologic Tier II	TODO ASCENSION
	 # Base
		potential = {
			# tec_has_genetic_ascension_path = yes
			has_utopia = yes
			# Auth lockers
			is_mechanical_empire = no
			is_synthetic_empire = no
			is_individual_machine = no
			is_machine_empire = no
			# Path Lockers
			OR = {
				tec_has_main_ascension_path = no
				tec_has_genetic_ascension_path = yes
			}
			tec_has_secondary_ascension_path = no
		}
		possible = {
			custom_tooltip = {
				fail_text = "requires_ascension_perks_5"
				num_ascension_perks > 4
			}
			custom_tooltip = {
				fail_text = "tec_ap_require_tech_galactic_administration"
				has_technology = tech_galactic_administration
			}
			custom_tooltip = {	# Tradition
				fail_text = "ap_tec_genetic_perfection_requirements_path"
				has_tradition = tr_genetics_finish
				has_country_flag = tec_genetics_gate_completed	
			}
			custom_tooltip = {
				fail_text = "synthetic_empire_biological_ascension"
				NOT = { has_trait = trait_mechanical }
			}
			custom_tooltip = {
				fail_text = "requires_technology_glandular_acclimation"
				has_technology = tech_glandular_acclimation
			}
			custom_tooltip = {
				fail_text = "requires_not_shroudwalker_apprentice"
				NOT = { has_origin = origin_shroudwalker_apprentice }
			}
			custom_tooltip = {
				fail_text = "tec_blocked_path"
				NOR = {
					# Locked if the empire has picked another T1 or T2
					# Completed main perk
						tec_has_psionic_ascension_path = yes
						#tec_has_genetic_ascension_path = yes
						tec_has_cybernetic_ascension_path = yes
						tec_has_synthetic_ascension_path = yes
					# /
					# Completed T2 evolved perk
						has_ascension_perk = ap_tec_psionic_ascendance			# perfect psi
						#has_ascension_perk = ap_tec_genetic_perfection			# perfect bio
						has_ascension_perk = ap_tec_cybernetic_revolution		# perfect cyborg
						has_ascension_perk = ap_tec_synthetic_singularity		# perfect synth
						has_ascension_perk = ap_tec_biogenic_mutation			# perfect biogenics
						has_ascension_perk = ap_tec_bioware_combination			# perfect bioware
						has_ascension_perk = ap_tec_psychic_elevation			# perfect psychic
						has_ascension_perk = ap_tec_ethereal_transmutation		# perfect ethereal
					# /
					# Completed mixed path
						has_ascension_perk = ap_tec_replicant
						has_ascension_perk = ap_tec_biopsionic
						has_ascension_perk = ap_tec_cyberpsionic
						has_ascension_perk = ap_tec_biopsychic
						has_ascension_perk = ap_tec_cyberpsychic
					# /
				}
			}
		}
		on_enabled = {
			hidden_effect = {
				set_country_flag = tec_allow_t3_biotraits
				if = {
					limit = {
						has_country_flag = tec_advanced_ascension
					}
					tec_give_t2_genetics_effect = yes
				}
				else = {
					country_event = {
						id = tec_gene_path.200
					}
				}
			}
			if = {
				limit = {
					has_origin = origin_clone_army
					OR = {
						has_trait = trait_clone_soldier_infertile
						has_trait = trait_clone_soldier_infertile_full_potential
					}
				}
				custom_tooltip = clone_soldier_locked_genes
			}
			inline_script = {
				script = mod_support/tec_giga_present
				code = "
					if = {	# GIGASTRUCTURES COMP
						limit = {
							has_global_flag = giga_game_started
						}
						add_research_option = giga_tech_the_vat
					}
				"
			}
			custom_tooltip = ap_tec_genetic_perfection_tooltip
			#custom_tooltip = tec_ap_unlock_genetic_perfection_tradition
		}
		#modifier = {
		#	BIOLOGICAL_species_trait_points_add = @ap_tec_genetic_perfection_POINTS
		#}
		# Moved to the recombination mechanic as gimmick
		ai_weight = {
			factor = @tec_force_path_ap_weight
		}
	 # /
	}
	ap_tec_biogenic_mutation = {				# Biogenic Tier II	TODO ASCENSION
		potential = {
			always = no
		}
		possible = {
			always = no
		}
	}
# /

# ------------------------------------------------- Cybernetics
	# Tier I
	ap_the_flesh_is_weak = {			# Cybernetics Tier I
	 # Base - Allows branching
		potential = {
			OR = {
				has_utopia = yes
				has_machine_age_dlc = yes
			}
			# Auth lockers
			is_gestalt = no
			is_mechanical_empire = no
			is_individual_machine = no
			# Path lockers
			OR = {
				tec_has_main_ascension_path = no
				has_valid_civic = civic_augmentation_bazaars
			}
			is_natural_design_empire = no
		}
		possible = {
			custom_tooltip = {
				fail_text = "requires_ascension_perks_2"
				OR = {
					num_ascension_perks > 1
					has_origin = origin_cybernetic_creed
				}
			}
			custom_tooltip = {
				fail_text = "tec_ap_require_tech_colonial_centralization"
				has_technology = tech_colonial_centralization
			}
			custom_tooltip = {
				fail_text = "requires_technology_integrated_cybernetics"
				has_technology = tech_integrated_cybernetics
			}
			custom_tooltip = {
				fail_text = "synthetic_empire_synthetic_ascension"
				NOT = { has_trait = trait_mechanical }
			}
			custom_tooltip = {
				fail_text = "requires_free_tradition_tree"
				num_tradition_categories < @max_tradition_trees
			}
			custom_tooltip = {
				fail_text = "tec_blocked_path"
				NOR = {
					# Locked if the empire has picked another T1 or T2
					# Completed main perk
						tec_has_psionic_ascension_path = yes
						tec_has_genetic_ascension_path = yes
						#tec_has_cybernetic_ascension_path = yes
						tec_has_synthetic_ascension_path = yes
					# /
					# Completed T2 evolved perk
						has_ascension_perk = ap_tec_psionic_ascendance			# perfect psi
						has_ascension_perk = ap_tec_genetic_perfection			# perfect bio
						has_ascension_perk = ap_tec_cybernetic_revolution		# perfect cyborg
						has_ascension_perk = ap_tec_synthetic_singularity		# perfect synth
						has_ascension_perk = ap_tec_biogenic_mutation			# perfect biogenics
						has_ascension_perk = ap_tec_bioware_combination			# perfect bioware
						has_ascension_perk = ap_tec_psychic_elevation			# perfect psychic
						has_ascension_perk = ap_tec_ethereal_transmutation		# perfect ethereal
					# /
					# Completed mixed path
						has_ascension_perk = ap_tec_replicant
						has_ascension_perk = ap_tec_biopsionic
						has_ascension_perk = ap_tec_cyberpsionic
						has_ascension_perk = ap_tec_biopsychic
						has_ascension_perk = ap_tec_cyberpsychic
					# /
				}
			}
			custom_tooltip = {
				fail_text = tec_crisis_cant_pick_ap
				is_crisis_faction = no
			}
		}
		on_enabled = {
			# Effects on tec_ascension.20
			# Note: tooltips must be here because apparently swaps don't add them for some reason
			if = {	# Base
				limit = {
					NOR = {
						has_country_flag = ap_the_flesh_is_weak_cybernetics
						has_country_flag = ap_the_flesh_is_weak_bioware
					}
				}
				# Situation
				if = {	# Cyborgs - upgrade or swap to bioware
					limit = {
						OR = {
							tec_has_cybernetic_ascension_path = yes
							tec_is_cyberhive = yes
							has_valid_civic = civic_machine_assimilator
						}
					}
					custom_tooltip = "ap_the_flesh_is_weak_base_cyborg_tooltip"
				}
				else_if = {	# Non Cyborgs
					limit = {
						NOR = {
							is_hive_empire = yes
							is_machine_empire = yes
							tec_has_cybernetic_ascension_path = yes
							tec_is_cyberhive = yes
							has_valid_civic = civic_machine_assimilator
						}
					}
					custom_tooltip = "ap_the_flesh_is_weak_base_tooltip"
				}
				else_if = {	# Hive
					limit = {
						is_hive_empire = yes
						NOR = {
							tec_is_cyberhive = yes
							tec_has_cybernetic_ascension_path = yes
						}
					}
					custom_tooltip = "ap_the_flesh_is_weak_base_hive_tooltip"
				}
				else_if = {	# Machine
					limit = {
						is_machine_empire = yes
						NOR = {
							has_valid_civic = civic_machine_assimilator
							tec_has_cybernetic_ascension_path = yes
						}
					}
					custom_tooltip = "ap_the_flesh_is_weak_base_machine_tooltip"
				}
				else = {	# Fallback just in case
					custom_tooltip = "ap_the_flesh_is_weak_base_tooltip"
				}
				if = {	# Free - Neuro Quantum Links
					limit = {
						NOR = {
							has_tech_option = tech_neuro_quantum_links
							has_technology = tech_neuro_quantum_links
						}
					}
					custom_tooltip = "tec_ap_unlock_tech_neuro_quantum_links"
				}
			}
			if = {	# Cybernetic
				limit = {
					has_country_flag = ap_the_flesh_is_weak_cybernetics
				}
				if = {	# Already Cyborg
					limit = {
						hidden_trigger = {
							always = no
							# TODO ASCENSION - Assimilators and etc
						}
					}
					custom_tooltip = "ap_the_flesh_is_weak_cybernetics_cyborg_tooltip"
				}
				else_if = {	# Regular
					limit = {
						hidden_trigger = {
							is_gestalt = no
						}
					}
					custom_tooltip = "ap_the_flesh_is_weak_cybernetics_tooltip"
				}
				else_if = {	# Hive
					limit = {
						hidden_trigger = {
							is_hive_empire = yes
						}
					}
					custom_tooltip = "ap_the_flesh_is_weak_cybernetics_hive_tooltip"
				}
				else_if = {	# Machine
					limit = {
						hidden_trigger = {
							is_machine_empire = yes
						}
					}
					custom_tooltip = "ap_the_flesh_is_weak_cybernetics_machine_tooltip"
				}
				else = {	# Fallback just in case
					custom_tooltip = "ap_the_flesh_is_weak_cybernetics_tooltip"
				}
				custom_tooltip = "ap_the_flesh_is_weak_cybernetics_tradition"
			}
			if = {	# Bioware
				limit = {
					has_country_flag = ap_the_flesh_is_weak_bioware
				}
				if = {	# Already bioborg
					limit = {
						hidden_trigger = {
							always = no
							# TODO ASCENSION - Already having bioware
						}
					}
					custom_tooltip = "ap_the_flesh_is_weak_bioware_bioborg_tooltip"
				}
				else_if = {	# Regular
					limit = {
						hidden_trigger = {
							is_gestalt = no
						}
					}
					custom_tooltip = "ap_the_flesh_is_weak_bioware_tooltip"
				}
				else_if = {	# Hives
					limit = {
						hidden_trigger = {
							is_hive_empire = yes
						}
					}
					custom_tooltip = "ap_the_flesh_is_weak_bioware_hive_tooltip"
				}
				else_if = {	# Machines
					limit = {
						hidden_trigger = {
							is_machine_empire = yes
						}
					}
					custom_tooltip = "ap_the_flesh_is_weak_bioware_machine_tooltip"
				}
				else = {	# Fallback just in case
					custom_tooltip = "ap_the_flesh_is_weak_bioware_tooltip"
				}
				custom_tooltip = "ap_the_flesh_is_weak_bioware_tradition"
			}
		}
		ai_weight = {
			factor = @tec_force_path_ap_weight
			# TODO ETHIC REWORK - Better account for ethics and subpaths
			# Ethic
				modifier = {
					factor = 0.75
					NOR = {
						is_industrialist = yes
						is_materialist = yes
						has_valid_civic = civic_machine_assimilator
						has_authority = auth_tec_hive_cybernetic
						AND = {
							is_spiritualist = yes
							tec_is_robot_lover = yes
						}
					}
				}
				modifier = {
					factor = 1.25
					OR = {
						is_industrialist = yes
						is_materialist = yes
						has_valid_civic = civic_machine_assimilator
						has_authority = auth_tec_hive_cybernetic
						AND = {
							is_spiritualist = yes
							tec_is_robot_lover = yes
						}
					}
				}
			# /
			# Overlord
				modifier = {
					factor = 2
					is_subject = yes
					overlord = {
						tec_has_technological_cybernetic_ascension_path = yes
					}
				}
			# /
			# Pop types
				modifier = {
					factor = 1.5
					pop_percentage = {
						percentage >= 0.20
						limit = {
							has_trait = "trait_mechanical"
						}
					}
				}
			# /
			# Ascension Controller
				# Note: This affect mixed paths
				# Global checker
				modifier = {
					factor = 0.75
					event_target:global_event_country = {
						check_variable = {
							which = tec_number_of_technoascended_empires
							value >= 2
						}
					}
					tec_is_technological_cybernetic_ascension_beeliner = no
				}
				modifier = {
					factor = 0.75
					event_target:global_event_country = {
						check_variable = {
							which = tec_number_of_technoascended_empires
							value >= 3
						}
					}
					tec_is_technological_cybernetic_ascension_beeliner = no
				}
				modifier = {
					factor = 0.75
					event_target:global_event_country = {
						check_variable = {
							which = tec_number_of_technoascended_empires
							value >= 4
						}
					}
					tec_is_technological_cybernetic_ascension_beeliner = no
				}
			# /
			# Other factors
				modifier = {
					factor = 0
					#Avoid confusion for ais, better standard paths
					is_ai = yes
					has_country_flag = tec_desires_to_be_pure
				}
			# /
		}
	 # /
	 tradition_swap = {	# Cybernetics
		name = ap_the_flesh_is_weak_cybernetics
		inherit_effects = no
		inherit_icon = no
		inherit_name = no
		trigger = {	# TODO ASCENSION
			has_country_flag = ap_the_flesh_is_weak_cybernetics
		}
		on_enabled = {
			if = {	# Already Cyborg
				limit = {
					hidden_trigger = {
						always = no
						# TODO ASCENSION - Assimilators and etc
					}
				}
				custom_tooltip = "ap_the_flesh_is_weak_cybernetics_cyborg_tooltip"
			}
			else_if = {	# Regular
				limit = {
					hidden_trigger = {
						is_gestalt = no
					}
				}
				custom_tooltip = "ap_the_flesh_is_weak_cybernetics_tooltip"
			}
			else_if = {	# Hive
				limit = {
					hidden_trigger = {
						is_hive_empire = yes
					}
				}
				custom_tooltip = "ap_the_flesh_is_weak_cybernetics_hive_tooltip"
			}
			else_if = {	# Machine
				limit = {
					hidden_trigger = {
						is_machine_empire = yes
					}
				}
				custom_tooltip = "ap_the_flesh_is_weak_cybernetics_machine_tooltip"
			}
			custom_tooltip = "ap_the_flesh_is_weak_cybernetics_tradition"
		}
		weight = {
			factor = @tec_force_ap_swap_weight
		}
	 }
	 tradition_swap = {	# Bioware
		name = ap_the_flesh_is_weak_bioware
		inherit_effects = no
		inherit_icon = no
		inherit_name = no
		trigger = {	# TODO ASCENSION
			has_country_flag = ap_the_flesh_is_weak_bioware
		}
		on_enabled = {
			if = {	# Already cyborg
				limit = {
					hidden_trigger = {
						always = no
						# TODO ASCENSION - Already having bioware
					}
				}
				custom_tooltip = "ap_the_flesh_is_weak_bioware_bioborg_tooltip"
			}
			else_if = {	# Regular
				limit = {
					hidden_trigger = {
						is_gestalt = no
					}
				}
				custom_tooltip = "ap_the_flesh_is_weak_bioware_tooltip"
			}
			else_if = {	# Hives
				limit = {
					hidden_trigger = {
						is_hive_empire = yes
					}
				}
				custom_tooltip = "ap_the_flesh_is_weak_bioware_hive_tooltip"
			}
			else_if = {	# Machines
				limit = {
					hidden_trigger = {
						is_machine_empire = yes
					}
				}
				custom_tooltip = "ap_the_flesh_is_weak_bioware_machine_tooltip"
			}
			custom_tooltip = "ap_the_flesh_is_weak_bioware_tradition"
		}
		weight = {
			factor = @tec_force_ap_swap_weight
		}
	 }
	}
	ap_organo_machine_interfacing = {	# Why 3 variants of the same ap? PAIN
	 # Base - Allows branching
		potential = {
			OR = {
				has_utopia = yes
				has_machine_age_dlc = yes
			}
			# Auth lockers
			is_hive_empire = yes
			# Path lockers
			tec_has_main_ascension_path = no
			is_natural_design_empire = no
		}
		possible = {
			custom_tooltip = {
				fail_text = "requires_ascension_perks_2"
				num_ascension_perks > 1
			}
			custom_tooltip = {
				fail_text = "tec_ap_require_tech_colonial_centralization"
				has_technology = tech_colonial_centralization
			}
			custom_tooltip = {
				fail_text = "requires_technology_integrated_cybernetics"
				has_technology = tech_integrated_cybernetics
			}
			custom_tooltip = {
				fail_text = "synthetic_empire_synthetic_ascension"
				NOT = { has_trait = trait_mechanical }
			}
			custom_tooltip = {
				fail_text = "requires_free_tradition_tree"
				num_tradition_categories < @max_tradition_trees
			}
			custom_tooltip = {
				fail_text = "tec_blocked_path"
				NOR = {
					# Locked if the empire has picked another T1 or T2
					# Completed main perk
						tec_has_psionic_ascension_path = yes
						tec_has_genetic_ascension_path = yes
						#tec_has_cybernetic_ascension_path = yes
						tec_has_synthetic_ascension_path = yes
					# /
					# Completed T2 evolved perk
						has_ascension_perk = ap_tec_psionic_ascendance			# perfect psi
						has_ascension_perk = ap_tec_genetic_perfection			# perfect bio
						has_ascension_perk = ap_tec_cybernetic_revolution		# perfect cyborg
						has_ascension_perk = ap_tec_synthetic_singularity		# perfect synth
						has_ascension_perk = ap_tec_biogenic_mutation			# perfect biogenics
						has_ascension_perk = ap_tec_bioware_combination			# perfect bioware
						has_ascension_perk = ap_tec_psychic_elevation			# perfect psychic
						has_ascension_perk = ap_tec_ethereal_transmutation		# perfect ethereal
					# /
					# Completed mixed path
						has_ascension_perk = ap_tec_replicant
						has_ascension_perk = ap_tec_biopsionic
						has_ascension_perk = ap_tec_cyberpsionic
						has_ascension_perk = ap_tec_biopsychic
						has_ascension_perk = ap_tec_cyberpsychic
					# /
				}
			}
			custom_tooltip = {
				fail_text = tec_crisis_cant_pick_ap
				is_crisis_faction = no
			}
		}
		on_enabled = {
			# Effects on tec_ascension.20
			# Note: tooltips must be here because apparently swaps don't add them for some reason
			if = {	# Base
				limit = {
					NOR = {
						has_country_flag = ap_the_flesh_is_weak_cybernetics
						has_country_flag = ap_the_flesh_is_weak_bioware
					}
				}
				# Situation
				if = {	# Cyborgs - upgrade or swap to bioware
					limit = {
						OR = {
							tec_has_cybernetic_ascension_path = yes
							tec_is_cyberhive = yes
							has_valid_civic = civic_machine_assimilator
						}
					}
					custom_tooltip = "ap_the_flesh_is_weak_base_cyborg_tooltip"
				}
				else_if = {	# Non Cyborgs
					limit = {
						NOR = {
							is_hive_empire = yes
							is_machine_empire = yes
							tec_has_cybernetic_ascension_path = yes
							tec_is_cyberhive = yes
							has_valid_civic = civic_machine_assimilator
						}
					}
					custom_tooltip = "ap_the_flesh_is_weak_base_tooltip"
				}
				else_if = {	# Hive
					limit = {
						is_hive_empire = yes
						NOR = {
							tec_is_cyberhive = yes
							tec_has_cybernetic_ascension_path = yes
						}
					}
					custom_tooltip = "ap_the_flesh_is_weak_base_hive_tooltip"
				}
				else_if = {	# Machine
					limit = {
						is_machine_empire = yes
						NOR = {
							has_valid_civic = civic_machine_assimilator
							tec_has_cybernetic_ascension_path = yes
						}
					}
					custom_tooltip = "ap_the_flesh_is_weak_base_machine_tooltip"
				}
				else = {	# Fallback just in case
					custom_tooltip = "ap_the_flesh_is_weak_base_tooltip"
				}
				if = {	# Free - Neuro Quantum Links
					limit = {
						NOR = {
							has_tech_option = tech_neuro_quantum_links
							has_technology = tech_neuro_quantum_links
						}
					}
					custom_tooltip = "tec_ap_unlock_tech_neuro_quantum_links"
				}
			}
			if = {	# Cybernetic
				limit = {
					has_country_flag = ap_the_flesh_is_weak_cybernetics
				}
				if = {	# Already Cyborg
					limit = {
						hidden_trigger = {
							always = no
							# TODO ASCENSION - Assimilators and etc
						}
					}
					custom_tooltip = "ap_the_flesh_is_weak_cybernetics_cyborg_tooltip"
				}
				else_if = {	# Regular
					limit = {
						hidden_trigger = {
							is_gestalt = no
						}
					}
					custom_tooltip = "ap_the_flesh_is_weak_cybernetics_tooltip"
				}
				else_if = {	# Hive
					limit = {
						hidden_trigger = {
							is_hive_empire = yes
						}
					}
					custom_tooltip = "ap_the_flesh_is_weak_cybernetics_hive_tooltip"
				}
				else_if = {	# Machine
					limit = {
						hidden_trigger = {
							is_machine_empire = yes
						}
					}
					custom_tooltip = "ap_the_flesh_is_weak_cybernetics_machine_tooltip"
				}
				else = {	# Fallback just in case
					custom_tooltip = "ap_the_flesh_is_weak_cybernetics_tooltip"
				}
				custom_tooltip = "ap_the_flesh_is_weak_cybernetics_tradition"
			}
			if = {	# Bioware
				limit = {
					has_country_flag = ap_the_flesh_is_weak_bioware
				}
				if = {	# Already bioborg
					limit = {
						hidden_trigger = {
							always = no
							# TODO ASCENSION - Already having bioware
						}
					}
					custom_tooltip = "ap_the_flesh_is_weak_bioware_bioborg_tooltip"
				}
				else_if = {	# Regular
					limit = {
						hidden_trigger = {
							is_gestalt = no
						}
					}
					custom_tooltip = "ap_the_flesh_is_weak_bioware_tooltip"
				}
				else_if = {	# Hives
					limit = {
						hidden_trigger = {
							is_hive_empire = yes
						}
					}
					custom_tooltip = "ap_the_flesh_is_weak_bioware_hive_tooltip"
				}
				else_if = {	# Machines
					limit = {
						hidden_trigger = {
							is_machine_empire = yes
						}
					}
					custom_tooltip = "ap_the_flesh_is_weak_bioware_machine_tooltip"
				}
				else = {	# Fallback just in case
					custom_tooltip = "ap_the_flesh_is_weak_bioware_tooltip"
				}
				custom_tooltip = "ap_the_flesh_is_weak_bioware_tradition"
			}
		}
		ai_weight = {
			factor = @tec_force_path_ap_weight
			# TODO ETHIC REWORK - Better account for ethics and subpaths
			# Ethic
				modifier = {
					factor = 0.75
					NOR = {
						is_industrialist = yes
						is_materialist = yes
						has_valid_civic = civic_machine_assimilator
						has_authority = auth_tec_hive_cybernetic
						AND = {
							is_spiritualist = yes
							tec_is_robot_lover = yes
						}
					}
				}
				modifier = {
					factor = 1.25
					OR = {
						is_industrialist = yes
						is_materialist = yes
						has_valid_civic = civic_machine_assimilator
						has_authority = auth_tec_hive_cybernetic
						AND = {
							is_spiritualist = yes
							tec_is_robot_lover = yes
						}
					}
				}
			# /
			# Overlord
				modifier = {
					factor = 2
					is_subject = yes
					overlord = {
						tec_has_technological_cybernetic_ascension_path = yes
					}
				}
			# /
			# Pop types
				modifier = {
					factor = 1.5
					pop_percentage = {
						percentage >= 0.20
						limit = {
							has_trait = "trait_mechanical"
						}
					}
				}
			# /
			# Ascension Controller
				# Note: This affect mixed paths
				# Global checker
				modifier = {
					factor = 0.75
					event_target:global_event_country = {
						check_variable = {
							which = tec_number_of_technoascended_empires
							value >= 2
						}
					}
					tec_is_technological_cybernetic_ascension_beeliner = no
				}
				modifier = {
					factor = 0.75
					event_target:global_event_country = {
						check_variable = {
							which = tec_number_of_technoascended_empires
							value >= 3
						}
					}
					tec_is_technological_cybernetic_ascension_beeliner = no
				}
				modifier = {
					factor = 0.75
					event_target:global_event_country = {
						check_variable = {
							which = tec_number_of_technoascended_empires
							value >= 4
						}
					}
					tec_is_technological_cybernetic_ascension_beeliner = no
				}
			# /
			# Other factors
				modifier = {
					factor = 0
					#Avoid confusion for ais, better standard paths
					is_ai = yes
					has_country_flag = tec_desires_to_be_pure
				}
			# /
		}
	 # /
	 tradition_swap = {	# Cybernetics
		name = ap_the_flesh_is_weak_cybernetics
		inherit_effects = no
		inherit_icon = no
		inherit_name = no
		trigger = {	# TODO ASCENSION
			has_country_flag = ap_the_flesh_is_weak_cybernetics
		}
		on_enabled = {
			if = {	# Already Cyborg
				limit = {
					hidden_trigger = {
						always = no
						# TODO ASCENSION - Assimilators and etc
					}
				}
				custom_tooltip = "ap_the_flesh_is_weak_cybernetics_cyborg_tooltip"
			}
			else_if = {	# Regular
				limit = {
					hidden_trigger = {
						is_gestalt = no
					}
				}
				custom_tooltip = "ap_the_flesh_is_weak_cybernetics_tooltip"
			}
			else_if = {	# Hive
				limit = {
					hidden_trigger = {
						is_hive_empire = yes
					}
				}
				custom_tooltip = "ap_the_flesh_is_weak_cybernetics_hive_tooltip"
			}
			else_if = {	# Machine
				limit = {
					hidden_trigger = {
						is_machine_empire = yes
					}
				}
				custom_tooltip = "ap_the_flesh_is_weak_cybernetics_machine_tooltip"
			}
			custom_tooltip = "ap_the_flesh_is_weak_cybernetics_tradition"
		}
		weight = {
			factor = @tec_force_ap_swap_weight
		}
	 }
	 tradition_swap = {	# Bioware
		name = ap_the_flesh_is_weak_bioware
		inherit_effects = no
		inherit_icon = no
		inherit_name = no
		trigger = {	# TODO ASCENSION
			has_country_flag = ap_the_flesh_is_weak_bioware
		}
		on_enabled = {
			if = {	# Already cyborg
				limit = {
					hidden_trigger = {
						always = no
						# TODO ASCENSION - Already having bioware
					}
				}
				custom_tooltip = "ap_the_flesh_is_weak_bioware_bioborg_tooltip"
			}
			else_if = {	# Regular
				limit = {
					hidden_trigger = {
						is_gestalt = no
					}
				}
				custom_tooltip = "ap_the_flesh_is_weak_bioware_tooltip"
			}
			else_if = {	# Hives
				limit = {
					hidden_trigger = {
						is_hive_empire = yes
					}
				}
				custom_tooltip = "ap_the_flesh_is_weak_bioware_hive_tooltip"
			}
			else_if = {	# Machines
				limit = {
					hidden_trigger = {
						is_machine_empire = yes
					}
				}
				custom_tooltip = "ap_the_flesh_is_weak_bioware_machine_tooltip"
			}
			custom_tooltip = "ap_the_flesh_is_weak_bioware_tradition"
		}
		weight = {
			factor = @tec_force_ap_swap_weight
		}
	 }
	}
	ap_organo_machine_interfacing_assimilator = {	# Why 3 variants of the same ap? PAIN
	 # Base - Allows branching
		potential = {
			OR = {
				has_utopia = yes
				has_machine_age_dlc = yes
			}
			# Auth lockers
			is_machine_empire = yes
			has_civic = civic_machine_assimilator
			# Path lockers
			tec_has_main_ascension_path = no
			is_natural_design_empire = no
		}
		possible = {
			custom_tooltip = {
				fail_text = "requires_ascension_perks_2"
				num_ascension_perks > 1
			}
			custom_tooltip = {
				fail_text = "tec_ap_require_tech_colonial_centralization"
				has_technology = tech_colonial_centralization
			}
			custom_tooltip = {
				fail_text = "requires_technology_integrated_cybernetics"
				has_technology = tech_integrated_cybernetics
			}
			custom_tooltip = {
				fail_text = "synthetic_empire_synthetic_ascension"
				NOT = { has_trait = trait_mechanical }
			}
			custom_tooltip = {
				fail_text = "requires_free_tradition_tree"
				num_tradition_categories < @max_tradition_trees
			}
			custom_tooltip = {
				fail_text = "tec_blocked_path"
				NOR = {
					# Locked if the empire has picked another T1 or T2
					# Completed main perk
						tec_has_psionic_ascension_path = yes
						tec_has_genetic_ascension_path = yes
						#tec_has_cybernetic_ascension_path = yes
						tec_has_synthetic_ascension_path = yes
					# /
					# Completed T2 evolved perk
						has_ascension_perk = ap_tec_psionic_ascendance			# perfect psi
						has_ascension_perk = ap_tec_genetic_perfection			# perfect bio
						has_ascension_perk = ap_tec_cybernetic_revolution		# perfect cyborg
						has_ascension_perk = ap_tec_synthetic_singularity		# perfect synth
						has_ascension_perk = ap_tec_biogenic_mutation			# perfect biogenics
						has_ascension_perk = ap_tec_bioware_combination			# perfect bioware
						has_ascension_perk = ap_tec_psychic_elevation			# perfect psychic
						has_ascension_perk = ap_tec_ethereal_transmutation		# perfect ethereal
					# /
					# Completed mixed path
						has_ascension_perk = ap_tec_replicant
						has_ascension_perk = ap_tec_biopsionic
						has_ascension_perk = ap_tec_cyberpsionic
						has_ascension_perk = ap_tec_biopsychic
						has_ascension_perk = ap_tec_cyberpsychic
					# /
				}
			}
			custom_tooltip = {
				fail_text = tec_crisis_cant_pick_ap
				is_crisis_faction = no
			}
		}
		on_enabled = {
			# Effects on tec_ascension.20
			# Note: tooltips must be here because apparently swaps don't add them for some reason
			if = {	# Base
				limit = {
					NOR = {
						has_country_flag = ap_the_flesh_is_weak_cybernetics
						has_country_flag = ap_the_flesh_is_weak_bioware
					}
				}
				# Situation
				if = {	# Cyborgs - upgrade or swap to bioware
					limit = {
						OR = {
							tec_has_cybernetic_ascension_path = yes
							tec_is_cyberhive = yes
							has_valid_civic = civic_machine_assimilator
						}
					}
					custom_tooltip = "ap_the_flesh_is_weak_base_cyborg_tooltip"
				}
				else_if = {	# Non Cyborgs
					limit = {
						NOR = {
							is_hive_empire = yes
							is_machine_empire = yes
							tec_has_cybernetic_ascension_path = yes
							tec_is_cyberhive = yes
							has_valid_civic = civic_machine_assimilator
						}
					}
					custom_tooltip = "ap_the_flesh_is_weak_base_tooltip"
				}
				else_if = {	# Hive
					limit = {
						is_hive_empire = yes
						NOR = {
							tec_is_cyberhive = yes
							tec_has_cybernetic_ascension_path = yes
						}
					}
					custom_tooltip = "ap_the_flesh_is_weak_base_hive_tooltip"
				}
				else_if = {	# Machine
					limit = {
						is_machine_empire = yes
						NOR = {
							has_valid_civic = civic_machine_assimilator
							tec_has_cybernetic_ascension_path = yes
						}
					}
					custom_tooltip = "ap_the_flesh_is_weak_base_machine_tooltip"
				}
				else = {	# Fallback just in case
					custom_tooltip = "ap_the_flesh_is_weak_base_tooltip"
				}
				if = {	# Free - Neuro Quantum Links
					limit = {
						NOR = {
							has_tech_option = tech_neuro_quantum_links
							has_technology = tech_neuro_quantum_links
						}
					}
					custom_tooltip = "tec_ap_unlock_tech_neuro_quantum_links"
				}
			}
			if = {	# Cybernetic
				limit = {
					has_country_flag = ap_the_flesh_is_weak_cybernetics
				}
				if = {	# Already Cyborg
					limit = {
						hidden_trigger = {
							always = no
							# TODO ASCENSION - Assimilators and etc
						}
					}
					custom_tooltip = "ap_the_flesh_is_weak_cybernetics_cyborg_tooltip"
				}
				else_if = {	# Regular
					limit = {
						hidden_trigger = {
							is_gestalt = no
						}
					}
					custom_tooltip = "ap_the_flesh_is_weak_cybernetics_tooltip"
				}
				else_if = {	# Hive
					limit = {
						hidden_trigger = {
							is_hive_empire = yes
						}
					}
					custom_tooltip = "ap_the_flesh_is_weak_cybernetics_hive_tooltip"
				}
				else_if = {	# Machine
					limit = {
						hidden_trigger = {
							is_machine_empire = yes
						}
					}
					custom_tooltip = "ap_the_flesh_is_weak_cybernetics_machine_tooltip"
				}
				else = {	# Fallback just in case
					custom_tooltip = "ap_the_flesh_is_weak_cybernetics_tooltip"
				}
				custom_tooltip = "ap_the_flesh_is_weak_cybernetics_tradition"
			}
			if = {	# Bioware
				limit = {
					has_country_flag = ap_the_flesh_is_weak_bioware
				}
				if = {	# Already bioborg
					limit = {
						hidden_trigger = {
							always = no
							# TODO ASCENSION - Already having bioware
						}
					}
					custom_tooltip = "ap_the_flesh_is_weak_bioware_bioborg_tooltip"
				}
				else_if = {	# Regular
					limit = {
						hidden_trigger = {
							is_gestalt = no
						}
					}
					custom_tooltip = "ap_the_flesh_is_weak_bioware_tooltip"
				}
				else_if = {	# Hives
					limit = {
						hidden_trigger = {
							is_hive_empire = yes
						}
					}
					custom_tooltip = "ap_the_flesh_is_weak_bioware_hive_tooltip"
				}
				else_if = {	# Machines
					limit = {
						hidden_trigger = {
							is_machine_empire = yes
						}
					}
					custom_tooltip = "ap_the_flesh_is_weak_bioware_machine_tooltip"
				}
				else = {	# Fallback just in case
					custom_tooltip = "ap_the_flesh_is_weak_bioware_tooltip"
				}
				custom_tooltip = "ap_the_flesh_is_weak_bioware_tradition"
			}
		}
		ai_weight = {
			factor = @tec_force_path_ap_weight
			# TODO ETHIC REWORK - Better account for ethics and subpaths
			# Ethic
				modifier = {
					factor = 0.75
					NOR = {
						is_industrialist = yes
						is_materialist = yes
						has_valid_civic = civic_machine_assimilator
						has_authority = auth_tec_hive_cybernetic
						AND = {
							is_spiritualist = yes
							tec_is_robot_lover = yes
						}
					}
				}
				modifier = {
					factor = 1.25
					OR = {
						is_industrialist = yes
						is_materialist = yes
						has_valid_civic = civic_machine_assimilator
						has_authority = auth_tec_hive_cybernetic
						AND = {
							is_spiritualist = yes
							tec_is_robot_lover = yes
						}
					}
				}
			# /
			# Overlord
				modifier = {
					factor = 2
					is_subject = yes
					overlord = {
						tec_has_technological_cybernetic_ascension_path = yes
					}
				}
			# /
			# Pop types
				modifier = {
					factor = 1.5
					pop_percentage = {
						percentage >= 0.20
						limit = {
							has_trait = "trait_mechanical"
						}
					}
				}
			# /
			# Ascension Controller
				# Note: This affect mixed paths
				# Global checker
				modifier = {
					factor = 0.75
					event_target:global_event_country = {
						check_variable = {
							which = tec_number_of_technoascended_empires
							value >= 2
						}
					}
					tec_is_technological_cybernetic_ascension_beeliner = no
				}
				modifier = {
					factor = 0.75
					event_target:global_event_country = {
						check_variable = {
							which = tec_number_of_technoascended_empires
							value >= 3
						}
					}
					tec_is_technological_cybernetic_ascension_beeliner = no
				}
				modifier = {
					factor = 0.75
					event_target:global_event_country = {
						check_variable = {
							which = tec_number_of_technoascended_empires
							value >= 4
						}
					}
					tec_is_technological_cybernetic_ascension_beeliner = no
				}
			# /
			# Other factors
				modifier = {
					factor = 0
					#Avoid confusion for ais, better standard paths
					is_ai = yes
					has_country_flag = tec_desires_to_be_pure
				}
			# /
		}
	 # /
	 tradition_swap = {	# Cybernetics
		name = ap_the_flesh_is_weak_cybernetics
		inherit_effects = no
		inherit_icon = no
		inherit_name = no
		trigger = {	# TODO ASCENSION
			has_country_flag = ap_the_flesh_is_weak_cybernetics
		}
		on_enabled = {
			if = {	# Already Cyborg
				limit = {
					hidden_trigger = {
						always = no
						# TODO ASCENSION - Assimilators and etc
					}
				}
				custom_tooltip = "ap_the_flesh_is_weak_cybernetics_cyborg_tooltip"
			}
			else_if = {	# Regular
				limit = {
					hidden_trigger = {
						is_gestalt = no
					}
				}
				custom_tooltip = "ap_the_flesh_is_weak_cybernetics_tooltip"
			}
			else_if = {	# Hive
				limit = {
					hidden_trigger = {
						is_hive_empire = yes
					}
				}
				custom_tooltip = "ap_the_flesh_is_weak_cybernetics_hive_tooltip"
			}
			else_if = {	# Machine
				limit = {
					hidden_trigger = {
						is_machine_empire = yes
					}
				}
				custom_tooltip = "ap_the_flesh_is_weak_cybernetics_machine_tooltip"
			}
			custom_tooltip = "ap_the_flesh_is_weak_cybernetics_tradition"
		}
		weight = {
			factor = @tec_force_ap_swap_weight
		}
	 }
	 tradition_swap = {	# Bioware
		name = ap_the_flesh_is_weak_bioware
		inherit_effects = no
		inherit_icon = no
		inherit_name = no
		trigger = {	# TODO ASCENSION
			has_country_flag = ap_the_flesh_is_weak_bioware
		}
		on_enabled = {
			if = {	# Already cyborg
				limit = {
					hidden_trigger = {
						always = no
						# TODO ASCENSION - Already having bioware
					}
				}
				custom_tooltip = "ap_the_flesh_is_weak_bioware_bioborg_tooltip"
			}
			else_if = {	# Regular
				limit = {
					hidden_trigger = {
						is_gestalt = no
					}
				}
				custom_tooltip = "ap_the_flesh_is_weak_bioware_tooltip"
			}
			else_if = {	# Hives
				limit = {
					hidden_trigger = {
						is_hive_empire = yes
					}
				}
				custom_tooltip = "ap_the_flesh_is_weak_bioware_hive_tooltip"
			}
			else_if = {	# Machines
				limit = {
					hidden_trigger = {
						is_machine_empire = yes
					}
				}
				custom_tooltip = "ap_the_flesh_is_weak_bioware_machine_tooltip"
			}
			custom_tooltip = "ap_the_flesh_is_weak_bioware_tradition"
		}
		weight = {
			factor = @tec_force_ap_swap_weight
		}
	 }
	}
	# Tier II
	ap_tec_cybernetic_revolution = {	# Cybernetics Tier II	TODO ASCENSION
	 # Base
		potential = {
			# has_ascension_perk = ap_tec_cybernetic_fascination
			OR = {
				has_utopia = yes
				has_machine_age_dlc = yes
			}
			# Auth lockers
			is_mechanical_empire = no
			OR = {
				tec_has_cybernetic_ascension_path_exception = yes
				is_machine_empire = no
			}
			# Path Lockers
			OR = {
				tec_has_main_ascension_path = no
				tec_has_cybernetic_ascension_path = yes
			}
			tec_has_secondary_ascension_path = no
		}
		possible = {
			custom_tooltip = {
				fail_text = "requires_ascension_perks_5"
				num_ascension_perks > 4
			}
			custom_tooltip = {
				fail_text = "tec_ap_require_tech_galactic_administration"
				has_technology = tech_galactic_administration
			}
			custom_tooltip = {	# Tradition
				fail_text = "ap_tec_cybernetic_revolution_requirements_path"
				has_tradition = tr_cybernetics_finish
				has_country_flag = tec_cybernetics_gate_completed
			}
			custom_tooltip = {
				fail_text = "synthetic_empire_synthetic_ascension"
				NOT = { has_trait = trait_mechanical }
			}
			custom_tooltip = {
				fail_text = "requires_technology_droid_workers_hive"
				OR = {
					has_technology = tech_droid_workers
					has_valid_civic = civic_tec_origin_mecha_perfectionists
				}
			}
			custom_tooltip = {
				fail_text = "requires_not_shroudwalker_apprentice"
				NOT = { has_origin = origin_shroudwalker_apprentice }
			}
			custom_tooltip = {
				fail_text = "hive_mind_biological_ascension_only2"
				NAND = {
					is_hive_empire = yes
					NOT = {
						tec_is_cyberhive = yes
					}
				}
			}
			custom_tooltip = {
				fail_text = "tec_blocked_path"
				NOR = {
					# Locked if the empire has picked another T1 or T2
					# Completed main perk
						tec_has_psionic_ascension_path = yes
						tec_has_genetic_ascension_path = yes
						#tec_has_cybernetic_ascension_path = yes
						tec_has_synthetic_ascension_path = yes
					# /
					# Completed T2 evolved perk
						has_ascension_perk = ap_tec_psionic_ascendance			# perfect psi
						has_ascension_perk = ap_tec_genetic_perfection			# perfect bio
						#has_ascension_perk = ap_tec_cybernetic_revolution		# perfect cyborg
						has_ascension_perk = ap_tec_synthetic_singularity		# perfect synth
						has_ascension_perk = ap_tec_biogenic_mutation			# perfect biogenics
						has_ascension_perk = ap_tec_bioware_combination			# perfect bioware
						has_ascension_perk = ap_tec_psychic_elevation			# perfect psychic
						has_ascension_perk = ap_tec_ethereal_transmutation		# perfect ethereal
					# /
					# Completed mixed path
						has_ascension_perk = ap_tec_replicant
						has_ascension_perk = ap_tec_biopsionic
						has_ascension_perk = ap_tec_cyberpsionic
						has_ascension_perk = ap_tec_biopsychic
						has_ascension_perk = ap_tec_cyberpsychic
					# /
				}
			}
		}
		on_enabled = {
			hidden_effect = {
				if = {
					limit = {
						has_country_flag = tec_advanced_ascension
					}
					tec_give_t2_cybernetics_effect = yes
				}
				else = {
					country_event = {
						id = tec_cybernetic_path.200
					}
				}
			}
			custom_tooltip = ap_tec_cybernetic_revolution_tooltip
			#custom_tooltip = tec_ap_unlock_cybernetic_revolution_tradition
		}
		modifier = {
			modify_species_cost_mult = @ap_evolutionary_mastery_COST_MULT
		}
		ai_weight = {
			factor = @tec_force_ap_weight
		}
	 # /
	 #tradition_swap = {	# Editors
	 #}
	 #tradition_swap = {	# Improvers
	 #}
	}
	ap_tec_bioware_combination = {					# Bioware Tier II	TODO ASCENSION
		potential = {
			always = no
		}
		possible = {
			always = no
		}
	}
# /

# ------------------------------------------------- Synthetics
	# Tier I
	ap_synthetic_evolution = {			# Synthetics Tier I
	 # BASE - Allows branching
		potential = {
			OR = {
				has_utopia = yes
				has_machine_age_dlc = yes
			}
			# Auth lockers
			is_mechanical_empire = no
			is_individual_machine = no
			is_machine_empire = no
			# Path Lockers
			tec_has_main_ascension_path = no
			tec_has_secondary_ascension_path = no
			# TODO ASCENSION
			is_hive_empire = no
		}
		possible = {
			custom_tooltip = {
				fail_text = "requires_ascension_perks_2"
				num_ascension_perks > 1
			}
			custom_tooltip = {
				fail_text = "tec_ap_require_tech_colonial_centralization"
				has_technology = tech_colonial_centralization
			}
			custom_tooltip = {
				fail_text = "tec_ap_require_tech_droid_workers"
				has_technology = tech_droid_workers
			}
			custom_tooltip = {
				fail_text = "requires_not_shroudwalker_apprentice"
				NOT = { has_origin = origin_shroudwalker_apprentice }
			}
			custom_tooltip = {
				fail_text = "synthetic_empire_synthetic_ascension"
				NOT = { has_trait = trait_mechanical }
			}
			custom_tooltip = {
				fail_text = "hive_mind_biological_ascension_only2"
				NOT = { is_hive_empire = yes }
			}
			custom_tooltip = {
				fail_text = "requires_free_tradition_tree"
				num_tradition_categories < @max_tradition_trees
			}
			custom_tooltip = {
				fail_text = "tec_blocked_path"
				NOR = {
					# Completed main perk
						tec_has_psionic_ascension_path = yes
						tec_has_genetic_ascension_path = yes
						tec_has_cybernetic_ascension_path = yes
						#tec_has_synthetic_ascension_path = yes
					# /
				}
			}
		}
		on_enabled = {
			# Effects on tec_ascension.30
			# Note: tooltips must be here because apparently swaps don't add them for some reason
			if = {	# Base
				limit = {
					NOR = {
						has_country_flag = ap_synthetic_evolution_mechanical
						has_country_flag = ap_synthetic_evolution_digital
					}
				}
				# Situation
				if = {	# Robot empire
					limit = {
						OR = {
							has_country_flag = synthetic_empire
							tec_has_synthetic_ascension_origin = yes
						}
					}
					custom_tooltip = "ap_synthetic_evolution_base_robot_tooltip"
				}
				else_if = {	# Non machine
					limit = {
						is_hive_empire = yes
					}
					custom_tooltip = "ap_synthetic_evolution_base_hive_tooltip"
				}
				else_if = {	# Non machine
					limit = {
						is_machine_empire = no
					}
					custom_tooltip = "ap_synthetic_evolution_base_tooltip"
				}
				else = {	# Fallback just in case
					custom_tooltip = "ap_synthetic_evolution_base_tooltip"
				}
				# Notifications
				if = {	# Necrophages
					limit = {
						has_origin = origin_necrophage
						has_trait = trait_necrophage
					}
					custom_tooltip = disables_necrophage_features
				}
				if = {	# Clone Army
					limit = {
						has_origin = origin_clone_army
						OR = {
							has_trait = trait_clone_soldier_infertile
							has_trait = trait_clone_soldier_infertile_full_potential
							has_trait = trait_clone_soldier_fertile
						}
					}
					custom_tooltip = disables_clone_army_origin_features
				}
				if = {	# Overtuned
					limit = {
						has_origin = origin_overtuned
					}
					custom_tooltip = disables_overtuned_features
				}
				if = {	# Idyllic
					limit = {
						tec_is_idyllic_bloom_empire = yes
					}
					custom_tooltip = disables_idyllic_bloom
				}
				# Techs
				if = {	# Free - Synths
					limit = {
						NOR = {
							has_tech_option = tech_synthetic_workers
							has_technology = tech_synthetic_workers
						}
					}
					custom_tooltip = "tec_ap_unlock_tech_synthetic_workers"
				}
				if = {	# Free - Synth leaders
					limit = {
						NOR = {
							has_tech_option = tech_synthetic_leaders
							has_technology = tech_synthetic_leaders
						}
					}
					custom_tooltip = "tec_ap_unlock_tech_synthetic_leaders"
				}
			}
			if = {	# Mechanical
				limit = {
					has_country_flag = ap_synthetic_evolution_mechanical
				}
				if = {	# Regular
					limit = {
						hidden_trigger = {
							is_machine_empire = no
						}
					}
					custom_tooltip = "ap_synthetic_evolution_mechanical_tooltip"
				}
				else_if = {	# Machine
					limit = {
						hidden_trigger = {
							is_machine_empire = yes
						}
					}
					custom_tooltip = "ap_synthetic_evolution_mechanical_machine_tooltip"
				}
				custom_tooltip = "ap_synthetic_evolution_mechanical_tradition"
			}
			if = {	# Digital
				limit = {
					has_country_flag = ap_synthetic_evolution_digital
				}
				if = {	# Regular
					limit = {
						hidden_trigger = {
							is_machine_empire = no
						}
					}
					custom_tooltip = "ap_synthetic_evolution_digital_tooltip"
				}
				else_if = {	# Machines
					limit = {
						hidden_trigger = {
							is_machine_empire = yes
						}
					}
					custom_tooltip = "ap_synthetic_evolution_digital_machine_tooltip"
				}
				custom_tooltip = "ap_synthetic_evolution_digital_tradition"
			}
		}
		ai_weight = {
			# TODO ASCENSION - Allow for AIs
			weight = 0
			#not as common, ais are bad at being bots
			modifier = {
				factor = 0.1
				NOR = {
					OR = {
						has_ethic = ethic_materialist
						has_ethic = ethic_fanatic_materialist
					}
					OR = {
						has_ethic = ethic_industrialist
						has_ethic = ethic_fanatic_industrialist
					}
				}
			}
			# disablers
			modifier = {
				factor = 0
				OR = {
					has_origin = origin_necrophage
					has_origin = origin_slavers
					has_valid_civic = civic_tec_origin_gaia_affinity
					has_valid_civic = civic_tec_origin_neuroslug
					has_valid_civic = civic_tec_origin_elders
				}
			}
		}
	 # /
	 tradition_swap = {	# Mechanical
		name = ap_synthetic_evolution_mechanical
		inherit_effects = no
		inherit_icon = no
		inherit_name = no
		trigger = {	# TODO ASCENSION
			has_country_flag = ap_synthetic_evolution_mechanical
		}
		on_enabled = {
			if = {	# Regular
				limit = {
					hidden_trigger = {
						is_machine_empire = no
					}
				}
				custom_tooltip = "ap_synthetic_evolution_mechanical_tooltip"
			}
			else_if = {	# Machine
				limit = {
					hidden_trigger = {
						is_machine_empire = yes
					}
				}
				custom_tooltip = "ap_synthetic_evolution_mechanical_machine_tooltip"
			}
			custom_tooltip = "ap_synthetic_evolution_mechanical_tradition"
		}
		weight = {
			factor = @tec_force_ap_swap_weight
		}
	 }
	 tradition_swap = {	# Digital
		name = ap_synthetic_evolution_digital
		inherit_effects = no
		inherit_icon = no
		inherit_name = no
		trigger = {	# TODO ASCENSION
			has_country_flag = ap_synthetic_evolution_digital
		}
		on_enabled = {
			if = {	# Regular
				limit = {
					hidden_trigger = {
						is_gestalt = no
					}
				}
				custom_tooltip = "ap_synthetic_evolution_digital_tooltip"
			}
			else_if = {	# Machine or already robotic
				limit = {
					hidden_trigger = {
						tec_is_synthetic_empire = yes
					}
				}
				custom_tooltip = "ap_synthetic_evolution_digital_machine_tooltip"
			}
			custom_tooltip = "ap_synthetic_evolution_digital_tradition"
		}
		weight = {
			factor = @tec_force_ap_swap_weight
		}
	 }
	}
	ap_synthetic_age = {				# (machine) Mechanical Tier I
	 # BASE - Allows branching
		potential = {
			OR = {
				has_synthetic_dawn = yes
				has_machine_age_dlc = yes
			}
			# Auth lockers
			OR = {
				is_machine_empire = yes
				is_individual_machine = yes
			}
			# Path lockers
			tec_has_main_ascension_path = no
			tec_has_secondary_ascension_path = no
			is_natural_design_empire = no
		}
		possible = {
			custom_tooltip = {
				fail_text = "requires_ascension_perks_2"
				num_ascension_perks > 1
			}
			custom_tooltip = {
				fail_text = "tec_ap_require_tech_colonial_centralization"
				has_technology = tech_colonial_centralization
			}
			custom_tooltip = {
				fail_text = "requires_free_tradition_tree"
				num_tradition_categories < @max_tradition_trees
			}
		}
		on_enabled = {
			if = {	# Base
				limit = {
					NOR = {
						has_country_flag = ap_synthetic_age_mechanical
						has_country_flag = ap_synthetic_age_digital
						has_country_flag = ap_synthetic_age_modularity
						has_country_flag = ap_synthetic_age_nanotech
						has_country_flag = ap_synthetic_age_virtuality
						# Or directly the traditions
						has_tradition = tr_modularity_adopt
						has_tradition = tr_nanotech_adopt
						has_tradition = tr_virtuality_adopt
					}
				}
				custom_tooltip = "ap_synthetic_age_base_tooltip"
				# Effects on tec_ascension.50
				if = {	# Pre-steps - robomodding
					limit = {
						NOR = {
							has_tech_option = tech_robomodding_m
							has_technology = tech_robomodding_m
						}
					}
					custom_tooltip = "tec_ap_unlock_tech_robomodding_m"
					hidden_effect = {
						add_research_option = tech_robomodding_m
					}
				}
			}
			# Evolved
			else_if = {	# Mechanical
				limit = {
					has_country_flag = ap_synthetic_age_mechanical
				}
				custom_tooltip = "ap_synthetic_age_mechanical_tooltip"
				custom_tooltip = "ap_synthetic_age_mechanical_tradition"
			}
			else_if = {	# Digital
				limit = {
					has_country_flag = ap_synthetic_age_digital
				}
				custom_tooltip = "ap_synthetic_age_digital_tooltip"
				custom_tooltip = "ap_synthetic_age_digital_tradition"
			}
			# Vanilla
			else_if = {	# Modularity
				limit = {
					OR = {
						has_country_flag = ap_synthetic_age_modularity
						has_tradition = tr_modularity_adopt
					}
				}
				custom_tooltip = "ap_synthetic_age_modularity_tooltip"
				custom_tooltip = "ap_synthetic_age_modularity_tradition"
			}
			else_if = {	# Nanotech
				limit = {
					OR = {
						has_country_flag = ap_synthetic_age_nanotech
						has_tradition = tr_nanotech_adopt
					}
				}
				custom_tooltip = "ap_synthetic_age_nanotech_tooltip"
				custom_tooltip = "ap_synthetic_age_nanotech_tradition"
			}
			else_if = {	# Virtuality
				limit = {
					OR = {
						has_country_flag = ap_synthetic_age_virtuality
						has_tradition = tr_virtuality_adopt
					}
				}
				custom_tooltip = "ap_synthetic_age_virtuality_tooltip"
				custom_tooltip = "ap_synthetic_age_virtuality_tradition"
			}
			else = {	# Fallback
				custom_tooltip = "ap_synthetic_age_base_tooltip"
			}
		}
		ai_weight = {
			factor = @tec_force_path_ap_weight
		}
	 # /
	 # Evolved note: The machine age effect is triggered when the situation ends
	 #tradition_swap = {	# Vanilla discarded
		#inherit_name = yes
		#inherit_effects = no
		#inherit_icon = yes
		#trigger = {
		#	has_machine_age_dlc = yes
		#}
		#custom_tooltip = "synthetic_age_tooltip_machine_age"
		#on_enabled = {
		#	hidden_effect = {
		#		country_event = { id = machine_age.4000 }
		#	}
		#}
		#weight = {
		#	factor = 1
		#}
	 #}
	 tradition_swap = {	# mechanical
		name = ap_synthetic_age_mechanical
		inherit_effects = no
		inherit_icon = yes
		inherit_name = no
		trigger = {
			has_country_flag = ap_synthetic_age_mechanical
		}
		on_enabled = {
			custom_tooltip = "ap_synthetic_age_mechanical_tooltip"
			custom_tooltip = "ap_synthetic_age_mechanical_tradition"
		}
		weight = {
			factor = @tec_force_ap_swap_weight
		}
	 }
	 tradition_swap = {	# Digital
		name = ap_synthetic_age_digital
		inherit_effects = no
		inherit_icon = yes
		inherit_name = no
		trigger = {
			has_country_flag = ap_synthetic_age_digital
		}
		on_enabled = {
			custom_tooltip = "ap_synthetic_age_digital_tooltip"
			custom_tooltip = "ap_synthetic_age_digital_tradition"
		}
		weight = {
			factor = @tec_force_ap_swap_weight
		}
	 }
	 tradition_swap = {	# Modularity
		name = ap_synthetic_age_modularity
		inherit_effects = no
		inherit_icon = yes
		inherit_name = no
		trigger = {
			OR = {
				has_country_flag = ap_synthetic_age_modularity
				has_tradition = tr_modularity_adopt
			}
		}
		on_enabled = {
			custom_tooltip = "ap_synthetic_age_modularity_tooltip"
			custom_tooltip = "ap_synthetic_age_modularity_tradition"
		}
		weight = {
			factor = @tec_force_ap_swap_weight
		}
	 }
	 tradition_swap = {	# Nanotech
		name = ap_synthetic_age_nanotech
		inherit_effects = no
		inherit_icon = yes
		inherit_name = no
		trigger = {
			OR = {
				has_country_flag = ap_synthetic_age_nanotech
				has_tradition = tr_nanotech_adopt
			}
		}
		on_enabled = {
			custom_tooltip = "ap_synthetic_age_nanotech_tooltip"
			custom_tooltip = "ap_synthetic_age_nanotech_tradition"
		}
		weight = {
			factor = @tec_force_ap_swap_weight
		}
	 }
	 tradition_swap = {	# Virtuality
		name = ap_synthetic_age_virtuality
		inherit_effects = no
		inherit_icon = no
		inherit_name = no
		trigger = {
			OR = {
				has_country_flag = ap_synthetic_age_virtuality
				has_tradition = tr_virtuality_adopt
			}
		}
		on_enabled = {
			custom_tooltip = "ap_synthetic_age_virtuality_tooltip"
			custom_tooltip = "ap_synthetic_age_virtuality_tradition"
		}
		weight = {
			factor = @tec_force_ap_swap_weight
		}
	 }
	}
	# Tier II
	ap_tec_synthetic_singularity = {	# Synthetics Tier II	TODO ASCENSION
	 # Base
		potential = {
			OR = {
				has_utopia = yes
				has_machine_age_dlc = yes
			}
			# Auth lockers
			# Path Lockers
			OR = {
				tec_has_main_ascension_path = no
				tec_has_synthetic_ascension_path = yes
			}

			tec_has_secondary_ascension_path = no
		}
		possible = {
			custom_tooltip = {
				fail_text = tec_disabled_temporarely
				always = no
			}
			custom_tooltip = {
				fail_text = "requires_ascension_perks_5"
				num_ascension_perks > 4
			}
			custom_tooltip = {
				fail_text = "tec_ap_require_tech_galactic_administration"
				has_technology = tech_galactic_administration
			}
			custom_tooltip = {	# Tradition
				fail_text = "ap_tec_synthetic_singularity_requirements_path"
				has_tradition = tr_synthetics_finish
				has_country_flag = tec_synthetics_gate_completed
			}
			custom_tooltip = {
				fail_text = "tec_pure_robot_project_requirements"
				NOT = { has_special_project = SYNTHETIC_EVOLUTION_PROJECT }
			}
			custom_tooltip = {
				fail_text = "hive_mind_biological_ascension_only2"
				NOT = { is_hive_empire = yes }
			}
			custom_tooltip = {
				fail_text = "requires_not_shroudwalker_apprentice"
				NOT = { has_origin = origin_shroudwalker_apprentice }
			}
			custom_tooltip = {
				fail_text = "tec_blocked_path"
				NOR = {
					# Locked if the empire has picked another T1 or T2
					# Completed main perk
						tec_has_psionic_ascension_path = yes
						tec_has_genetic_ascension_path = yes
						tec_has_cybernetic_ascension_path = yes
						#tec_has_synthetic_ascension_path = yes
					# /
					# Completed T2 evolved perk
						has_ascension_perk = ap_tec_psionic_ascendance			# perfect psi
						has_ascension_perk = ap_tec_genetic_perfection			# perfect bio
						has_ascension_perk = ap_tec_cybernetic_revolution		# perfect cyborg
						#has_ascension_perk = ap_tec_synthetic_singularity		# perfect synth
						has_ascension_perk = ap_tec_biogenic_mutation			# perfect biogenics
						has_ascension_perk = ap_tec_bioware_combination			# perfect bioware
						has_ascension_perk = ap_tec_psychic_elevation			# perfect psychic
						has_ascension_perk = ap_tec_ethereal_transmutation		# perfect ethereal
					# /
					# Completed mixed path
						has_ascension_perk = ap_tec_replicant
						has_ascension_perk = ap_tec_biopsionic
						has_ascension_perk = ap_tec_cyberpsionic
						has_ascension_perk = ap_tec_biopsychic
						has_ascension_perk = ap_tec_cyberpsychic
					# /
				}
			}
		}
		on_enabled = {
			hidden_effect = {
				if = {
					limit = {
						has_country_flag = tec_advanced_ascension
					}
					tec_give_t2_synthetics_effect = yes
				}
				else = {
					country_event = {
						id = tec_synth_path.200
					}
				}
			}
			custom_tooltip = ap_tec_synthetic_singularity_tooltip
			#custom_tooltip = tec_ap_unlock_singularity_tradition
		}
		ai_weight = {
			factor = @tec_force_path_ap_weight
		}
	 # /
	}
	ap_tec_machine_mechanic_3 = {		# (machine) Mechanical Tier II	TODO ASCENSION
	 # Base
		potential = {
			always = no
			has_synthetic_dawn = yes
			is_machine_empire = yes
			#has_ascension_perk = ap_tec_machine_mechanic_2
			NOT = {
				has_ascension_perk = ap_tec_machine_mechanic_3
			}
		}
		possible = {
			custom_tooltip = {
				fail_text = tec_disabled_temporarely
				always = no
			}
			custom_tooltip = {
				fail_text = "requires_ascension_perks_4"
				num_ascension_perks > 3
			}
			custom_tooltip = {
				fail_text = "tec_ap_require_tech_galactic_administration"
				has_technology = tech_galactic_administration
			}
			custom_tooltip = {
				fail_text = "tec_machine_t3_requirements"
				has_ascension_perk = ap_tec_machine_mechanic_2
			}
		}
		on_enabled = {
			custom_tooltip = "tec_jumptext"
			custom_tooltip = "ap_tec_machine_mechanic_3_tooltip"
			hidden_effect = {
				if = {
					limit = {
						has_country_flag = tec_advanced_ascension
					}
					tec_give_machine_cyb_t2_ap_effect = yes
				}
				else = {
					country_event = {
						id = tec_machine_path.200
					}
				}
			}
		}
		modifier = {
			MACHINE_species_trait_points_add = 4
		}
		ai_weight = {
			factor = @tec_force_path_ap_weight
		}
	 # /
	}
	#ap_tec_synthetic_superior_form
	#ap_tec_synthetic_nanoreplication
	#ap_tec_synthetic_entropy_recursion
	#ap_tec_synthetic_biomechanical_design
	#ap_tec_synthetic_psychosynthesis
# /

# ------------------------------------------------- Mixed
	# Tier Bio+Cyb
	ap_tec_replicant = {				# Biologic + Machine regular TODO ASCENSION
	 # Base
		potential = {
			has_utopia = yes
			# Auth lockers
			OR = {
				is_gestalt = no
				# TODO ASCENSION - Post machine t2
				#tec_has_cybernetic_ascension_path_exception = yes
				is_hive_empire = yes
			}
			is_mechanical_empire = no
			is_synthetic_empire = no
			# Path Lockers
			OR = {
				tec_has_main_ascension_path = no # show all times
				tec_has_cybernetic_ascension_path = yes
				tec_has_bioware_ascension_path = yes
				tec_has_genetic_ascension_path = yes
			}
			tec_has_secondary_ascension_path = no
		}
		possible = {
			custom_tooltip = {
				fail_text = "requires_ascension_perks_5"
				num_ascension_perks > 4
			}
			custom_tooltip = {
				fail_text = "tec_ap_require_tech_galactic_administration"
				has_technology = tech_galactic_administration
			}
			custom_tooltip = {
				fail_text = "ap_tec_replicant_require_cybernetic_or_genetic_tradition"
				OR = {
					has_tradition = tr_genetics_finish
					has_tradition = tr_cybernetics_finish
					has_tradition = tr_tec_bioware_finish
				}
				OR = {
					has_country_flag = tec_genetics_gate_completed
					has_country_flag = tec_cybernetics_gate_completed
					has_country_flag = tec_bioware_gate_completed
				}
			}
			custom_tooltip = {
				fail_text = "synthetic_empire_biological_ascension"
				NOT = { has_trait = trait_mechanical }
			}
			custom_tooltip = {
				fail_text = "requires_not_shroudwalker_apprentice"
				NOT = { has_origin = origin_shroudwalker_apprentice }
			}
			custom_tooltip = {
				fail_text = "tec_blocked_path"
				NOR = {
					# Completed main perk
						tec_has_psionic_ascension_path = yes
						#tec_has_genetic_ascension_path = yes
						#tec_has_cybernetic_ascension_path = yes
						tec_has_synthetic_ascension_path = yes
					# /
					# Completed T2 evolved perk
						has_ascension_perk = ap_tec_psionic_ascendance			# perfect psi
						has_ascension_perk = ap_tec_genetic_perfection			# perfect bio
						has_ascension_perk = ap_tec_cybernetic_revolution		# perfect cyborg
						has_ascension_perk = ap_tec_synthetic_singularity		# perfect synth
						has_ascension_perk = ap_tec_biogenic_mutation			# perfect biogenics
						has_ascension_perk = ap_tec_bioware_combination			# perfect bioware
						has_ascension_perk = ap_tec_psychic_elevation			# perfect psychic
						has_ascension_perk = ap_tec_ethereal_transmutation		# perfect ethereal
					# /
					# Completed mixed path
						#has_ascension_perk = ap_tec_replicant
						has_ascension_perk = ap_tec_biopsionic
						has_ascension_perk = ap_tec_cyberpsionic
						has_ascension_perk = ap_tec_biopsychic
						has_ascension_perk = ap_tec_cyberpsychic
					# /
				}
			}
		}
		on_enabled = {
			if = {
				limit = {
					NOT = {
						has_country_flag = tec_replicant_path_finished
					}
				}
				custom_tooltip = "ap_tec_replicant_tooltip"
			}
			else = {
				custom_tooltip = "ap_tec_replicant_standard_tooltip_discovered"
			}
			# Warnings
				if = {
					limit = {
						has_origin = origin_necrophage
						has_trait = trait_necrophage
					}
					custom_tooltip = ap_tec_replicant_stops_origin_necrophage
				}
				if = {
					limit = {
						has_origin = origin_clone_army
					}
					custom_tooltip = ap_tec_replicant_stops_origin_clone_army
				}
				if = {
					limit = {
						has_valid_civic = civic_tec_origin_elders
					}
					custom_tooltip = ap_tec_replicant_stops_elder
				}
			# /
			hidden_effect = {
				# Global Controller
				# /
				# Effects
					if = {
						limit = {
							has_country_flag = tec_advanced_ascension
						}
						tec_give_t2_replicant_effect = yes
					}
					else = {
						country_event = {
							id = tec_replicant_path.200
						}
					}
				# /
			}
			if = {	# Pre-steps - Gene Tailoring
				limit = {
					NOR = {
						has_tech_option = tech_gene_tailoring
						has_technology = tech_gene_tailoring
					}
				}
				custom_tooltip = tec_ap_unlock_tech_gene_tailoring
				hidden_effect = {
					add_research_option = tech_gene_tailoring
				}
			}
			if = {	# Pre-steps - Quantum
				limit = {
					NOR = {
						has_tech_option = tech_neuro_quantum_links
						has_technology = tech_neuro_quantum_links
					}
				}
				custom_tooltip = tec_ap_unlock_tech_neuro_quantum_links
				hidden_effect = {
					add_research_option = tech_neuro_quantum_links
				}
			}
			if = {	# Genetic bonuses
				limit = {
					tec_has_genetic_ascension_path = no
					tec_has_cybernetic_ascension_path = yes
				}
				custom_tooltip = ap_tec_replicant_provide_genetic_bonuses
				hidden_effect = {
					add_research_option = tech_gene_seed_purification
					set_country_flag = can_resequence
				}
			}
			if = {	# Cybernetic bonuses
				limit = {
					tec_has_genetic_ascension_path = yes
					tec_has_cybernetic_ascension_path = no
				}
				custom_tooltip = ap_tec_replicant_provide_cybernetic_bonuses
				hidden_effect = {
					set_country_flag = tec_allow_t1_cybernetics
					set_country_flag = tec_modular_cybernetics
					set_country_flag = tec_cybernetic_module_versatility
				}
			}
			# Tradition
			#custom_tooltip = tec_ap_unlock_synthesis_tradition
		}

		#modifier = {
			#description = ap_tec_replicant_modifier_desc
			#description_parameters = {
			#	POINTS = @ap_evolutionary_mastery_POINTS
			#}
			#
			#BIOLOGICAL_species_trait_points_add = @ap_evolutionary_mastery_POINTS
		#}

		ai_weight = {
			#not as common, ais are bad at being bots
			factor = @tec_force_path_ap_weight
		}
	 # /
	 tradition_swap = {	# Combined
		name = ap_tec_replicant_combined
		inherit_effects = no
		inherit_icon = no
		inherit_name = no

		trigger = {
			has_country_flag = tec_replicant_path_finished
			OR = {
				has_country_flag = tec_replicant_standard
				NOR = {
					has_country_flag = tec_replicant_combined
					has_country_flag = tec_replicant_upgraded
				}
			}
		}
		on_enabled = {
			custom_tooltip = "ap_tec_replicant_combined_tooltip_discovered"
			if = {	# Genetic bonuses
				limit = {
					tec_has_genetic_ascension_path = no
					tec_has_cybernetic_ascension_path = yes
				}
				custom_tooltip = ap_tec_replicant_provide_genetic_bonuses
				hidden_effect = {
					add_research_option = tech_gene_seed_purification
					set_country_flag = can_resequence
				}
			}
			if = {	# Cybernetic bonuses
				limit = {
					tec_has_genetic_ascension_path = yes
					tec_has_cybernetic_ascension_path = no
				}
				custom_tooltip = ap_tec_replicant_provide_cybernetic_bonuses
				hidden_effect = {
					set_country_flag = tec_allow_t1_cybernetics
					set_country_flag = tec_modular_cybernetics
					set_country_flag = tec_cybernetic_module_versatility
				}
			}
			# Tradition
			custom_tooltip = tec_ap_unlock_synthesis_tradition
		}
		weight = {
			factor = @tec_force_path_ap_weight
		}
	 }
	 tradition_swap = {	# Combined
		name = ap_tec_replicant_combined
		inherit_effects = no
		inherit_icon = no
		inherit_name = no

		trigger = {
			has_country_flag = tec_replicant_path_finished
			has_country_flag = tec_replicant_combined
		}
		on_enabled = {
			custom_tooltip = "ap_tec_replicant_combined_tooltip_discovered"
			if = {	# Genetic bonuses
				limit = {
					tec_has_genetic_ascension_path = no
					tec_has_cybernetic_ascension_path = yes
				}
				custom_tooltip = ap_tec_replicant_provide_genetic_bonuses
				hidden_effect = {
					add_research_option = tech_gene_seed_purification
					set_country_flag = can_resequence
				}
			}
			if = {	# Cybernetic bonuses
				limit = {
					tec_has_genetic_ascension_path = yes
					tec_has_cybernetic_ascension_path = no
				}
				custom_tooltip = ap_tec_replicant_provide_cybernetic_bonuses
				hidden_effect = {
					set_country_flag = tec_allow_t1_cybernetics
					set_country_flag = tec_modular_cybernetics
					set_country_flag = tec_cybernetic_module_versatility
				}
			}
			# Tradition
			custom_tooltip = tec_ap_unlock_synthesis_tradition
		}
		#modifier = {
			#description = ap_tec_replicant_modifier_desc
			#description_parameters = {
			#	POINTS = @ap_evolutionary_mastery_POINTS
			#}
			#
			#BIOLOGICAL_species_trait_points_add = @ap_evolutionary_mastery_POINTS
		#}

		weight = {
			factor = @tec_force_path_ap_weight
		}
	 }
	 tradition_swap = {	# Upgraded
		name = ap_tec_replicant_upgraded
		inherit_effects = no
		inherit_icon = no
		inherit_name = no

		trigger = {
			has_country_flag = tec_replicant_path_finished
			has_country_flag = tec_replicant_upgraded
		}
		on_enabled = {
			custom_tooltip = "ap_tec_replicant_upgraded_tooltip_discovered"
			if = {	# Genetic bonuses
				limit = {
					tec_has_genetic_ascension_path = no
					tec_has_cybernetic_ascension_path = yes
				}
				custom_tooltip = ap_tec_replicant_provide_genetic_bonuses
				hidden_effect = {
					add_research_option = tech_gene_seed_purification
					set_country_flag = can_resequence
				}
			}
			if = {	# Cybernetic bonuses
				limit = {
					tec_has_genetic_ascension_path = yes
					tec_has_cybernetic_ascension_path = no
				}
				custom_tooltip = ap_tec_replicant_provide_cybernetic_bonuses
				hidden_effect = {
					set_country_flag = tec_allow_t1_cybernetics
					set_country_flag = tec_modular_cybernetics
					set_country_flag = tec_cybernetic_module_versatility
				}
			}
			# Tradition
			custom_tooltip = tec_ap_unlock_synthesis_tradition
		}
		#modifier = {
			#description = ap_tec_replicant_modifier_desc
			#description_parameters = {
			#	POINTS = @ap_evolutionary_mastery_POINTS
			#}
			#
			#BIOLOGICAL_species_trait_points_add = @ap_evolutionary_mastery_POINTS
		#}

		weight = {
			factor = @tec_force_path_ap_weight
		}
	 }
	}
	# Tier Bio+Psi
	ap_tec_biopsionic = {				# Biologic + Psionic regular TODO ASCENSION
	 # Base
		potential = {
			has_utopia = yes
			# Auth lockers
			is_hive_empire = no
			is_mechanical_empire = no
			is_synthetic_empire = no
			is_individual_machine = no
			is_machine_empire = no
			# Path Lockers
			OR = {
				tec_has_main_ascension_path = no # show all times
				tec_has_psionic_ascension_path = yes
				tec_has_genetic_ascension_path = yes
			}
			tec_has_secondary_ascension_path = no
		}
		possible = {
			custom_tooltip = {
				fail_text = "requires_ascension_perks_5"
				num_ascension_perks > 4
			}
			custom_tooltip = {
				fail_text = "tec_ap_require_tech_galactic_administration"
				has_technology = tech_galactic_administration
			}
			custom_tooltip = {
				fail_text = "ap_tec_biopsionic_require_genetic_or_psionic_tradition"
				OR = {
					has_tradition = tr_genetics_finish
					has_tradition = tr_psionics_finish
				}
				OR = {
					has_country_flag = tec_genetics_gate_completed
					has_country_flag = tec_psionics_gate_completed
				}
			}
			custom_tooltip = {
				fail_text = "synthetic_empire_biological_ascension"
				NOT = { has_trait = trait_mechanical }
			}
			custom_tooltip = {
				fail_text = "tec_blocked_path"
				NOR = {
					# Completed main perk
						#tec_has_psionic_ascension_path = yes
						#tec_has_genetic_ascension_path = yes
						tec_has_cybernetic_ascension_path = yes
						tec_has_synthetic_ascension_path = yes
					# /
					# Completed T2 evolved perk
						has_ascension_perk = ap_tec_psionic_ascendance			# perfect psi
						has_ascension_perk = ap_tec_genetic_perfection			# perfect bio
						has_ascension_perk = ap_tec_cybernetic_revolution		# perfect cyborg
						has_ascension_perk = ap_tec_synthetic_singularity		# perfect synth
						has_ascension_perk = ap_tec_biogenic_mutation			# perfect biogenics
						has_ascension_perk = ap_tec_bioware_combination			# perfect bioware
						has_ascension_perk = ap_tec_psychic_elevation			# perfect psychic
						has_ascension_perk = ap_tec_ethereal_transmutation		# perfect ethereal
					# /
					# Completed mixed path
						has_ascension_perk = ap_tec_replicant
						#has_ascension_perk = ap_tec_biopsionic
						has_ascension_perk = ap_tec_cyberpsionic
						has_ascension_perk = ap_tec_biopsychic
						has_ascension_perk = ap_tec_cyberpsychic
					# /
				}
			}
		}
		on_enabled = {
			if = {
				limit = {
					NOT = {
						has_country_flag = tec_biopsionic_path_finished
					}
				}
				custom_tooltip = "ap_tec_biopsionic_tooltip"
			}
			else = {
				custom_tooltip = "ap_tec_biopsionic_tooltip_discovered"
			}
			hidden_effect = {
				# Global Controller
				# /
				if = {
					limit = {
						has_country_flag = tec_advanced_ascension
					}
					tec_give_t2_biopsionic_effect = yes
				}
				else = {
					country_event = {
						id = tec_biopsionic_path.200
					}
				}
			}
			if = {	# Pre-steps - Gene Tailoring
				limit = {
					NOR = {
						has_tech_option = tech_gene_tailoring
						has_technology = tech_gene_tailoring
					}
				}
				custom_tooltip = tec_ap_unlock_tech_gene_tailoring
				hidden_effect = {
					add_research_option = tech_gene_tailoring
				}
			}
			if = {	# Pre-steps - Psi theory
				limit = {
					NOR = {
						has_tech_option = tech_psionic_theory
						has_technology = tech_psionic_theory
					}
				}
				custom_tooltip = tec_ap_unlock_tech_psionic_theory
				hidden_effect = {
					add_research_option = tech_psionic_theory
				}
			}
			if = {	# Genetic bonuses
				limit = {
					tec_has_genetic_ascension_path = no
					tec_has_psionic_ascension_path = yes
				}
				custom_tooltip = ap_tec_biopsionic_provide_genetic_bonuses
				hidden_effect = {
					add_research_option = tech_gene_seed_purification
					set_country_flag = can_resequence
				}
			}
			if = {	# Psionic bonuses
				limit = {
					tec_has_genetic_ascension_path = yes
					tec_has_psionic_ascension_path = no
				}
				custom_tooltip = ap_tec_biopsionic_provide_psionic_bonuses
				hidden_effect = {
					# Psi
					add_research_option = tech_telepathy
					set_country_flag = tec_unlock_psi_corps
					# Shroud
					set_country_flag = tec_shroud_premium_incursion
					if = {
						limit = {
							NOT = {
								has_country_flag = breached_shroud
							}
						}
						# Gives the shroud access
						set_country_flag = breached_shroud
						country_event = {
							id = tec_psionic_path.115
						}
					}
				}
			}
			# Tradition
			#custom_tooltip = tec_ap_unlock_synthesis_tradition
		}
		#modifier = {	# Note: Only for psionic_starting empires now, with the swap
		#	BIOLOGICAL_species_trait_points_add = @ap_evolutionary_mastery_POINTS
		#}
		ai_weight = {
			factor = @tec_force_path_ap_weight
		}
	 # /
	 tradition_swap = {	# Psionic
		name = ap_tec_biopsionic_started_psionic
		inherit_effects = no
		inherit_icon = yes
		inherit_name = yes
		trigger = {
			tec_has_psionic_ascension_path = yes
		}
		on_enabled = {
			if = {
				limit = {
					NOT = {
						has_country_flag = tec_biopsionic_path_finished
					}
				}
				custom_tooltip = "ap_tec_biopsionic_tooltip"
			}
			else = {
				custom_tooltip = "ap_tec_biopsionic_tooltip_discovered"
			}
			hidden_effect = {
				# Global Controller
				# /
				if = {
					limit = {
						has_country_flag = tec_advanced_ascension
					}
					tec_give_t2_biopsionic_effect = yes
				}
				else = {
					country_event = {
						id = tec_biopsionic_path.200
					}
				}
			}
			if = {	# Pre-steps - Gene Tailoring
				limit = {
					NOR = {
						has_tech_option = tech_gene_tailoring
						has_technology = tech_gene_tailoring
					}
				}
				custom_tooltip = tec_ap_unlock_tech_gene_tailoring
				hidden_effect = {
					add_research_option = tech_gene_tailoring
				}
			}
			if = {	# Pre-steps - Psi theory
				limit = {
					NOR = {
						has_tech_option = tech_psionic_theory
						has_technology = tech_psionic_theory
					}
				}
				custom_tooltip = tec_ap_unlock_tech_psionic_theory
				hidden_effect = {
					add_research_option = tech_psionic_theory
				}
			}
			if = {	# Genetic bonuses
				limit = {
					tec_has_genetic_ascension_path = no
					tec_has_psionic_ascension_path = yes
				}
				custom_tooltip = ap_tec_biopsionic_provide_genetic_bonuses
				hidden_effect = {
					add_research_option = tech_gene_seed_purification
					set_country_flag = can_resequence
				}
			}
			if = {	# Psionic bonuses
				limit = {
					tec_has_genetic_ascension_path = yes
					tec_has_psionic_ascension_path = no
				}
				custom_tooltip = ap_tec_biopsionic_provide_psionic_bonuses
				hidden_effect = {
					# Psi
					add_research_option = tech_telepathy
					set_country_flag = tec_unlock_psi_corps
					# Shroud
					set_country_flag = tec_shroud_premium_incursion
					if = {
						limit = {
							NOT = {
								has_country_flag = breached_shroud
							}
						}
						# Gives the shroud access
						set_country_flag = breached_shroud
						country_event = {
							id = tec_psionic_path.115
						}
					}
				}
			}
			# Tradition
			custom_tooltip = tec_ap_unlock_synthesis_tradition
		}
		modifier = {
			BIOLOGICAL_species_trait_points_add = @ap_evolutionary_mastery_POINTS
		}
		weight = {
			factor = @tec_force_path_ap_weight
		}
	 }
	}
	# Tier Cyb+Psi
	ap_tec_cyberpsionic = {				# Machine + Psionic regular TODO ASCENSION
	 # Base
		potential = {
			has_utopia = yes
			# Auth lockers
			is_gestalt = no
			is_hive_empire = no
			is_mechanical_empire = no
			is_synthetic_empire = no
			is_individual_machine = no
			# Path Lockers
			OR = {
				tec_has_main_ascension_path = no # show all times
				tec_has_psionic_ascension_path = yes
				tec_has_cybernetic_ascension_path = yes
			}
			tec_has_secondary_ascension_path = no
		}
		possible = {
			custom_tooltip = {
				fail_text = "requires_ascension_perks_5"
				num_ascension_perks > 4
			}
			custom_tooltip = {
				fail_text = "tec_ap_require_tech_galactic_administration"
				has_technology = tech_galactic_administration
			}
			custom_tooltip = {
				fail_text = "ap_tec_cyberpsionic_require_cybernetic_or_psionic_tradition"
				OR = {
					has_tradition = tr_psionics_finish
					has_tradition = tr_cybernetics_finish
				}
				OR = {
					has_country_flag = tec_psionics_gate_completed
					has_country_flag = tec_cybernetics_gate_completed
				}
			}
			custom_tooltip = {
				fail_text = "synthetic_empire_psionic_ascension"
				NOT = { has_trait = trait_mechanical }
			}
			custom_tooltip = {
				fail_text = "tec_blocked_path"
				NOR = {
					# Completed main perk
						#tec_has_psionic_ascension_path = yes
						tec_has_genetic_ascension_path = yes
						#tec_has_cybernetic_ascension_path = yes
						tec_has_synthetic_ascension_path = yes
					# /
					# Completed T2 evolved perk
						has_ascension_perk = ap_tec_psionic_ascendance			# perfect psi
						has_ascension_perk = ap_tec_genetic_perfection			# perfect bio
						has_ascension_perk = ap_tec_cybernetic_revolution		# perfect cyborg
						has_ascension_perk = ap_tec_synthetic_singularity		# perfect synth
						has_ascension_perk = ap_tec_biogenic_mutation			# perfect biogenics
						has_ascension_perk = ap_tec_bioware_combination			# perfect bioware
						has_ascension_perk = ap_tec_psychic_elevation			# perfect psychic
						has_ascension_perk = ap_tec_ethereal_transmutation		# perfect ethereal
					# /
					# Completed mixed path
						has_ascension_perk = ap_tec_replicant
						has_ascension_perk = ap_tec_biopsionic
						#has_ascension_perk = ap_tec_cyberpsionic
						has_ascension_perk = ap_tec_biopsychic
						has_ascension_perk = ap_tec_cyberpsychic
					# /
				}
			}
		}
		on_enabled = {
			if = {
				limit = {
					NOT = {
						has_country_flag = tec_cyberpsionic_path_finished
					}
				}
				custom_tooltip = "ap_tec_cyberpsionic_tooltip"
			}
			else = {
				custom_tooltip = "ap_tec_cyberpsionic_tooltip_discovered"
			}
			# Warnings
			# /
			hidden_effect = {
				# Global Controller
				# /
				# Effects
					if = {
						limit = {
							has_country_flag = tec_advanced_ascension
						}
						tec_give_t2_cyberpsionic_effect = yes
					}
					else = {
						country_event = {
							id = tec_cyberpsionic_path.200
						}
					}
				# /
			}
			if = {	# Pre-steps - Psi theory
				limit = {
					NOR = {
						has_tech_option = tech_psionic_theory
						has_technology = tech_psionic_theory
					}
				}
				custom_tooltip = tec_ap_unlock_tech_psionic_theory
				hidden_effect = {
					add_research_option = tech_psionic_theory
				}
			}
			if = {	# Pre-steps - Quantum
				limit = {
					NOR = {
						has_tech_option = tech_neuro_quantum_links
						has_technology = tech_neuro_quantum_links
					}
				}
				custom_tooltip = tec_ap_unlock_tech_neuro_quantum_links
				hidden_effect = {
					add_research_option = tech_neuro_quantum_links
				}
			}
			if = {	# Cybernetic bonuses
				limit = {
					tec_has_cybernetic_ascension_path = no
					tec_has_psionic_ascension_path = yes
				}
				custom_tooltip = ap_tec_cyberpsionic_provide_cybernetic_bonuses
				hidden_effect = {
					set_country_flag = tec_allow_t1_cybernetics
					set_country_flag = tec_modular_cybernetics
					set_country_flag = tec_cybernetic_module_versatility
				}
			}
			if = {	# Psionic bonuses
				limit = {
					tec_has_cybernetic_ascension_path = yes
					tec_has_psionic_ascension_path = no
				}
				custom_tooltip = ap_tec_cyberpsionic_provide_psionic_bonuses
				hidden_effect = {
					# Psi
					add_research_option = tech_telepathy
					set_country_flag = tec_unlock_psi_corps
					# Shroud
					set_country_flag = tec_shroud_premium_incursion
					if = {
						limit = {
							NOT = {
								has_country_flag = breached_shroud
							}
						}
						# Gives the shroud access
						set_country_flag = breached_shroud
						country_event = {
							id = tec_psionic_path.115
						}
					}
				}
			}
			# Tradition
			#custom_tooltip = tec_ap_unlock_cyberpsionic_tradition
		}
		ai_weight = {
			factor = @tec_force_path_ap_weight
		}
	 # /
	}
	# Tier Bio+Psy
	ap_tec_biopsychic = {		# TODO ASCENSION
		potential = {
			always = no
		}
		possible = {
			always = no
		}
	}
	# Tier Cyber+Psy
	ap_tec_cyberpsychic = {	# TODO ASCENSION
		potential = {
			always = no
		}
		possible = {
			always = no
		}
	}
# /

# -----------------------------------------
# NEW SECONDARY PATHS
# -----------------------------------------
# - Empire path
	# Manifested Will
			# The next level
			# Arcane Heritage		
			
# - Territory Path
	# Castling
			# Eternal vigilance
			# Grasp the void

# - Megastructures
	# Voidborne
			# Void Architects

# - Additional APs
	# Biogenesis

# Technology path
	# Technological ascendancy
			# Innovative Perfection
			# Technological adaptation
	
# Ethic perks
							#	- Vanilla ethics - 
	# Xenophile - Empathy
			# Embrace Diversity
			# A Future Together
	# Xenophobe - Apathy
			# Suffer not the xeno
			# Superiority of our own
	# Pacifist
			# Age of Prosperity
			# In Perfect Harmony
	# Militarist
			# Art of War
			# Power overwhelming
	# Materialist
			#
			# Imperative efficiency
	# Spiritualist
			# Motivational Creeds
			# Undeniable Faith
	# Egalitarian
			# Political Prowess
			# Revolutionary Ideals
	# Autoritarian
			# Iron fist ruling
			# Represed Thoughts
							#	- new ethics - 
	# Industrialist - Overconsumption
			# Accelerated Manufacture
			# Planetary Fracking
	# Ecological - Preservation
			# Terrenal Symbiosis
			# Planetary Preservation
	# Competitive - Capitalism
			# Economic venture
			# Market Dominance
	# Cooperative - cooperative
			# Social Synergy
			# Capital Nullification
	# Elitist
			# Elite Corps
			# Phoenix Project
	# Extrospective
			
	# Introspective
		#	- Governments - 
