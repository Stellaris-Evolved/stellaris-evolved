# O V E R W R I T E
# 01_scripted_triggers_buildings.txt

# t2
has_upgraded_capital = {
	if = {
		limit = { has_modifier = resort_colony }
		custom_tooltip = {
			fail_text = "requires_building_resort_capital"
			OR = {
				has_building = building_resort_capital
				has_building = building_resort_major_capital
				# External
					# ACOT
					has_building = @building_dm_ancient_palace
					has_building = @building_ae_ancient_palace
					has_building = @building_heaven_sanctuary
					has_building = @building_ancient_palace
					has_building = @building_phanon_tower
					# AOT
					has_building = @building_stellarite_palace
					has_building = @building_stellarite_control_center
					has_building = @building_stellarite_hive_cluster
					has_building = @building_phanon_palace
					# Star Wars: Kuat Ancient Empire
					has_building = @building_kuat_command_center
					# Twinks Atlantean
					has_building = @building_ancient_palace_at
					# Twinks Kaldorei
					has_building = @building_nightelf_palace
					# Special Colonies Overhaul
					has_building = @building_SCO_resort_system_capital
				# /
			}
		}
	}
	else_if = {
		limit = { has_modifier = slave_colony }
		custom_tooltip = {
			fail_text = "requires_building_slave_capital"
			OR = {
				has_building = building_slave_capital
				has_building = building_slave_major_capital
				# External
					# ACOT
					has_building = @building_dm_ancient_palace
					has_building = @building_ae_ancient_palace
					has_building = @building_heaven_sanctuary
					has_building = @building_ancient_palace
					has_building = @building_phanon_tower
					# AOT
					has_building = @building_stellarite_palace
					has_building = @building_stellarite_control_center
					has_building = @building_stellarite_hive_cluster
					has_building = @building_phanon_palace
					# Star Wars: Kuat Ancient Empire
					has_building = @building_kuat_command_center
					# Twinks Atlantean
					has_building = @building_ancient_palace_at
					# Twinks Kaldorei
					has_building = @building_nightelf_palace
					# Special Colonies Overhaul
					has_building = @building_SCO_slave_system_capital
				# /
			}
		}
	}
	else_if = {
		limit = {
			uses_habitat_capitals = yes
			tec_uses_regular_capital_override = no
		}
		custom_tooltip = {
			fail_text = "requires_building_hab_capital"
			OR = {
				has_building = building_hab_capital
				has_building = building_hab_major_capital
				has_building = building_hab_system_capital
				has_building = building_imperial_capital
				# Scifi				
				has_building = building_tec_scifi_imperial_capital
				# Machine
				has_building = building_tec_hab_machine_capital
				has_building = building_tec_hab_machine_major_capital
				has_building = building_tec_hab_machine_system_capital
				has_building = building_tec_old_machine_imperial_capital
				# Hive
				has_building = building_tec_hab_hive_capital
				has_building = building_tec_hab_hive_major_capital
				has_building = building_tec_hab_hive_system_capital
				has_building = building_imperial_hive_capital
				# Biohive
				has_building = building_tec_hab_biohive_capital
				has_building = building_tec_hab_biohive_major_capital
				has_building = building_tec_hab_biohive_system_capital
				has_building = building_tec_biohive_imperial_capital
				# Cyberhive
				has_building = building_tec_hab_cyberhive_capital
				has_building = building_tec_hab_cyberhive_major_capital
				has_building = building_tec_hab_cyberhive_system_capital
				has_building = building_tec_cyberhive_imperial_capital

				# External
					# ACOT
					has_building = @building_dm_ancient_palace
					has_building = @building_ae_ancient_palace
					has_building = @building_dm_ancient_hive_cluster
					has_building = @building_ae_ancient_hive_cluster
					has_building = @building_dm_ancient_control_center 
					has_building = @building_ae_ancient_control_center				
					has_building = @building_heaven_sanctuary
					has_building = @building_ancient_palace
					has_building = @building_phanon_tower
					# AOT
					has_building = @building_stellarite_palace
					has_building = @building_stellarite_control_center
					has_building = @building_stellarite_hive_cluster
					has_building = @building_phanon_palace
					has_building = @building_phanon_hive_cluster
					has_building = @building_phanon_control_center
					# Star Wars: Kuat Ancient Empire
					has_building = @building_kuat_command_center
					# Twinks Atlantean
					has_building = @building_ancient_palace_at
					# Twinks Kaldorei
					has_building = @building_nightelf_palace
				# /
			}
		}
	}
	else_if = {
		limit = {
			owner = {
				is_hive_empire = yes
			}
		}
		custom_tooltip = {
			fail_text = "requires_building_hive_capital"
			OR = {
				has_building = building_hive_capital
				has_building = building_hive_major_capital
				has_building = building_hive_system_capital
				has_building = building_hive_galactic_capital
				# Imperial hive regular
				has_building = building_imperial_hive_capital
				# Stellaris evolved cyber
				has_building = building_tec_cyberhive_capital
				has_building = building_tec_cyberhive_major_capital
				has_building = building_tec_cyberhive_system_capital
				has_building = building_tec_cyberhive_galactic_capital
				# Imperial Cyberhive
				has_building = building_tec_cyberhive_imperial_capital
				# Stellaris evolved bio
				has_building = building_tec_biohive_capital
				has_building = building_tec_biohive_major_capital
				has_building = building_tec_biohive_system_capital
				has_building = building_tec_biohive_galactic_capital
				# Imperial Biohive
				has_building = building_tec_biohive_imperial_capital
				# Hive fe
				has_building = @building_tec_hive_fe_capital
				has_building = @building_tec_hive_fe_major_capital
				has_building = @building_tec_cyberhive_fe_capital
				has_building = @building_tec_cyberhive_fe_major_capital
				has_building = @building_tec_biohive_fe_capital
				has_building = @building_tec_biohive_fe_major_capital
				# External
					# ACOT
					has_building = @building_dm_ancient_hive_cluster
					has_building = @building_ae_ancient_hive_cluster
					has_building = @building_heaven_sanctuary
					has_building = @building_phanon_tower
					# AOT
					has_building = @building_stellarite_hive_cluster
					has_building = @building_phanon_hive_cluster
					# Star Wars: Kuat Ancient Empire
					has_building = @building_kuat_command_center
					# galacot
					has_building = @building_dm_galactic_hive_capital
					has_building = @building_ae_galactic_hive_capital
					has_building = @building_stellarite_galactic_hive_capital
					# All That Is GRIMDARK
					has_building = @building_hive_major_capital_sick
				# /
			}
		}
	}
	else_if = {
		limit = {
			owner = {
				is_machine_empire = yes
			}
		}
		custom_tooltip = {
			fail_text = "requires_building_machine_capital"
			OR = {
				has_building = building_machine_capital
				has_building = building_machine_major_capital
				has_building = building_machine_system_capital
				has_building = building_machine_galactic_capital
				# Imperial regular
				has_building = building_imperial_machine_capital
				# Stellaris evolved ancient
				has_building = building_tec_old_machine_capital
				has_building = building_tec_old_machine_major_capital
				has_building = building_tec_old_machine_system_capital
				has_building = building_tec_old_machine_galactic_capital
				# Imperial Old Machine
				has_building = building_tec_old_machine_imperial_capital
				# Machine fe
				has_building = @building_tec_machine_fe_capital
				has_building = @building_tec_machine_fe_major_capital

				# Production capitals
				has_building = @building_tec_machine_production_capital
				has_building = @building_tec_machine_production_major_capital
				has_building = @building_tec_machine_production_system_capital
				has_building = @building_tec_machine_production_galactic_capital

				has_building = @building_tec_machine_extraction_capital
				has_building = @building_tec_machine_extraction_major_capital
				has_building = @building_tec_machine_extraction_system_capital
				has_building = @building_tec_machine_extraction_galactic_capital

				# External
					# ACOT
					has_building = @building_dm_ancient_control_center
					has_building = @building_ae_ancient_control_center
					has_building = @building_heaven_sanctuary
					has_building = @building_ancient_control_center
					has_building = @building_phanon_tower
					# AOT
					has_building = @building_stellarite_control_center
					has_building = @building_phanon_control_center
					# Star Wars: Kuat Ancient Empire
					has_building = @building_kuat_command_center
					# galacot
					has_building = @building_dm_galactic_machine_capital
					has_building = @building_ae_galactic_machine_capital
					has_building = @building_stellarite_galactic_machine_capital
				# /
			}
		}
	}
	else = {
		custom_tooltip = {
			fail_text = "requires_building_capital"
			OR = {
				has_building = building_capital
				has_building = building_major_capital
				has_building = building_system_capital
				has_building = building_galactic_capital
				has_building = building_imperial_capital
				# Stelaris evolved scifi
				has_building = building_tec_scifi_capital
				has_building = building_tec_scifi_major_capital
				has_building = building_tec_scifi_system_capital
				has_building = building_tec_scifi_galactic_capital
				has_building = building_tec_scifi_imperial_capital
				# Stellaris evolved exo
				has_building = @building_tec_exo_capital
				has_building = @building_tec_exo_major_capital
				has_building = @building_tec_exo_system_capital
				has_building = @building_tec_exo_galactic_capital
				has_building = @building_tec_exo_imperial_capital
				# Stelaris evolved biocapital
				has_building = @building_tec_bio_capital
				has_building = @building_tec_bio_major_capital
				has_building = @building_tec_bio_system_capital
				has_building = @building_tec_bio_galactic_capital
				has_building = @building_tec_bio_imperial_capital
				# Stelaris evolved Kohn
				has_building = @building_tec_kohn_capital
				has_building = @building_tec_kohn_major_capital
				has_building = @building_tec_kohn_system_capital
				has_building = @building_tec_kohn_galactic_capital
				has_building = @building_tec_kohn_imperial_capital
				# External
					# ACOT
					has_building = @building_dm_ancient_palace
					has_building = @building_ae_ancient_palace
					has_building = @building_heaven_sanctuary
					has_building = @building_ancient_palace
					has_building = @building_phanon_tower
					# AOT
					has_building = @building_stellarite_palace
					has_building = @building_phanon_palace
					# Azur Lane Stellaris DlC
					has_building = @azur_building_mind_capital
					has_building = @azur_building_mind_net_capital
					# Nirvana Empire Project
					has_building = @building_nirvana_empire_palace
					# Star Wars: Kuat Ancient Empire
					has_building = @building_kuat_command_center
					# Twinks Atlantean
					has_building = @building_ancient_palace_at
					# Twinks Kaldorei
					has_building = @building_nightelf_palace
					# galacot
					has_building = @building_dm_galactic_capital
					has_building = @building_ae_galactic_capital
					has_building = @building_stellarite_galactic_capital
					has_building = @building_dm_galactic_hive_capital
					has_building = @building_ae_galactic_hive_capital
					has_building = @building_stellarite_galactic_hive_capital
					has_building = @building_dm_galactic_machine_capital
					has_building = @building_ae_galactic_machine_capital
					has_building = @building_stellarite_galactic_machine_capital
					# All That Is GRIMDARK
					has_building = @building_system_capital_gr
				# /
			}
		}
	}
}

# t3
has_major_upgraded_capital = {
	if = {
		limit = { has_modifier = resort_colony }
		custom_tooltip = {
			fail_text = "requires_building_resort_major_capital"
			OR = {
				has_building = building_resort_major_capital

				# External
					# ACOT
					has_building = @building_dm_ancient_palace
					has_building = @building_ae_ancient_palace
					has_building = @building_heaven_sanctuary
					has_building = @building_ancient_palace
					has_building = @building_phanon_tower
					# AOT
					has_building = @building_stellarite_palace
					has_building = @building_stellarite_control_center
					has_building = @building_stellarite_hive_cluster
					has_building = @building_phanon_palace
					has_building = @building_phanon_control_center
					has_building = @building_phanon_hive_cluster
					# Star Wars: Kuat Ancient Empire
					has_building = @building_kuat_command_center
					# Twinks Atlantean
					has_building = @building_ancient_palace_at
					# Twinks Kaldorei
					has_building = @building_nightelf_palace
					# Special Colonies Overhaul
					has_building = @building_SCO_resort_system_capital
				# /
			}
		}
	}
	else_if = {
		limit = { has_modifier = slave_colony }
		custom_tooltip = {
			fail_text = "requires_building_slave_major_capital"
			OR = {
				has_building = building_slave_major_capital

				# External
					# ACOT
					has_building = @building_dm_ancient_palace
					has_building = @building_ae_ancient_palace
					has_building = @building_heaven_sanctuary
					has_building = @building_ancient_palace
					has_building = @building_phanon_tower
					# AOT
					has_building = @building_stellarite_palace
					has_building = @building_stellarite_control_center
					has_building = @building_stellarite_hive_cluster
					has_building = @building_phanon_palace
					# Star Wars: Kuat Ancient Empire
					has_building = @building_kuat_command_center
					# Twinks Atlantean
					has_building = @building_ancient_palace_at
					# Twinks Kaldorei
					has_building = @building_nightelf_palace
					# Special Colonies Overhaul
					has_building = @building_SCO_slave_system_capital
				# /
			}
		}
	}
	else_if = {
		limit = {
			uses_habitat_capitals = yes
			tec_uses_regular_capital_override = no
		}
		custom_tooltip = {
			fail_text = "requires_building_hab_major_capital"
			OR = {
				# Regular
				has_building = building_hab_major_capital
				has_building = building_hab_system_capital
				has_building = building_imperial_capital
				# Scifi
				has_building = building_tec_scifi_imperial_capital
				# Machine
				has_building = building_tec_hab_machine_major_capital
				has_building = building_tec_hab_machine_system_capital
				has_building = building_imperial_machine_capital
				has_building = building_tec_old_machine_imperial_capital
				# Hive
				has_building = building_tec_hab_hive_major_capital
				has_building = building_tec_hab_hive_system_capital
				has_building = building_imperial_hive_capital
				# Biohive
				has_building = building_tec_hab_biohive_major_capital
				has_building = building_tec_hab_biohive_system_capital
				has_building = building_tec_biohive_imperial_capital
				# Cyberhive
				has_building = building_tec_hab_cyberhive_major_capital
				has_building = building_tec_hab_cyberhive_system_capital
				has_building = building_tec_cyberhive_imperial_capital

				# External
					# ACOT
					has_building = @building_dm_ancient_palace
					has_building = @building_ae_ancient_palace
					has_building = @building_dm_ancient_hive_cluster
					has_building = @building_ae_ancient_hive_cluster
					has_building = @building_dm_ancient_control_center 
					has_building = @building_ae_ancient_control_center				
					has_building = @building_heaven_sanctuary
					has_building = @building_ancient_palace
					has_building = @building_phanon_tower
					# AOT
					has_building = @building_stellarite_palace
					has_building = @building_stellarite_control_center
					has_building = @building_stellarite_hive_cluster
					has_building = @building_phanon_palace
					# Star Wars: Kuat Ancient Empire
					has_building = @building_kuat_command_center
					# Twinks Atlantean
					has_building = @building_ancient_palace_at
					# Twinks Kaldorei
					has_building = @building_nightelf_palace
				# /
			}
		}
	}
	else_if = {
		limit = {
			owner = {
				is_hive_empire = yes
			}
		}
		custom_tooltip = {
			fail_text = "requires_building_major_hive_capital"
			OR = {
				has_building = building_hive_major_capital
				has_building = building_hive_system_capital
				has_building = building_hive_galactic_capital
				# Imperial Reguhive
				has_building = building_imperial_hive_capital

				# Stellaris evolved cyber
				has_building = building_tec_cyberhive_major_capital
				has_building = building_tec_cyberhive_system_capital
				has_building = building_tec_cyberhive_galactic_capital
				# Imperial Cyberhive
				has_building = building_tec_cyberhive_imperial_capital

				# Stellaris evolved bio
				has_building = building_tec_biohive_major_capital
				has_building = building_tec_biohive_system_capital
				has_building = building_tec_biohive_galactic_capital
				has_building = building_tec_biohive_imperial_capital
				# Hive fe
				has_building = @building_tec_hive_fe_capital
				has_building = @building_tec_hive_fe_major_capital
				has_building = @building_tec_cyberhive_fe_capital
				has_building = @building_tec_cyberhive_fe_major_capital
				has_building = @building_tec_biohive_fe_capital
				has_building = @building_tec_biohive_fe_major_capital
				# External
					# ACOT
					has_building = @building_dm_ancient_hive_cluster
					has_building = @building_ae_ancient_hive_cluster
					has_building = @building_heaven_sanctuary
					has_building = @building_phanon_tower
					# AOT
					has_building = @building_stellarite_hive_cluster
					has_building = @building_phanon_hive_cluster
					# Star Wars: Kuat Ancient Empire
					has_building = @building_kuat_command_center
					# galacot
					has_building = @building_dm_galactic_hive_capital
					has_building = @building_ae_galactic_hive_capital
					has_building = @building_stellarite_galactic_hive_capital
					# All that is GRIMDARK
					has_building = @building_hive_major_capital_sick
				# /
			}
		}
	}
	else_if = {
		limit = {
			owner = {
				is_machine_empire = yes
			}
		}
		custom_tooltip = {
			fail_text = "requires_building_machine_major_capital"
			OR = {
				has_building = building_machine_major_capital
				has_building = building_machine_system_capital
				has_building = building_machine_galactic_capital
				# Imperial Machine
				has_building = building_imperial_machine_capital

				# Stellaris evolved old
				has_building = building_tec_old_machine_major_capital
				has_building = building_tec_old_machine_system_capital
				has_building = building_tec_old_machine_galactic_capital
				# Imperial Old machine
				has_building = building_tec_old_machine_imperial_capital
				# Machine fe
				has_building = @building_tec_machine_fe_capital
				has_building = @building_tec_machine_fe_major_capital

				# Production capitals
				has_building = building_tec_machine_production_major_capital
				has_building = building_tec_machine_production_system_capital
				has_building = building_tec_machine_production_galactic_capital

				has_building = @building_tec_machine_extraction_major_capital
				has_building = @building_tec_machine_extraction_system_capital
				has_building = @building_tec_machine_extraction_galactic_capital

				# External
					# ACOT
					has_building = @building_dm_ancient_control_center	
					has_building = @building_ae_ancient_control_center	
					has_building = @building_heaven_sanctuary
					has_building = @building_ancient_control_center
					has_building = @building_phanon_tower
					# AOT
					has_building = @building_stellarite_control_center
					has_building = @building_phanon_control_center
					# Star Wars: Kuat Ancient Empire
					has_building = @building_kuat_command_center
					# galacot
					has_building = @building_dm_galactic_machine_capital
					has_building = @building_ae_galactic_machine_capital
					has_building = @building_stellarite_galactic_machine_capital
				# /
			}
		}
	}
	else = {
		custom_tooltip = {
			fail_text = "requires_building_major_capital"
			OR = {
				has_building = building_major_capital
				has_building = building_system_capital
				has_building = building_galactic_capital
				has_building = building_imperial_capital
				# Stellaris evolved scifi
				has_building = building_tec_scifi_major_capital
				has_building = building_tec_scifi_system_capital
				has_building = building_tec_scifi_galactic_capital
				has_building = building_tec_scifi_imperial_capital
				# Stellaris evolved exo
				has_building = @building_tec_exo_major_capital
				has_building = @building_tec_exo_system_capital
				has_building = @building_tec_exo_galactic_capital
				has_building = @building_tec_exo_imperial_capital
				# Stelaris evolved biocapital
				has_building = @building_tec_bio_major_capital
				has_building = @building_tec_bio_system_capital
				has_building = @building_tec_bio_galactic_capital
				has_building = @building_tec_bio_imperial_capital
				# Stelaris evolved Kohn
				has_building = @building_tec_kohn_major_capital
				has_building = @building_tec_kohn_system_capital
				has_building = @building_tec_kohn_galactic_capital
				has_building = @building_tec_kohn_imperial_capital
				# External
					# ACOT
					has_building = @building_dm_ancient_palace
					has_building = @building_ae_ancient_palace
					has_building = @building_heaven_sanctuary
					has_building = @building_ancient_palace
					has_building = @building_phanon_tower
					# AOT
					has_building = @building_stellarite_palace
					has_building = @building_phanon_palace
					# Azur Lane Stellaris DLC
					has_building = @azur_building_mind_capital
					has_building = @azur_building_mind_net_capital
					# Star Wars: Kuat Ancient Empire
					has_building = @building_kuat_command_center
					# Nirvana Empire Project
					has_building = @building_nirvana_empire_palace
					# Twinks Atlantean
					has_building = @building_ancient_palace_at
					# Twinks Kaldorei
					has_building = @building_nightelf_palace
					# galacot
					has_building = @building_dm_galactic_capital
					has_building = @building_ae_galactic_capital
					has_building = @building_stellarite_galactic_capital
					has_building = @building_dm_galactic_hive_capital
					has_building = @building_ae_galactic_hive_capital
					has_building = @building_stellarite_galactic_hive_capital
					has_building = @building_dm_galactic_machine_capital
					has_building = @building_ae_galactic_machine_capital
					has_building = @building_stellarite_galactic_machine_capital
					# All that is GRIMDARK
					has_building = @building_system_capital_gr
				# /
			}
		}
	}
}

# t4
has_fully_upgraded_capital = {
	if = {
		limit = { has_modifier = resort_colony }
		custom_tooltip = {
			fail_text = "requires_building_resort_major_capital"
			OR = {
				has_building = building_resort_major_capital
				# External
					# ACOT
					has_building = @building_dm_ancient_palace
					has_building = @building_ae_ancient_palace
					has_building = @building_heaven_sanctuary
					has_building = @building_ancient_palace
					has_building = @building_phanon_tower
					# AOT
					has_building = @building_stellarite_palace
					has_building = @building_stellarite_control_center
					has_building = @building_stellarite_hive_cluster
					has_building = @building_phanon_palace
					# Star Wars: Kuat Ancient Empire
					has_building = @building_kuat_command_center
					# Twinks Atlantean
					has_building = @building_ancient_palace_at
					# Twinks Kaldorei
					has_building = @building_nightelf_palace
					# Special Colonies Overhaul
					has_building = @building_SCO_resort_system_capital
				# /
			}
		}
	}
	else_if = {
		limit = { has_modifier = slave_colony }
		custom_tooltip = {
			fail_text = "requires_building_slave_major_capital"
			OR = {
				has_building = building_slave_major_capital
				# External
					# ACOT
					has_building = @building_dm_ancient_palace
					has_building = @building_ae_ancient_palace
					has_building = @building_heaven_sanctuary
					has_building = @building_ancient_palace
					has_building = @building_phanon_tower
					# AOT
					has_building = @building_stellarite_palace
					has_building = @building_stellarite_control_center
					has_building = @building_stellarite_hive_cluster
					has_building = @building_phanon_palace
					# Star Wars: Kuat Ancient Empire
					has_building = @building_kuat_command_center
					# Twinks Atlantean
					has_building = @building_ancient_palace_at
					# Twinks Kaldorei
					has_building = @building_nightelf_palace
					# Special Colonies Overhaul
					has_building = @building_SCO_slave_system_capital
				# /
			}
		}
	}
	else_if = {
		limit = {
			uses_habitat_capitals = yes 
			tec_uses_regular_capital_override = no
		}
		custom_tooltip = {
			fail_text = "requires_building_hab_major_capital"
			OR = {
				# Regular
				has_building = building_hab_major_capital
				has_building = building_hab_system_capital
				has_building = building_imperial_capital
				# Scifi
				
				has_building = building_tec_scifi_imperial_capital
				# Machine
				has_building = building_tec_hab_machine_major_capital
				has_building = building_tec_hab_machine_system_capital
				has_building = building_imperial_machine_capital
				has_building = building_tec_old_machine_imperial_capital
				# Hive
				has_building = building_tec_hab_hive_major_capital
				has_building = building_tec_hab_hive_system_capital
				has_building = building_imperial_hive_capital
				# Biohive
				has_building = building_tec_hab_biohive_major_capital
				has_building = building_tec_hab_biohive_system_capital
				has_building = building_tec_biohive_imperial_capital
				# Cyberhive
				has_building = building_tec_hab_cyberhive_major_capital
				has_building = building_tec_hab_cyberhive_system_capital
				has_building = building_tec_cyberhive_imperial_capital
				#External
					# ACOT
					has_building = @building_dm_ancient_palace
					has_building = @building_ae_ancient_palace
					has_building = @building_dm_ancient_hive_cluster
					has_building = @building_ae_ancient_hive_cluster
					has_building = @building_dm_ancient_control_center 
					has_building = @building_ae_ancient_control_center				
					has_building = @building_heaven_sanctuary
					has_building = @building_ancient_palace
					has_building = @building_phanon_tower
					# AOT
					has_building = @building_stellarite_palace
					has_building = @building_stellarite_control_center
					has_building = @building_stellarite_hive_cluster
					has_building = @building_phanon_palace
					has_building = @building_phanon_hive_cluster
					has_building = @building_phanon_control_center
					# Star Wars: Kuat Ancient Empire
					has_building = @building_kuat_command_center
					# Twinks Atlantean
					has_building = @building_ancient_palace_at
					# Twinks Kaldorei
					has_building = @building_nightelf_palace
				# /
			}
		}
	}
	else_if = {
		limit = {
			owner = {
				is_hive_empire = yes
			}
		}
		custom_tooltip = {
			fail_text = "requires_building_major_hive_capital"
			OR = {
				has_building = building_hive_major_capital
				has_building = building_hive_system_capital
				has_building = building_hive_galactic_capital
				has_building = building_imperial_hive_capital

				# Stellaris Evolved Cyber 
				has_building = building_tec_cyberhive_major_capital
				has_building = building_tec_cyberhive_system_capital
				has_building = building_tec_cyberhive_galactic_capital
				has_building = building_tec_cyberhive_imperial_capital

				# Stellaris Evolved Bio
				has_building = building_tec_biohive_major_capital
				has_building = building_tec_biohive_system_capital
				has_building = building_tec_biohive_galactic_capital
				has_building = building_tec_biohive_imperial_capital

				# Hive fe
				has_building = @building_tec_hive_fe_capital
				has_building = @building_tec_hive_fe_major_capital
				has_building = @building_tec_cyberhive_fe_capital
				has_building = @building_tec_cyberhive_fe_major_capital
				has_building = @building_tec_biohive_fe_capital
				has_building = @building_tec_biohive_fe_major_capital

				# External
					# ACOT
					has_building = @building_dm_ancient_hive_cluster
					has_building = @building_ae_ancient_hive_cluster
					has_building = @building_phanon_tower
					# AOT
					has_building = @building_stellarite_hive_cluster
					has_building = @building_phanon_hive_cluster
					# Star Wars: Kuat Ancient Empire
					has_building = @building_kuat_command_center
					# galacot
					has_building = @building_dm_galactic_hive_capital
					has_building = @building_ae_galactic_hive_capital
					has_building = @building_stellarite_galactic_hive_capital
					# All that is GRIMDARK
					has_building = @building_hive_major_capital_sick
				# /
			}
		}
	}
	else_if = {
		limit = {
			owner = {
				is_machine_empire = yes
			}
		}
		custom_tooltip = {
			fail_text = "requires_building_machine_major_capital"
			OR = {
				has_building = building_machine_major_capital
				has_building = building_machine_system_capital
				has_building = building_machine_galactic_capital
				# Imperial
				has_building = building_imperial_machine_capital

				# Stellaris evolved old
				has_building = building_tec_old_machine_major_capital
				has_building = building_tec_old_machine_system_capital
				has_building = building_tec_old_machine_galactic_capital
				# Imperial
				has_building = building_tec_old_machine_imperial_capital
				# Machine fe
				has_building = @building_tec_machine_fe_capital
				has_building = @building_tec_machine_fe_major_capital

				# Production capitals
				has_building = @building_tec_machine_production_major_capital
				has_building = @building_tec_machine_production_system_capital
				has_building = @building_tec_machine_production_galactic_capital

				has_building = @building_tec_machine_extraction_major_capital
				has_building = @building_tec_machine_extraction_system_capital
				has_building = @building_tec_machine_extraction_galactic_capital
				
				# External
					# ACOT
					has_building = @building_dm_ancient_control_center 
					has_building = @building_ae_ancient_control_center
					has_building = @building_phanon_tower
					# AOT
					has_building = @building_stellarite_control_center
					has_building = @building_phanon_control_center
					# Star Wars: Kuat Ancient Empire
					has_building = @building_kuat_command_center
					# galacot
					has_building = @building_dm_galactic_machine_capital
					has_building = @building_ae_galactic_machine_capital
					has_building = @building_stellarite_galactic_machine_capital
				# /
			}
		}
	}
	else = {
		custom_tooltip = {
			fail_text = "requires_building_system_capital"
			OR = {
				has_building = building_system_capital
				has_building = building_galactic_capital
				has_building = building_imperial_capital
				# Stellaris evolved scifi
				has_building = building_tec_scifi_major_capital
				has_building = building_tec_scifi_system_capital
				has_building = building_tec_scifi_galactic_capital
				has_building = building_tec_scifi_imperial_capital
				# Stellaris evolved exo
				has_building = @building_tec_exo_major_capital
				has_building = @building_tec_exo_system_capital
				has_building = @building_tec_exo_galactic_capital
				has_building = @building_tec_exo_imperial_capital
				# Stelaris evolved biocapital
				has_building = @building_tec_bio_major_capital
				has_building = @building_tec_bio_system_capital
				has_building = @building_tec_bio_galactic_capital
				has_building = @building_tec_bio_imperial_capital
				# Stelaris evolved Kohn
				has_building = @building_tec_kohn_major_capital
				has_building = @building_tec_kohn_system_capital
				has_building = @building_tec_kohn_galactic_capital
				has_building = @building_tec_kohn_imperial_capital
				# External
					# ACOT
					has_building = @building_dm_ancient_palace
					has_building = @building_ae_ancient_palace
					has_building = @building_phanon_tower
					# AOT
					has_building = @building_stellarite_palace
					has_building = @building_phanon_palace
					# Azur Lane Stellaris DLC
					has_building = @azur_building_mind_capital
					has_building = @azur_building_mind_net_capital	
					# Star Wars: Kuat Ancient Empire
					has_building = @building_kuat_command_center
					# Nirvana Empire Project
					has_building = @building_nirvana_empire_palace
					# Twinks Atlantean
					has_building = @building_ancient_palace_at
					# Twinks Kaldorei
					has_building = @building_nightelf_palace
					# galacot
					has_building = @building_dm_galactic_capital
					has_building = @building_ae_galactic_capital
					has_building = @building_stellarite_galactic_capital
					has_building = @building_dm_galactic_hive_capital
					has_building = @building_ae_galactic_hive_capital
					has_building = @building_stellarite_galactic_hive_capital
					has_building = @building_dm_galactic_machine_capital
					has_building = @building_ae_galactic_machine_capital
					has_building = @building_stellarite_galactic_machine_capital
					# All that is GRIMDARK
					has_building = @building_system_capital_gr
				# /
			}
		}
	}
}



can_build_gaiaseeder = {
	# Can always build on ideal worlds
	if = {
		limit = {
			OR = {
				is_ideal_planet_class = {
					who = owner
					status = yes
				}
				owner_main_species = {
					has_trait = trait_tec_replicant_standard
				}
				owner_main_species = {
					has_trait = trait_pc_tec_gene_preference
				}
			}
		}
		always = yes
	}
	
	# Requires Climate Restoration for Tomb Worlds
	else_if = {
		limit = {
			planet = { is_planet_class = pc_nuked }
		}
		custom_tooltip = {
			fail_text = gaiaseeders_tomb_world
			owner = { has_technology = tech_climate_restoration }
		}
	}

	# Requires Terrestrial Sculpting for same climate as homeworld
	else_if = {
		limit = {
			owner_species = {
				ideal_planet_is_wet = yes
			}
			planet = {
				is_wet = yes
				is_ideal_planet_class = {
					who = owner
					status = no
				}
			}
		}
		custom_tooltip = {
			fail_text = gaiaseeders_same_climate_wet
			owner = { has_technology = tech_terrestrial_sculpting }
		}
	}

	else_if = {
		limit = {
			owner_species = {
				ideal_planet_is_dry = yes
			}
			planet = {
				is_dry = yes
				is_ideal_planet_class = {
					who = owner
					status = no
				}
			}
		}
		custom_tooltip = {
			fail_text = gaiaseeders_same_climate_dry
			owner = { has_technology = tech_terrestrial_sculpting }
		}
	}

	else_if = {
		limit = {
			owner_species = {
				ideal_planet_is_cold = yes
			}
			planet = {
				is_cold = yes
				is_ideal_planet_class = {
					who = owner
					status = no
				}
			}
		}
		custom_tooltip = {
			fail_text = gaiaseeders_same_climate_cold
			owner = { has_technology = tech_terrestrial_sculpting }
		}
	}

	# Requires Ecological Adaptation for other climates
	else_if = {
		limit = {
			owner_species = {
				ideal_planet_is_wet = yes
			}
			planet = {
				OR = {
					is_dry = yes
					is_cold = yes
				}
			}
		}
		custom_tooltip = {
			fail_text = gaiaseeders_different_climate_wet
			owner = { has_technology = tech_ecological_adaptation }
		}
	}

	else_if = {
		limit = {
			owner_species = {
				ideal_planet_is_dry = yes
			}
			planet = {
				OR = {
					is_wet = yes
					is_cold = yes
				}
			}
		}
		custom_tooltip = {
			fail_text = gaiaseeders_different_climate_dry
			owner = { has_technology = tech_ecological_adaptation }
		}
	}

	else_if = {
		limit = {
			owner_species = {
				ideal_planet_is_cold = yes
			}
			planet = {
				OR = {
					is_wet = yes
					is_dry = yes
				}
			}
		}
		custom_tooltip = {
			fail_text = gaiaseeders_different_climate_cold
			owner = { has_technology = tech_ecological_adaptation }
		}
	}

	else_if = {
		limit = {
			owner_species = {
				ideal_planet_is_special = yes
			}
			planet = {
				OR = {
					is_wet = yes
					is_dry = yes
					is_cold = yes
				}
			}
		}
		custom_tooltip = {
			fail_text = gaiaseeders_special_habitability_preference
			owner = { has_technology = tech_ecological_adaptation }
		}
	}
}

can_build_overlord_gaiaseeder = {
	# Can always build on ideal worlds
	if = {
		limit = {
			OR = {
				is_ideal_planet_class = {
					who = owner.overlord
					status = yes
				}
				owner.overlord.species  = {
					has_trait = trait_tec_replicant_standard
				}
				owner.overlord.species  = {
					has_trait = trait_pc_tec_gene_preference
				}
			}
		}
		always = yes
	}
	
	# Requires Climate Restoration for Tomb Worlds
	else_if = {
		limit = {
			planet = { is_planet_class = pc_nuked }
		}
		custom_tooltip = {
			fail_text = gaiaseeders_tomb_world
			owner.overlord = { has_technology = tech_climate_restoration }
		}
	}

	# Requires Terrestrial Sculpting for same climate as homeworld
	else_if = {
		limit = {
			owner.overlord.species = {
				ideal_planet_is_wet = yes
			}
			planet = {
				is_wet = yes
				is_ideal_planet_class = {
					who = owner.overlord
					status = no
				}
			}
		}
		custom_tooltip = {
			fail_text = gaiaseeders_same_climate_wet
			owner.overlord = { has_technology = tech_terrestrial_sculpting }
		}
	}

	else_if = {
		limit = {
			owner.overlord.species = {
				ideal_planet_is_dry = yes
			}
			planet = {
				is_dry = yes
				is_ideal_planet_class = {
					who = owner.overlord
					status = no
				}
			}
		}
		custom_tooltip = {
			fail_text = gaiaseeders_same_climate_dry
			owner.overlord = { has_technology = tech_terrestrial_sculpting }
		}
	}

	else_if = {
		limit = {
			owner.overlord.species = {
				ideal_planet_is_cold = yes
			}
			planet = {
				is_cold = yes
				is_ideal_planet_class = {
					who = owner.overlord
					status = no
				}
			}
		}
		custom_tooltip = {
			fail_text = gaiaseeders_same_climate_cold
			owner.overlord = { has_technology = tech_terrestrial_sculpting }
		}
	}

	# Requires Ecological Adaptation for other climates
	else_if = {
		limit = {
			owner.overlord.species = {
				ideal_planet_is_wet = yes
			}
			planet = {
				OR = {
					is_dry = yes
					is_cold = yes
				}
			}
		}
		custom_tooltip = {
			fail_text = gaiaseeders_different_climate_wet
			owner.overlord = { has_technology = tech_ecological_adaptation }
		}
	}

	else_if = {
		limit = {
			owner.overlord.species = {
				ideal_planet_is_dry = yes
			}
			planet = {
				OR = {
					is_wet = yes
					is_cold = yes
				}
			}
		}
		custom_tooltip = {
			fail_text = gaiaseeders_different_climate_dry
			owner.overlord = { has_technology = tech_ecological_adaptation }
		}
	}

	else_if = {
		limit = {
			owner.overlord.species = {
				ideal_planet_is_cold = yes
			}
			planet = {
				OR = {
					is_wet = yes
					is_dry = yes
				}
			}
		}
		custom_tooltip = {
			fail_text = gaiaseeders_different_climate_cold
			owner.overlord = { has_technology = tech_ecological_adaptation }
		}
	}

	else_if = {
		limit = {
			owner.overlord.species = {
				ideal_planet_is_special = yes
			}
			planet = {
				OR = {
					is_wet = yes
					is_dry = yes
					is_cold = yes
				}
			}
		}
		custom_tooltip = {
			fail_text = gaiaseeders_special_habitability_preference
			owner.overlord = { has_technology = tech_ecological_adaptation }
		}
	}
}


tec_has_t1_capital = {	# Colony
	# resorts don't have t1
	# slaves don't have t1
	# habitats don't have t1
	else_if = {
		limit = {
			owner = {
				is_hive_empire = yes
			}
		}
		custom_tooltip = {
			fail_text = "requires_building_major_hive_capital"
			OR = {
				has_building = building_hive_major_capital
				has_building = building_hive_system_capital
				has_building = building_hive_galactic_capital
				has_building = building_imperial_hive_capital

				# Stellaris Evolved Cyber 
				has_building = building_tec_cyberhive_major_capital
				has_building = building_tec_cyberhive_system_capital
				has_building = building_tec_cyberhive_galactic_capital
				has_building = building_tec_cyberhive_imperial_capital

				# Stellaris Evolved Bio
				has_building = building_tec_biohive_major_capital
				has_building = building_tec_biohive_system_capital
				has_building = building_tec_biohive_galactic_capital
				has_building = building_tec_biohive_imperial_capital

				# Hive fe
				has_building = @building_tec_hive_fe_capital
				has_building = @building_tec_hive_fe_major_capital
				has_building = @building_tec_cyberhive_fe_capital
				has_building = @building_tec_cyberhive_fe_major_capital
				has_building = @building_tec_biohive_fe_capital
				has_building = @building_tec_biohive_fe_major_capital

				# External
					# ACOT
					has_building = @building_dm_ancient_hive_cluster
					has_building = @building_ae_ancient_hive_cluster
					has_building = @building_phanon_tower
					# AOT
					has_building = @building_stellarite_hive_cluster
					has_building = @building_phanon_hive_cluster
					# Star Wars: Kuat Ancient Empire
					has_building = @building_kuat_command_center
					# galacot
					has_building = @building_dm_galactic_hive_capital
					has_building = @building_ae_galactic_hive_capital
					has_building = @building_stellarite_galactic_hive_capital
					# All that is GRIMDARK
					has_building = @building_hive_major_capital_sick
				# /
			}
		}
	}
	else_if = {
		limit = {
			owner = {
				is_machine_empire = yes
			}
		}
		OR = {
			has_building = building_deployment_post
			# Stellaris evolved old
			has_building = @building_tec_old_machine_deployment_post
		}
	}
	else = {
		custom_tooltip = {
			fail_text = "requires_building_major_capital"
			OR = {
				has_building = building_major_capital
				has_building = building_system_capital
				has_building = building_galactic_capital
				has_building = building_imperial_capital
				# Stellaris evolved scifi
				has_building = building_tec_scifi_major_capital
				has_building = building_tec_scifi_system_capital
				has_building = building_tec_scifi_galactic_capital
				has_building = building_tec_scifi_imperial_capital
				# Stellaris evolved exo
				has_building = @building_tec_exo_major_capital
				has_building = @building_tec_exo_system_capital
				has_building = @building_tec_exo_galactic_capital
				has_building = @building_tec_exo_imperial_capital
				# Stelaris evolved biocapital
				has_building = @building_tec_bio_major_capital
				has_building = @building_tec_bio_system_capital
				has_building = @building_tec_bio_galactic_capital
				has_building = @building_tec_bio_imperial_capital
				# Stelaris evolved Kohn
				has_building = @building_tec_kohn_major_capital
				has_building = @building_tec_kohn_system_capital
				has_building = @building_tec_kohn_galactic_capital
				has_building = @building_tec_kohn_imperial_capital
				# External
					# ACOT
					has_building = @building_dm_ancient_palace
					has_building = @building_ae_ancient_palace
					has_building = @building_phanon_tower
					# AOT
					has_building = @building_stellarite_palace
					has_building = @building_phanon_palace
					# Azur Lane Stellaris DLC
					has_building = @azur_building_mind_capital
					has_building = @azur_building_mind_net_capital	
					# Star Wars: Kuat Ancient Empire
					has_building = @building_kuat_command_center
					# Nirvana Empire Project
					has_building = @building_nirvana_empire_palace
					# Twinks Atlantean
					has_building = @building_ancient_palace_at
					# Twinks Kaldorei
					has_building = @building_nightelf_palace
					# galacot
					has_building = @building_dm_galactic_capital
					has_building = @building_ae_galactic_capital
					has_building = @building_stellarite_galactic_capital
					has_building = @building_dm_galactic_hive_capital
					has_building = @building_ae_galactic_hive_capital
					has_building = @building_stellarite_galactic_hive_capital
					has_building = @building_dm_galactic_machine_capital
					has_building = @building_ae_galactic_machine_capital
					has_building = @building_stellarite_galactic_machine_capital
					# All that is GRIMDARK
					has_building = @building_system_capital_gr
				# /
			}
		}
	}
}

tec_has_t2_capital = {	# Capital
	if = {
		limit = { has_modifier = resort_colony }
		custom_tooltip = {
			fail_text = "requires_building_resort_major_capital"
			OR = {
				has_building = building_resort_major_capital
				# External
					# ACOT
					has_building = @building_dm_ancient_palace
					has_building = @building_ae_ancient_palace
					has_building = @building_heaven_sanctuary
					has_building = @building_ancient_palace
					has_building = @building_phanon_tower
					# AOT
					has_building = @building_stellarite_palace
					has_building = @building_stellarite_control_center
					has_building = @building_stellarite_hive_cluster
					has_building = @building_phanon_palace
					# Star Wars: Kuat Ancient Empire
					has_building = @building_kuat_command_center
					# Twinks Atlantean
					has_building = @building_ancient_palace_at
					# Twinks Kaldorei
					has_building = @building_nightelf_palace
					# Special Colonies Overhaul
					has_building = @building_SCO_resort_system_capital
				# /
			}
		}
	}
	else_if = {
		limit = { has_modifier = slave_colony }
		custom_tooltip = {
			fail_text = "requires_building_slave_major_capital"
			has_building = building_slave_major_capital
			# External
				# ACOT
				has_building = @building_dm_ancient_palace
				has_building = @building_ae_ancient_palace
				has_building = @building_heaven_sanctuary
				has_building = @building_ancient_palace
				has_building = @building_phanon_tower
				# AOT
				has_building = @building_stellarite_palace
				has_building = @building_stellarite_control_center
				has_building = @building_stellarite_hive_cluster
				has_building = @building_phanon_palace
				# Star Wars: Kuat Ancient Empire
				has_building = @building_kuat_command_center
				# Twinks Atlantean
				has_building = @building_ancient_palace_at
				# Twinks Kaldorei
				has_building = @building_nightelf_palace
				# Special Colonies Overhaul
				has_building = @building_SCO_slave_system_capital
			# /	
		}
	}
	else_if = {
		limit = {
			uses_habitat_capitals = yes 
			tec_uses_regular_capital_override = no
		}
		OR = {
			# Regular
			has_building = building_hab_capital
			# Scifi

			# Machine
			has_building = building_tec_hab_machine_capital
			has_building = @building_tec_old_machine_hab_capital
			# Hive
			has_building = building_tec_hab_hive_capital
			# Biohive
			has_building = building_tec_hab_biohive_capital
			# Cyberhive
			has_building = building_tec_hab_cyberhive_capital
		}
	}
	else_if = {
		limit = {
			owner = {
				is_hive_empire = yes
			}
		}
		custom_tooltip = {
			fail_text = "requires_building_major_hive_capital"
			OR = {
				has_building = building_hive_major_capital
				has_building = building_hive_system_capital
				has_building = building_hive_galactic_capital
				has_building = building_imperial_hive_capital

				# Stellaris Evolved Cyber 
				has_building = building_tec_cyberhive_major_capital
				has_building = building_tec_cyberhive_system_capital
				has_building = building_tec_cyberhive_galactic_capital
				has_building = building_tec_cyberhive_imperial_capital

				# Stellaris Evolved Bio
				has_building = building_tec_biohive_major_capital
				has_building = building_tec_biohive_system_capital
				has_building = building_tec_biohive_galactic_capital
				has_building = building_tec_biohive_imperial_capital

				# Hive fe
				has_building = @building_tec_hive_fe_capital
				has_building = @building_tec_hive_fe_major_capital
				has_building = @building_tec_cyberhive_fe_capital
				has_building = @building_tec_cyberhive_fe_major_capital
				has_building = @building_tec_biohive_fe_capital
				has_building = @building_tec_biohive_fe_major_capital

				# External
					# ACOT
					has_building = @building_dm_ancient_hive_cluster
					has_building = @building_ae_ancient_hive_cluster
					has_building = @building_phanon_tower
					# AOT
					has_building = @building_stellarite_hive_cluster
					has_building = @building_phanon_hive_cluster
					# Star Wars: Kuat Ancient Empire
					has_building = @building_kuat_command_center
					# galacot
					has_building = @building_dm_galactic_hive_capital
					has_building = @building_ae_galactic_hive_capital
					has_building = @building_stellarite_galactic_hive_capital
					# All that is GRIMDARK
					has_building = @building_hive_major_capital_sick
				# /
			}
		}
	}
	else_if = {
		limit = {
			owner = {
				is_machine_empire = yes
			}
		}
		OR = {
			# Regular machine
			has_building = building_machine_capital
			# Stellaris evolved old
			has_building = building_tec_old_machine_capital
		}
	}
	else = {
		custom_tooltip = {
			fail_text = "requires_building_major_capital"
			OR = {
				has_building = building_major_capital
				has_building = building_system_capital
				has_building = building_galactic_capital
				has_building = building_imperial_capital
				# Stellaris evolved scifi
				has_building = building_tec_scifi_major_capital
				has_building = building_tec_scifi_system_capital
				has_building = building_tec_scifi_galactic_capital
				has_building = building_tec_scifi_imperial_capital
				# Stellaris evolved exo
				has_building = @building_tec_exo_major_capital
				has_building = @building_tec_exo_system_capital
				has_building = @building_tec_exo_galactic_capital
				has_building = @building_tec_exo_imperial_capital
				# Stelaris evolved biocapital
				has_building = @building_tec_bio_major_capital
				has_building = @building_tec_bio_system_capital
				has_building = @building_tec_bio_galactic_capital
				has_building = @building_tec_bio_imperial_capital
				# Stelaris evolved Kohn
				has_building = @building_tec_kohn_major_capital
				has_building = @building_tec_kohn_system_capital
				has_building = @building_tec_kohn_galactic_capital
				has_building = @building_tec_kohn_imperial_capital
				# External
					# ACOT
					has_building = @building_dm_ancient_palace
					has_building = @building_ae_ancient_palace
					has_building = @building_phanon_tower
					# AOT
					has_building = @building_stellarite_palace
					has_building = @building_phanon_palace
					# Azur Lane Stellaris DLC
					has_building = @azur_building_mind_capital
					has_building = @azur_building_mind_net_capital	
					# Star Wars: Kuat Ancient Empire
					has_building = @building_kuat_command_center
					# Nirvana Empire Project
					has_building = @building_nirvana_empire_palace
					# Twinks Atlantean
					has_building = @building_ancient_palace_at
					# Twinks Kaldorei
					has_building = @building_nightelf_palace
					# galacot
					has_building = @building_dm_galactic_capital
					has_building = @building_ae_galactic_capital
					has_building = @building_stellarite_galactic_capital
					has_building = @building_dm_galactic_hive_capital
					has_building = @building_ae_galactic_hive_capital
					has_building = @building_stellarite_galactic_hive_capital
					has_building = @building_dm_galactic_machine_capital
					has_building = @building_ae_galactic_machine_capital
					has_building = @building_stellarite_galactic_machine_capital
					# All that is GRIMDARK
					has_building = @building_system_capital_gr
				# /
			}
		}
	}
}

tec_has_t3_capital = {	# Major Capital
	if = {
		limit = { has_modifier = resort_colony }
		OR = {
			has_building = building_resort_major_capital
			# External
				# ACOT
				has_building = @building_dm_ancient_palace
				has_building = @building_ae_ancient_palace
				has_building = @building_heaven_sanctuary
				has_building = @building_ancient_palace
				has_building = @building_phanon_tower
				# AOT
				has_building = @building_stellarite_palace
				has_building = @building_stellarite_control_center
				has_building = @building_stellarite_hive_cluster
				has_building = @building_phanon_palace
				# Star Wars: Kuat Ancient Empire
				has_building = @building_kuat_command_center
				# Twinks Atlantean
				has_building = @building_ancient_palace_at
				# Twinks Kaldorei
				has_building = @building_nightelf_palace
				# Special Colonies Overhaul
				has_building = @building_SCO_resort_system_capital
			# /
		}
	}
	else_if = {
		limit = { has_modifier = slave_colony }
		OR = {
			has_building = building_slave_major_capital
			# External
				# ACOT
				has_building = @building_dm_ancient_palace
				has_building = @building_ae_ancient_palace
				has_building = @building_heaven_sanctuary
				has_building = @building_ancient_palace
				has_building = @building_phanon_tower
				# AOT
				has_building = @building_stellarite_palace
				has_building = @building_stellarite_control_center
				has_building = @building_stellarite_hive_cluster
				has_building = @building_phanon_palace
				# Star Wars: Kuat Ancient Empire
				has_building = @building_kuat_command_center
				# Twinks Atlantean
				has_building = @building_ancient_palace_at
				# Twinks Kaldorei
				has_building = @building_nightelf_palace
				# Special Colonies Overhaul
				has_building = @building_SCO_slave_system_capital
			# /	
		}
	}
	else_if = {
		limit = {
			uses_habitat_capitals = yes 
			tec_uses_regular_capital_override = no
		}
		OR = {
			# Regular
			has_building = building_hab_major_capital
			# Scifi
		
			# Machine
			has_building = building_tec_hab_machine_major_capital
			# Hive
			has_building = building_tec_hab_hive_major_capital
			# Biohive
			has_building = building_tec_hab_biohive_major_capital
			# Cyberhive
			has_building = building_tec_hab_cyberhive_major_capital
		}
	}
	else_if = {
		limit = {
			owner = {
				is_hive_empire = yes
			}
		}
		custom_tooltip = {
			fail_text = "requires_building_major_hive_capital"
			OR = {
				has_building = building_hive_major_capital
				has_building = building_hive_system_capital
				has_building = building_hive_galactic_capital
				has_building = building_imperial_hive_capital

				# Stellaris Evolved Cyber 
				has_building = building_tec_cyberhive_major_capital
				has_building = building_tec_cyberhive_system_capital
				has_building = building_tec_cyberhive_galactic_capital
				has_building = building_tec_cyberhive_imperial_capital

				# Stellaris Evolved Bio
				has_building = building_tec_biohive_major_capital
				has_building = building_tec_biohive_system_capital
				has_building = building_tec_biohive_galactic_capital
				has_building = building_tec_biohive_imperial_capital

				# Hive fe
				has_building = @building_tec_hive_fe_capital
				has_building = @building_tec_hive_fe_major_capital
				has_building = @building_tec_cyberhive_fe_capital
				has_building = @building_tec_cyberhive_fe_major_capital
				has_building = @building_tec_biohive_fe_capital
				has_building = @building_tec_biohive_fe_major_capital

				# External
					# ACOT
					has_building = @building_dm_ancient_hive_cluster
					has_building = @building_ae_ancient_hive_cluster
					has_building = @building_phanon_tower
					# AOT
					has_building = @building_stellarite_hive_cluster
					has_building = @building_phanon_hive_cluster
					# Star Wars: Kuat Ancient Empire
					has_building = @building_kuat_command_center
					# galacot
					has_building = @building_dm_galactic_hive_capital
					has_building = @building_ae_galactic_hive_capital
					has_building = @building_stellarite_galactic_hive_capital
					# All that is GRIMDARK
					has_building = @building_hive_major_capital_sick
				# /
			}
		}
	}
	else_if = {
		limit = {
			owner = {
				is_machine_empire = yes
			}
		}
		OR = {
			has_building = building_machine_major_capital
			# Stellaris evolved old
			has_building = building_tec_old_machine_major_capital
		}
	}
	else = {
		custom_tooltip = {
			fail_text = "requires_building_major_capital"
			OR = {
				has_building = building_major_capital
				has_building = building_system_capital
				has_building = building_galactic_capital
				has_building = building_imperial_capital
				# Stellaris evolved scifi
				has_building = building_tec_scifi_major_capital
				has_building = building_tec_scifi_system_capital
				has_building = building_tec_scifi_galactic_capital
				has_building = building_tec_scifi_imperial_capital
				# Stellaris evolved exo
				has_building = @building_tec_exo_major_capital
				has_building = @building_tec_exo_system_capital
				has_building = @building_tec_exo_galactic_capital
				has_building = @building_tec_exo_imperial_capital
				# Stelaris evolved biocapital
				has_building = @building_tec_bio_major_capital
				has_building = @building_tec_bio_system_capital
				has_building = @building_tec_bio_galactic_capital
				has_building = @building_tec_bio_imperial_capital
				# Stelaris evolved Kohn
				has_building = @building_tec_kohn_major_capital
				has_building = @building_tec_kohn_system_capital
				has_building = @building_tec_kohn_galactic_capital
				has_building = @building_tec_kohn_imperial_capital
			}
		}
	}
}

tec_has_t4_capital = {	# System Capital
	if = {
		limit = { has_modifier = resort_colony }
		custom_tooltip = {
			fail_text = "requires_building_resort_major_capital"
			OR = {
				has_building = building_resort_major_capital
				# External
					# ACOT
					has_building = @building_dm_ancient_palace
					has_building = @building_ae_ancient_palace
					has_building = @building_heaven_sanctuary
					has_building = @building_ancient_palace
					has_building = @building_phanon_tower
					# AOT
					has_building = @building_stellarite_palace
					has_building = @building_stellarite_control_center
					has_building = @building_stellarite_hive_cluster
					has_building = @building_phanon_palace
					# Star Wars: Kuat Ancient Empire
					has_building = @building_kuat_command_center
					# Twinks Atlantean
					has_building = @building_ancient_palace_at
					# Twinks Kaldorei
					has_building = @building_nightelf_palace
					# Special Colonies Overhaul
					has_building = @building_SCO_resort_system_capital
				# /
			}
		}
	}
	else_if = {
		limit = { has_modifier = slave_colony }
		custom_tooltip = {
			fail_text = "requires_building_slave_major_capital"
			OR = {
				has_building = building_slave_major_capital
				# External
					# ACOT
					has_building = @building_dm_ancient_palace
					has_building = @building_ae_ancient_palace
					has_building = @building_heaven_sanctuary
					has_building = @building_ancient_palace
					has_building = @building_phanon_tower
					# AOT
					has_building = @building_stellarite_palace
					has_building = @building_stellarite_control_center
					has_building = @building_stellarite_hive_cluster
					has_building = @building_phanon_palace
					# Star Wars: Kuat Ancient Empire
					has_building = @building_kuat_command_center
					# Twinks Atlantean
					has_building = @building_ancient_palace_at
					# Twinks Kaldorei
					has_building = @building_nightelf_palace
					# Special Colonies Overhaul
					has_building = @building_SCO_slave_system_capital
				# /
			}
		}
	}
	else_if = {
		limit = {
			uses_habitat_capitals = yes 
			tec_uses_regular_capital_override = no
		}
		OR = {
			# Regular
			has_building = building_hab_system_capital
			# Scifi

			# Machine
			has_building = building_tec_hab_machine_system_capital

			# Hive
			has_building = building_tec_hab_hive_system_capital
			# Biohive
			has_building = building_tec_hab_biohive_system_capital
			# Cyberhive
			has_building = building_tec_hab_cyberhive_system_capital
		}
	}
	else_if = {
		limit = {
			owner = {
				is_hive_empire = yes
			}
		}
		custom_tooltip = {
			fail_text = "requires_building_major_hive_capital"
			OR = {
				has_building = building_hive_major_capital
				has_building = building_hive_system_capital
				has_building = building_hive_galactic_capital
				has_building = building_imperial_hive_capital

				# Stellaris Evolved Cyber 
				has_building = building_tec_cyberhive_major_capital
				has_building = building_tec_cyberhive_system_capital
				has_building = building_tec_cyberhive_galactic_capital
				has_building = building_tec_cyberhive_imperial_capital

				# Stellaris Evolved Bio
				has_building = building_tec_biohive_major_capital
				has_building = building_tec_biohive_system_capital
				has_building = building_tec_biohive_galactic_capital
				has_building = building_tec_biohive_imperial_capital

				# Hive fe
				has_building = @building_tec_hive_fe_capital
				has_building = @building_tec_hive_fe_major_capital
				has_building = @building_tec_cyberhive_fe_capital
				has_building = @building_tec_cyberhive_fe_major_capital
				has_building = @building_tec_biohive_fe_capital
				has_building = @building_tec_biohive_fe_major_capital

				# External
					# ACOT
					has_building = @building_dm_ancient_hive_cluster
					has_building = @building_ae_ancient_hive_cluster
					has_building = @building_phanon_tower
					# AOT
					has_building = @building_stellarite_hive_cluster
					has_building = @building_phanon_hive_cluster
					# Star Wars: Kuat Ancient Empire
					has_building = @building_kuat_command_center
					# galacot
					has_building = @building_dm_galactic_hive_capital
					has_building = @building_ae_galactic_hive_capital
					has_building = @building_stellarite_galactic_hive_capital
					# All that is GRIMDARK
					has_building = @building_hive_major_capital_sick
				# /
			}
		}
	}
	else_if = {
		limit = {
			owner = {
				is_machine_empire = yes
			}
		}
		OR = {
			has_building = building_machine_system_capital
			# Stellaris evolved old
			has_building = building_tec_old_machine_system_capital
			# Machine fe
			has_building = @building_tec_machine_fe_capital
		}
	}
	else = {
		OR = {
			has_building = building_major_capital
			has_building = building_system_capital
			has_building = building_galactic_capital
			has_building = building_imperial_capital
			# Stellaris evolved scifi
			has_building = building_tec_scifi_major_capital
			has_building = building_tec_scifi_system_capital
			has_building = building_tec_scifi_galactic_capital
			has_building = building_tec_scifi_imperial_capital
			# Stellaris evolved exo
			has_building = @building_tec_exo_major_capital
			has_building = @building_tec_exo_system_capital
			has_building = @building_tec_exo_galactic_capital
			has_building = @building_tec_exo_imperial_capital
			# Stelaris evolved biocapital
			has_building = @building_tec_bio_major_capital
			has_building = @building_tec_bio_system_capital
			has_building = @building_tec_bio_galactic_capital
			has_building = @building_tec_bio_imperial_capital
			# Stelaris evolved Kohn
			has_building = @building_tec_kohn_major_capital
			has_building = @building_tec_kohn_system_capital
			has_building = @building_tec_kohn_galactic_capital
			has_building = @building_tec_kohn_imperial_capital
			# External
				# ACOT
				has_building = @building_dm_ancient_palace
				has_building = @building_ae_ancient_palace
				has_building = @building_phanon_tower
				# AOT
				has_building = @building_stellarite_palace
				has_building = @building_phanon_palace
				# Azur Lane Stellaris DLC
				has_building = @azur_building_mind_capital
				has_building = @azur_building_mind_net_capital	
				# Star Wars: Kuat Ancient Empire
				has_building = @building_kuat_command_center
				# Nirvana Empire Project
				has_building = @building_nirvana_empire_palace
				# Twinks Atlantean
				has_building = @building_ancient_palace_at
				# Twinks Kaldorei
				has_building = @building_nightelf_palace
				# galacot
				has_building = @building_dm_galactic_capital
				has_building = @building_ae_galactic_capital
				has_building = @building_stellarite_galactic_capital
				has_building = @building_dm_galactic_hive_capital
				has_building = @building_ae_galactic_hive_capital
				has_building = @building_stellarite_galactic_hive_capital
				has_building = @building_dm_galactic_machine_capital
				has_building = @building_ae_galactic_machine_capital
				has_building = @building_stellarite_galactic_machine_capital
				# All that is GRIMDARK
				has_building = @building_system_capital_gr
			# /
		}
	}
}

tec_has_t5_capital = {	# Galactic Capital
	if = {
		limit = {
			owner = {
				is_hive_empire = yes
			}
		}
		OR = {
			has_building = building_hive_galactic_capital
			has_building = building_tec_cyberhive_galactic_capital
			has_building = building_tec_biohive_galactic_capital
		}
	}
	else_if = {
		limit = {
			owner = {
				is_machine_empire = yes
			}
		}
		OR = {
			has_building = building_machine_galactic_capital
			# Stellaris evolved old
			has_building = building_tec_old_machine_galactic_capital
			# Machine fe
			has_building = @building_tec_machine_fe_major_capital
			
			# External
				# ACOT
				has_building = @building_dm_ancient_control_center 
				has_building = @building_ae_ancient_control_center
				has_building = @building_phanon_tower
				# AOT
				has_building = @building_stellarite_control_center
				has_building = @building_phanon_control_center
				# Star Wars: Kuat Ancient Empire
				has_building = @building_kuat_command_center
				# galacot
				has_building = @building_dm_galactic_machine_capital
				has_building = @building_ae_galactic_machine_capital
				has_building = @building_stellarite_galactic_machine_capital
			# /
		}
	}
	else = {
		custom_tooltip = {
			fail_text = "requires_building_major_capital"
			OR = {
				has_building = building_galactic_capital
				has_building = building_tec_scifi_galactic_capital
				has_building = @building_tec_exo_galactic_capital
				has_building = @building_tec_bio_galactic_capital
				has_building = @building_tec_kohn_galactic_capital
			}
		}
	}
}

tec_has_imperial_capital = {	# Imperial Capital
	if = {
		limit = {
			owner = {
				is_hive_empire = yes
			}
		}
		OR = {
			has_building = building_imperial_hive_capital
			has_building = building_tec_cyberhive_imperial_capital
			has_building = building_tec_biohive_imperial_capital
		}
	}
	else_if = {
		limit = {
			owner = {
				is_machine_empire = yes
			}
		}
		has_building = building_imperial_machine_capital
	}
	else = {
		OR = {
			has_building = building_imperial_capital
			has_building = building_tec_scifi_imperial_capital
			has_building = @building_tec_exo_imperial_capital
			has_building = @building_tec_bio_imperial_capital
			has_building = @building_tec_kohn_imperial_capital
		}
	}
}


tec_has_compat_full_upgraded_capital = {
	OR = {
		
	}
}

tec_has_compat_major_upgraded_capital = {
	OR = {
		
	}
}

tec_has_compat_upgraded_capital = {
	OR = {
		
	}
}


tec_has_machine_extraction_capital = {
	exists = owner
	owner = {
		is_machine_empire = yes
	}
	OR = {
		has_active_building = building_tec_machine_extraction_deployment_post
		has_active_building = building_tec_machine_extraction_capital
		has_active_building = building_tec_machine_extraction_major_capital
		has_active_building = building_tec_machine_extraction_system_capital
		has_active_building = building_tec_machine_extraction_galactic_capital
	}
}

tec_has_machine_production_capital = {
	exists = owner
	owner = {
		is_machine_empire = yes
	}
	OR = {
		has_active_building = building_tec_machine_production_deployment_post
		has_active_building = building_tec_machine_production_capital
		has_active_building = building_tec_machine_production_major_capital
		has_active_building = building_tec_machine_production_system_capital
		has_active_building = building_tec_machine_production_galactic_capital
	}
}

tec_planet_allows_automation = {
	if = {
		limit = {
			exists = owner 
			owner = {
				is_machine_empire = yes
			}
		}
		tec_has_machine_extraction_capital = yes
	}
	else = {
		NOT = {
			has_planet_flag = tec_automation_mechanic_off
		}
	}
}
