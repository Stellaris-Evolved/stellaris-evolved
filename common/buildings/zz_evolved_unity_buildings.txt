# -----------------------------------------
# UNITY BUILDINGS
# -----------------------------------------
# Note - Bureaucratic buildings are available for every regular empire
# Bureaucrats will add a small amount of edict funds

# BASIC UNITY PRODUCTION
# -----------------------------------------
 # --------------- Bureaucrats
	building_bureaucratic_1 = {
		base_buildtime = @b1_time
		position_priority = 130		# Admin

		category = unity

		prerequisites = {
			"tech_planetary_government"
		}

		show_tech_unlock_if = {
			is_regular_empire = yes
			tec_has_bureaucratic_buildings_swap = no
		}

		upgrades = {
			"building_bureaucratic_2"
		}

		potential = {
			exists = owner
			owner = {
				is_regular_empire = yes
				tec_has_bureaucratic_buildings_swap = no
			}
			NOT = { has_modifier = slave_colony }
		}

		inline_script = buildings/convert_to/inline_evolved_bureaucratic_1
		inline_script = buildings/convert_to/inline_evolved_temple_1

		resources = {
			category = planet_buildings
			inline_script = {
				script = buildings/resources/inline_evolved_resource_cost
				tier = 1
			}
		}

		inline_script = {
			script = buildings/effects/type/inline_evolved_bureaucratic
			tier = 1
			type = regular
		}

		inline_script = {
			script = jobs/inline_evolved_bureaucrat
			count = @b1_jobs
			mult = 1
			display = with_desc
			trigger = ""
		}
	}

	building_bureaucratic_2 = {
		base_buildtime = @b2_time
		can_build = no
		position_priority = 130		# Admin

		category = unity

		prerequisites = {
			"tech_colonial_bureaucracy"
		}

		show_tech_unlock_if = {
			is_regular_empire = yes
			tec_has_bureaucratic_buildings_swap = no
		}

		upgrades = {
			"building_bureaucratic_3"
		}

		potential = {
			exists = owner
			owner = {
				is_regular_empire = yes
				tec_has_bureaucratic_buildings_swap = no
			}
			NOT = { has_modifier = slave_colony }
		}

		allow = {
			has_upgraded_capital = yes
			tec_ai_allow_rare_dependant_building = {
				tier = 2
				rare = rare_crystals
			}
		}

		inline_script = buildings/convert_to/inline_evolved_bureaucratic_2
		inline_script = buildings/convert_to/inline_evolved_temple_2

		resources = {
			category = planet_buildings
			inline_script = {
				script = buildings/resources/inline_evolved_resource_cost
				tier = 2
			}

			inline_script = {
				script = buildings/resources/inline_evolved_rare_resource_cost
				tier = 2
				rare = rare_crystals
			}
		}

		inline_script = {
			script = jobs/inline_evolved_bureaucrat
			count = @b2_jobs
			mult = 1
			display = with_desc
			trigger = ""
		}

		inline_script = {
			script = buildings/effects/type/inline_evolved_bureaucratic
			tier = 2
			type = regular
		}

		inline_script = {
			script = buildings/inline_evolved_aibait_upgrade
			job = bureaucrat
			trigger = ""
		}
	}

	building_bureaucratic_3 = {
		base_buildtime = @b3_time
		can_build = no
		position_priority = 130		# Admin

		category = unity

		prerequisites = {
			"tech_galactic_bureaucracy"
		}

		show_tech_unlock_if = {
			is_regular_empire = yes
			tec_has_bureaucratic_buildings_swap = no
		}

		potential = {
			exists = owner
			owner = {
				is_regular_empire = yes
				tec_has_bureaucratic_buildings_swap = no
			}
			NOT = { has_modifier = slave_colony }
		}

		allow = {
			has_upgraded_capital = yes
			tec_ai_allow_rare_dependant_building = {
				tier = 3
				rare = rare_crystals
			}
		}

		inline_script = buildings/convert_to/inline_evolved_bureaucratic_3
		inline_script = buildings/convert_to/inline_evolved_temple_3

		resources = {
			category = planet_buildings
			inline_script = {
				script = buildings/resources/inline_evolved_resource_cost
				tier = 3
			}

			inline_script = {
				script = buildings/resources/inline_evolved_rare_resource_cost
				tier = 3
				rare = rare_crystals
			}
		}

		inline_script = {
			script = jobs/inline_evolved_bureaucrat
			count = @b3_jobs
			mult = 1
			display = with_desc
			trigger = ""
		}

		inline_script = {
			script = buildings/effects/type/inline_evolved_bureaucratic
			tier = 3
			type = regular
		}

		inline_script = {
			script = buildings/inline_evolved_aibait_upgrade
			job = bureaucrat
			trigger = ""
		}
	}
 # /
 # --------------- AI auth - Directly replaces bureaucratic buildings
	building_tec_aiauth_1 = {
		base_buildtime = @b1_time
		position_priority = 130		# Admin

		category = unity

		prerequisites = {
			"tech_planetary_government"
		}

		show_tech_unlock_if = {
			tec_is_aiauth_empire = yes
		}

		upgrades = {
			"building_tec_aiauth_2"
		}

		potential = {
			exists = owner
			owner = {
				tec_is_aiauth_empire = yes
			}
			NOT = { has_modifier = slave_colony }
		}

		destroy_trigger = {
			exists = owner
			owner = {
				tec_is_aiauth_empire = no
			}
		}

		inline_script = buildings/convert_to/inline_evolved_bureaucratic_1
		inline_script = buildings/convert_to/inline_evolved_temple_1

		resources = {
			category = planet_buildings
			inline_script = {
				script = buildings/resources/inline_evolved_resource_cost
				tier = 1
			}
		}

		inline_script = {
			script = jobs/inline_evolved_bureaucrat
			count = @b1_jobs
			mult = 1
			display = with_desc
			trigger = ""
		}

		inline_script = {
			script = buildings/effects/type/inline_evolved_bureaucratic
			tier = 1
			type = regular
		}
	}

	building_tec_aiauth_2 = {
		base_buildtime = @b2_time
		can_build = no
		position_priority = 130		# Admin

		category = unity

		prerequisites = {
			"tech_colonial_bureaucracy"
		}

		show_tech_unlock_if = {
			tec_is_aiauth_empire = yes
		}

		upgrades = {
			"building_tec_aiauth_3"
		}

		potential = {
			exists = owner
			owner = {
				tec_is_aiauth_empire = yes
			}
			NOT = { has_modifier = slave_colony }
		}

		destroy_trigger = {
			exists = owner
			owner = { tec_is_aiauth_empire = no }
		}

		allow = {
			has_upgraded_capital = yes
			tec_ai_allow_rare_dependant_building = {
				tier = 2
				rare = rare_crystals
			}
		}

		inline_script = buildings/convert_to/inline_evolved_bureaucratic_2
		inline_script = buildings/convert_to/inline_evolved_temple_2

		resources = {
			category = planet_buildings
			inline_script = {
				script = buildings/resources/inline_evolved_resource_cost
				tier = 2
			}

			inline_script = {
				script = buildings/resources/inline_evolved_rare_resource_cost
				tier = 2
				rare = rare_crystals
			}
		}

		inline_script = {
			script = jobs/inline_evolved_bureaucrat
			count = @b2_jobs
			mult = 1
			display = with_desc
			trigger = ""
		}

		inline_script = {
			script = buildings/effects/type/inline_evolved_bureaucratic
			tier = 2
			type = regular
		}

		inline_script = {
			script = buildings/inline_evolved_aibait_upgrade
			job = tec_ai_operator
			trigger = ""
		}
	}

	building_tec_aiauth_3 = {
		base_buildtime = @b3_time
		can_build = no
		position_priority = 130		# Admin

		category = unity

		prerequisites = {
			"tech_galactic_bureaucracy"
		}

		show_tech_unlock_if = {
			tec_is_aiauth_empire = yes
		}

		potential = {
			exists = owner
			owner = {
				tec_is_aiauth_empire = yes
			}
			NOT = { has_modifier = slave_colony }
		}

		allow = {
			has_upgraded_capital = yes
			tec_ai_allow_rare_dependant_building = {
				tier = 3
				rare = rare_crystals
			}
		}

		destroy_trigger = {
			exists = owner
			owner = { tec_is_aiauth_empire = no }
		}

		inline_script = buildings/convert_to/inline_evolved_bureaucratic_3
		inline_script = buildings/convert_to/inline_evolved_temple_3

		resources = {
			category = planet_buildings
			inline_script = {
				script = buildings/resources/inline_evolved_resource_cost
				tier = 3
			}

			inline_script = {
				script = buildings/resources/inline_evolved_rare_resource_cost
				tier = 3
				rare = rare_crystals
			}
		}

		inline_script = {
			script = jobs/inline_evolved_bureaucrat
			count = @b3_jobs
			mult = 1
			display = with_desc
			trigger = ""
		}

		inline_script = {
			script = buildings/effects/type/inline_evolved_bureaucratic
			tier = 3
			type = regular
		}

		inline_script = {
			script = buildings/inline_evolved_aibait_upgrade
			job = tec_ai_operator
			trigger = ""
		}
	}
 # /
 # --------------- Regular Spi
	building_temple = {
		base_buildtime = @b1_time
		position_priority = 120		# Unity

		category = unity

		prerequisites = {
			"tech_cultural_heritage"
		}

		show_tech_unlock_if = {
			tec_country_uses_priests_and_temples = yes
			NOT = { tec_is_spiritualist_main_cult = { cached = yes } }
		}

		upgrades = {
			building_holotemple
		}

		potential = {
			exists = owner
			owner = {
				tec_country_uses_priests_and_temples = yes
				NOT = { tec_is_spiritualist_main_cult = { cached = yes } }
			}
			NOT = { has_modifier = slave_colony }
		}

		inline_script = buildings/convert_to/inline_evolved_temple_1
		inline_script = buildings/convert_to/inline_evolved_bureaucratic_1

		resources = {
			category = planet_buildings
			inline_script = {
				script = buildings/resources/inline_evolved_resource_cost
				tier = 1
			}
		}

		# Modifiers
			planet_modifier = {
				pop_ethic_spiritualist_attraction_mult = 0.05
			}
		# /

		inline_script = {
			script = jobs/inline_evolved_job
			job = priest
			count = @b1_jobs
			mult = 1
			display = with_desc
			trigger = ""
		}

		inline_script = {
			script = buildings/effects/type/inline_evolved_temple
			tier = 1
		}
	}

	building_holotemple = {
		base_buildtime = @b2_time
		position_priority = 120		# Unity
		can_build = no

		category = unity

		prerequisites = {
			"tech_holographic_rituals"
		}

		show_tech_unlock_if = {
			tec_country_uses_priests_and_temples = yes
			NOT = { tec_is_spiritualist_main_cult = { cached = yes } }
		}

		upgrades = {
			building_sacred_nexus
		}

		potential = {
			exists = owner
			owner = {
				tec_country_uses_priests_and_temples = yes
				NOT = { tec_is_spiritualist_main_cult = { cached = yes } }
			}
			NOT = {
				has_modifier = slave_colony
			}
		}

		allow = {
			has_upgraded_capital = yes
			tec_ai_allow_rare_dependant_building = {
				tier = 2
				rare = rare_crystals
			}
		}

		inline_script = buildings/convert_to/inline_evolved_temple_2
		inline_script = buildings/convert_to/inline_evolved_bureaucratic_2

		resources = {
			category = planet_buildings
			inline_script = {
				script = buildings/resources/inline_evolved_resource_cost
				tier = 2
			}
			inline_script = {
				script = buildings/resources/inline_evolved_rare_resource_cost
				tier = 2
				rare = rare_crystals
			}
		}

		# Modifiers
			planet_modifier = {
				pop_ethic_spiritualist_attraction_mult = 0.10
			}
		# /

		inline_script = {
			script = jobs/inline_evolved_job
			job = priest
			count = @b2_jobs
			mult = 1
			display = with_desc
			trigger = ""
		}

		inline_script = {
			script = buildings/effects/type/inline_evolved_temple
			tier = 2
		}

		inline_script = {
			script = buildings/inline_evolved_aibait_upgrade
			job = priest
			trigger = ""
		}
	}

	building_sacred_nexus = {
		base_buildtime = @b3_time
		can_build = no
		position_priority = 120		# Unity

		category = unity

		prerequisites = {
			"tech_consecration_fields"
		}

		show_tech_unlock_if = {
			tec_country_uses_priests_and_temples = yes
			NOT = { tec_is_spiritualist_main_cult = { cached = yes } }
		}

		potential = {
			exists = owner
			owner = {
				tec_country_uses_priests_and_temples = yes
				NOT = { tec_is_spiritualist_main_cult = { cached = yes } }
			}
			NOT = {
				has_modifier = slave_colony
			}
		}

		allow = {
			has_major_upgraded_capital = yes
			tec_ai_allow_rare_dependant_building = {
				tier = 3
				rare = rare_crystals
			}
		}

		inline_script = buildings/convert_to/inline_evolved_temple_3
		inline_script = buildings/convert_to/inline_evolved_bureaucratic_3

		resources = {
			category = planet_buildings
			inline_script = {
				script = buildings/resources/inline_evolved_resource_cost
				tier = 3
			}
			inline_script = {
				script = buildings/resources/inline_evolved_rare_resource_cost
				tier = 3
				rare = rare_crystals
			}
		}

		planet_modifier = {
			pop_ethic_spiritualist_attraction_mult = 0.15
		}

		inline_script = {
			script = jobs/inline_evolved_job
			job = priest
			count = @b3_jobs
			mult = 1
			display = with_desc
			trigger = ""
		}

		inline_script = {
			script = buildings/effects/type/inline_evolved_temple
			tier = 3
		}

		inline_script = {
			script = buildings/inline_evolved_aibait_upgrade
			job = priest
			trigger = ""
		}
	}
 # /
 # --------------- Death cult
	building_sacrificial_temple_1 = { # Sacrificial Temple (basic)
		base_buildtime = @b1_time
		position_priority = 120		# Unity

		category = unity

		prerequisites = { "tech_cultural_heritage" }

		show_tech_unlock_if = {
			tec_is_death_cult = yes
		}

		upgrades = { building_sacrificial_temple_2 }

		potential = {
			exists = owner
			owner = {
				tec_is_death_cult = yes
			}
			NOT = { has_modifier = slave_colony }
		}

		destroy_trigger = {
			exists = owner
			OR = {
				owner = {
					tec_is_death_cult = no
				}
				has_modifier = slave_colony
			}
		}

		inline_script = buildings/convert_to/inline_evolved_temple_1
		inline_script = buildings/convert_to/inline_evolved_bureaucratic_1

		resources = {
			category = planet_buildings
			inline_script = {
				script = buildings/resources/inline_evolved_resource_cost
				tier = 1
			}
		}

		planet_modifier = {
			pop_ethic_spiritualist_attraction_mult = 0.15
		}

		inline_script = {
			script = jobs/inline_evolved_job
			job = death_priest
			count = @b1_half_jobs
			mult = 1
			display = with_desc
			trigger = ""
		}

		inline_script = {
			script = jobs/inline_evolved_job
			job = mortal_initiate
			count = @b1_half_jobs
			mult = 1
			display = with_desc
			trigger = ""
		}

		inline_script = {
			script = buildings/effects/type/inline_evolved_temple
			tier = 1
		}
	}

	building_sacrificial_temple_2 = { # Grim Holotemple
		base_buildtime = @b2_time
		can_build = no
		position_priority = 120		# Unity

		category = unity

		prerequisites = { "tech_holographic_rituals" }

		show_tech_unlock_if = {
			tec_is_death_cult = yes
		}

		upgrades = { building_sacrificial_temple_3 }

		potential = {
			exists = owner
			owner = {
				tec_is_death_cult = yes
			}
			NOT = { has_modifier = slave_colony }
		}

		allow = {
			exists = owner
			has_upgraded_capital = yes
			tec_ai_allow_rare_dependant_building = {
				tier = 2
				rare = rare_crystals
			}
		}

		destroy_trigger = {
			exists = owner
			OR = {
				owner = {
					tec_is_death_cult = no
				}
				has_modifier = slave_colony
			}
		}


		inline_script = buildings/convert_to/inline_evolved_temple_2
		inline_script = buildings/convert_to/inline_evolved_bureaucratic_2

		resources = {
			category = planet_buildings
			inline_script = {
				script = buildings/resources/inline_evolved_resource_cost
				tier = 2
			}
			inline_script = {
				script = buildings/resources/inline_evolved_rare_resource_cost
				tier = 2
				rare = rare_crystals
			}
		}

		planet_modifier = {
			pop_ethic_spiritualist_attraction_mult = 0.1
		}

		inline_script = {
			script = jobs/inline_evolved_job
			job = death_priest
			count = @b2_half_jobs
			mult = 1
			display = with_desc
			trigger = ""
		}

		inline_script = {
			script = jobs/inline_evolved_job
			job = mortal_initiate
			count = @b2_half_jobs
			mult = 1
			display = with_desc
			trigger = ""
		}

		inline_script = {
			script = buildings/effects/type/inline_evolved_temple
			tier = 2
		}

		inline_script = {
			script = buildings/inline_evolved_aibait_upgrade
			job = death_priest
			trigger = ""
		}

		inline_script = {
			script = buildings/inline_evolved_aibait_upgrade
			job = mortal_initiate
			trigger = ""
		}
	}

	building_sacrificial_temple_3 = { # Temple of Grand Sacrifice
		base_buildtime = @b3_time
		can_build = no
		position_priority = 120		# Unity

		category = unity

		prerequisites = { "tech_consecration_fields" }

		show_tech_unlock_if = {
			tec_is_death_cult = yes
		}

		potential = {
			exists = owner
			owner = {
				tec_is_death_cult = yes
			}
			NOT = { has_modifier = slave_colony }
		}

		allow = {
			has_major_upgraded_capital = yes
			tec_ai_allow_rare_dependant_building = {
				tier = 3
				rare = rare_crystals
			}
		}

		destroy_trigger = {
			exists = owner
			OR = {
				owner = {
					tec_is_death_cult = no
				}
				has_modifier = slave_colony
			}
		}


		inline_script = buildings/convert_to/inline_evolved_temple_3
		inline_script = buildings/convert_to/inline_evolved_bureaucratic_3

		resources = {
			category = planet_buildings
			inline_script = {
				script = buildings/resources/inline_evolved_resource_cost
				tier = 3
			}
			inline_script = {
				script = buildings/resources/inline_evolved_rare_resource_cost
				tier = 3
				rare = rare_crystals
			}
		}

		planet_modifier = {
			pop_ethic_spiritualist_attraction_mult = 0.15
		}

		inline_script = {
			script = jobs/inline_evolved_job
			job = death_priest
			count = @b3_half_jobs
			mult = 1
			display = with_desc
			trigger = ""
		}

		inline_script = {
			script = jobs/inline_evolved_job
			job = mortal_initiate
			count = @b3_half_jobs
			mult = 1
			display = with_desc
			trigger = ""
		}

		inline_script = {
			script = buildings/effects/type/inline_evolved_temple
			tier = 3
		}

		inline_script = {
			script = buildings/inline_evolved_aibait_upgrade
			job = death_priest
			trigger = ""
		}

		inline_script = {
			script = buildings/inline_evolved_aibait_upgrade
			job = mortal_initiate
			trigger = ""
		}
	}
 # /
 # --------------- Machine cult
	building_tec_mecha_temple_1 = { # Mecha-Temple (basic)
		base_buildtime = @b1_time
		position_priority = 120		# Unity

		category = unity

		prerequisites = { "tech_cultural_heritage" }

		show_tech_unlock_if = {
			tec_is_machine_cult = yes
		}

		upgrades = { building_tec_mecha_temple_2 }

		potential = {
			exists = owner
			owner = {
				tec_is_machine_cult = yes
			}
			NOT = { has_modifier = slave_colony }
		}

		destroy_trigger = {
			exists = owner
			OR = {
				owner = {
					tec_is_machine_cult = no
				}
				has_modifier = slave_colony
			}
		}


		inline_script = buildings/convert_to/inline_evolved_temple_1
		inline_script = buildings/convert_to/inline_evolved_bureaucratic_1

		resources = {
			category = planet_buildings
			inline_script = {
				script = buildings/resources/inline_evolved_resource_cost
				tier = 1
			}
		}

		planet_modifier = {
			pop_ethic_spiritualist_attraction_mult = 0.05
			planet_pops_robotics_upkeep_mult = -0.025
		}

		inline_script = {
			script = jobs/inline_evolved_job
			job = tec_mecha_priest
			count = @b1_jobs
			mult = 1
			display = with_desc
			trigger = ""
		}

		inline_script = {
			script = buildings/effects/type/inline_evolved_temple
			tier = 1
		}
	}

	building_tec_mecha_temple_2 = { # Mecha Holotemple
		base_buildtime = @b2_time
		can_build = no
		position_priority = 120		# Unity

		category = unity

		prerequisites = { "tech_holographic_rituals" }

		show_tech_unlock_if = {
			tec_is_machine_cult = yes
		}

		upgrades = { building_tec_mecha_temple_3 }

		potential = {
			exists = owner
			owner = {
				tec_is_machine_cult = yes
			}
			NOT = { has_modifier = slave_colony }
		}

		allow = {
			exists = owner
			has_upgraded_capital = yes
			tec_ai_allow_rare_dependant_building = {
				tier = 2
				rare = rare_crystals
			}
		}

		destroy_trigger = {
			exists = owner
			OR = {
				owner = {
					tec_is_machine_cult = no
				}
				has_modifier = slave_colony
			}
		}

		inline_script = buildings/convert_to/inline_evolved_temple_2
		inline_script = buildings/convert_to/inline_evolved_bureaucratic_2

		resources = {
			category = planet_buildings
			inline_script = {
				script = buildings/resources/inline_evolved_resource_cost
				tier = 2
			}
			inline_script = {
				script = buildings/resources/inline_evolved_rare_resource_cost
				tier = 2
				rare = rare_crystals
			}
		}

		planet_modifier = {
			pop_ethic_spiritualist_attraction_mult = 0.1
			planet_pops_robotics_upkeep_mult = -0.025
		}

		inline_script = {
			script = jobs/inline_evolved_job
			job = tec_mecha_priest
			count = @b2_jobs
			mult = 1
			display = with_desc
			trigger = ""
		}

		inline_script = {
			script = buildings/effects/type/inline_evolved_temple
			tier = 2
		}

		inline_script = {
			script = buildings/inline_evolved_aibait_upgrade
			job = tec_mecha_priest
			trigger = ""
		}
	}

	building_tec_mecha_temple_3 = { # Temple of the Holy Machine
		base_buildtime = @b3_time
		can_build = no
		position_priority = 120		# Unity

		category = unity

		prerequisites = { "tech_consecration_fields" }

		show_tech_unlock_if = {
			tec_is_machine_cult = yes
		}

		potential = {
			exists = owner
			owner = {
				tec_is_machine_cult = yes
			}
			NOT = { has_modifier = slave_colony }
		}

		allow = {
			has_major_upgraded_capital = yes
			tec_ai_allow_rare_dependant_building = {
				tier = 3
				rare = rare_crystals
			}
		}

		destroy_trigger = {
			exists = owner
			OR = {
				owner = {
					tec_is_machine_cult = no
				}
				has_modifier = slave_colony
			}
		}


		inline_script = buildings/convert_to/inline_evolved_temple_3
		inline_script = buildings/convert_to/inline_evolved_bureaucratic_3

		resources = {
			category = planet_buildings
			inline_script = {
				script = buildings/resources/inline_evolved_resource_cost
				tier = 3
			}
			inline_script = {
				script = buildings/resources/inline_evolved_rare_resource_cost
				tier = 3
				rare = rare_crystals
			}
		}


		planet_modifier = {
			pop_ethic_spiritualist_attraction_mult = 0.15
			planet_pops_robotics_upkeep_mult = -0.025
		}

		inline_script = {
			script = jobs/inline_evolved_job
			job = tec_mecha_priest
			count = @b3_jobs
			mult = 1
			display = with_desc
			trigger = ""
		}


		inline_script = {
			script = buildings/effects/type/inline_evolved_temple
			tier = 3
		}

		inline_script = {
			script = buildings/inline_evolved_aibait_upgrade
			job = tec_mecha_priest
			trigger = ""
		}
	}
 # /
 # --------------- Paperwork Cult
	#building_tec_paperwork_temple_1
	#building_tec_paperwork_temple_2
	#building_tec_paperwork_temple_3
 # /
 # --------------- Star Cult
	#building_tec_star_temple_1
	#building_tec_star_temple_2
	#building_tec_star_temple_3
 # /
 # --------------- Atom Cult
	#building_tec_atom_temple_1
	#building_tec_atom_temple_2
	#building_tec_atom_temple_3
 # /
 # --------------- Cycle Cult
	#building_tec_cycle_temple_1
	#building_tec_cycle_temple_2
	#building_tec_cycle_temple_3
 # /

 # Note: gestalts attempt to fallback to temples, and if not possible, to bureaucratic
 # --------------- Hiveminds
	building_hive_node = {
		base_buildtime = @b1_time
		position_priority = 120		# Unity
		exempt_from_ai_planet_specialization = no

		category = unity

		prerequisites = {
			"tech_hive_node"
		}

		show_tech_unlock_if = {
			is_hive_empire = yes
			tec_is_cyberhive = no
			tec_is_biohive = no
			tec_has_bureaucratic_buildings_swap = no
		}

		upgrades = {
			building_hive_cluster
		}

		potential = {
			exists = owner
			owner = {
				is_hive_empire = yes
				tec_is_cyberhive = no
				tec_is_biohive = no
				tec_has_bureaucratic_buildings_swap = no
			}
		}

		inline_script = buildings/convert_to/inline_evolved_bureaucratic_1
		inline_script = buildings/convert_to/inline_evolved_temple_1

		resources = {
			category = planet_buildings
			inline_script = {
				script = buildings/resources/inline_evolved_resource_cost
				tier = 1
			}
		}

		inline_script = {
			script = jobs/inline_evolved_synapse
			count = @b1_jobs
			mult = 1
			trigger = ""
			display = with_desc
		}

		inline_script = {
			script = buildings/effects/type/inline_evolved_bureaucratic
			tier = 1
			type = hive
		}
	}
	building_hive_cluster = {
		base_buildtime = @b2_time
		can_build = no
		exempt_from_ai_planet_specialization = no
		position_priority = 120		# Unity

		category = unity

		prerequisites = {
			"tech_hive_cluster"
		}

		show_tech_unlock_if = {
			is_hive_empire = yes
			tec_is_cyberhive = no
			tec_is_biohive = no
			tec_has_bureaucratic_buildings_swap = no
		}

		upgrades = {
			building_hive_confluence
		}

		potential = {
			exists = owner
			owner = {
				is_hive_empire = yes
				tec_is_cyberhive = no
				tec_is_biohive = no
			}
		}

		allow = {
			has_upgraded_capital = yes

			tec_ai_allow_rare_dependant_building = {
				tier = 2
				rare = rare_crystals
			}
		}

		inline_script = buildings/convert_to/inline_evolved_bureaucratic_2
		inline_script = buildings/convert_to/inline_evolved_temple_2

		resources = {
			category = planet_buildings
			inline_script = {
				script = buildings/resources/inline_evolved_resource_cost
				tier = 2
			}
			inline_script = {
				script = buildings/resources/inline_evolved_rare_resource_cost
				tier = 2
				rare = rare_crystals
			}
		}

		inline_script = {
			script = jobs/inline_evolved_synapse
			count = @b2_jobs
			mult = 1
			trigger = ""
			display = with_desc
		}

		inline_script = {
			script = buildings/effects/type/inline_evolved_bureaucratic
			tier = 2
			type = hive
		}

		inline_script = {
			script = buildings/inline_evolved_aibait_upgrade
			job = tec_resonance_drone
			trigger = ""
		}
	}
	building_hive_confluence = {
		base_buildtime = @b3_time
		can_build = no
		position_priority = 120		# Unity

		category = unity

		prerequisites = {
			"tech_hive_confluence"
		}

		show_tech_unlock_if = {
			is_hive_empire = yes
			tec_is_cyberhive = no
			tec_is_biohive = no
			tec_has_bureaucratic_buildings_swap = no
		}

		potential = {
			exists = owner
			owner = {
				is_hive_empire = yes
				tec_is_cyberhive = no
				tec_is_biohive = no
				tec_has_bureaucratic_buildings_swap = no
			}
		}

		allow = {
			has_major_upgraded_capital = yes

			tec_ai_allow_rare_dependant_building = {
				tier = 3
				rare = rare_crystals
			}
		}

		inline_script = buildings/convert_to/inline_evolved_bureaucratic_3
		inline_script = buildings/convert_to/inline_evolved_temple_3

		resources = {
			category = planet_buildings
			inline_script = {
				script = buildings/resources/inline_evolved_resource_cost
				tier = 3
			}
			inline_script = {
				script = buildings/resources/inline_evolved_rare_resource_cost
				tier = 3
				rare = rare_crystals
			}
		}

		inline_script = {
			script = jobs/inline_evolved_synapse
			count = @b3_jobs
			mult = 1
			trigger = ""
			display = with_desc
		}

		inline_script = {
			script = buildings/effects/type/inline_evolved_bureaucratic
			tier = 3
			type = hive
		}

		inline_script = {
			script = buildings/inline_evolved_aibait_upgrade
			job = tec_resonance_drone
			trigger = ""
		}
	}
 # /
 # --------------- Cyberhives
	building_tec_cyberhive_node = {
		base_buildtime = @b1_time
		position_priority = 120		# Unity
		icon = hive_unity_t1	# WIP
		category = unity

		prerequisites = {
			"tech_hive_node"
		}

		show_tech_unlock_if = {
			tec_is_cyberhive = yes
			tec_has_bureaucratic_buildings_swap = no
		}

		upgrades = {
			building_tec_cyberhive_cluster
		}

		potential = {
			exists = owner
			owner = {
				is_hive_empire = yes
				tec_is_cyberhive = yes
				tec_has_bureaucratic_buildings_swap = no
			}
		}

		inline_script = buildings/convert_to/inline_evolved_bureaucratic_1
		inline_script = buildings/convert_to/inline_evolved_temple_1

		resources = {
			category = planet_buildings
			inline_script = {
				script = buildings/resources/inline_evolved_resource_cost
				tier = 1
			}
		}

		inline_script = {
			script = jobs/inline_evolved_synapse
			count = @b1_jobs
			mult = 1
			trigger = ""
			display = with_desc
		}

		inline_script = {
			script = buildings/effects/type/inline_evolved_bureaucratic
			tier = 1
			type = hive
		}
	}

	building_tec_cyberhive_cluster = {
		base_buildtime = @b2_time
		can_build = no
		position_priority = 120		# Unity
		icon = hive_unity_t2	# WIP

		category = unity

		prerequisites = {
			"tech_hive_cluster"
		}

		show_tech_unlock_if = {
			tec_is_cyberhive = yes
			tec_has_bureaucratic_buildings_swap = no
		}

		upgrades = {
			building_tec_cyberhive_confluence
		}

		potential = {
			exists = owner
			owner = {
				is_hive_empire = yes
				tec_is_cyberhive = yes
				tec_has_bureaucratic_buildings_swap = no
			}
		}

		allow = {
			has_upgraded_capital = yes

			tec_ai_allow_rare_dependant_building = {
				tier = 2
				rare = rare_crystals
			}
		}

		inline_script = buildings/convert_to/inline_evolved_bureaucratic_2
		inline_script = buildings/convert_to/inline_evolved_temple_2

		resources = {
			category = planet_buildings
			inline_script = {
				script = buildings/resources/inline_evolved_resource_cost
				tier = 2
			}
			inline_script = {
				script = buildings/resources/inline_evolved_rare_resource_cost
				tier = 2
				rare = rare_crystals
			}
		}

		inline_script = {
			script = jobs/inline_evolved_synapse
			count = @b2_jobs
			mult = 1
			trigger = ""
			display = with_desc
		}

		inline_script = {
			script = buildings/effects/type/inline_evolved_bureaucratic
			tier = 2
			type = hive
		}

		inline_script = {
			script = buildings/inline_evolved_aibait_upgrade
			job = tec_network_drone
			trigger = ""
		}
	}

	building_tec_cyberhive_confluence = {
		base_buildtime = @b3_time
		can_build = no
		position_priority = 120		# Unity
		icon = hive_unity_t3	# WIP

		category = unity


		prerequisites = {
			"tech_hive_confluence"
		}

		show_tech_unlock_if = {
			tec_is_cyberhive = yes
			tec_has_bureaucratic_buildings_swap = no
		}

		potential = {
			exists = owner
			owner = {
				is_hive_empire = yes
				tec_is_cyberhive = yes
				tec_has_bureaucratic_buildings_swap = no
			}
		}

		allow = {
			has_major_upgraded_capital = yes

			tec_ai_allow_rare_dependant_building = {
				tier = 3
				rare = rare_crystals
			}
		}

		inline_script = buildings/convert_to/inline_evolved_bureaucratic_3
		inline_script = buildings/convert_to/inline_evolved_temple_3

		resources = {
			category = planet_buildings
			inline_script = {
				script = buildings/resources/inline_evolved_resource_cost
				tier = 3
			}
			inline_script = {
				script = buildings/resources/inline_evolved_rare_resource_cost
				tier = 3
				rare = rare_crystals
			}
		}

		inline_script = {
			script = jobs/inline_evolved_synapse
			count = @b3_jobs
			mult = 1
			trigger = ""
			display = with_desc
		}

		inline_script = {
			script = buildings/effects/type/inline_evolved_bureaucratic
			tier = 3
			type = hive
		}

		inline_script = {
			script = buildings/inline_evolved_aibait_upgrade
			job = tec_network_drone
			trigger = ""
		}
	}
 # /
 # --------------- Biohives
	building_tec_biohive_node = {
		base_buildtime = @b1_time
		position_priority = 120		# Unity
		exempt_from_ai_planet_specialization = no

		category = unity

		prerequisites = {
			"tech_hive_node"
		}

		show_tech_unlock_if = {
			tec_is_biohive = yes
			tec_has_bureaucratic_buildings_swap = no
		}

		upgrades = {
			building_tec_biohive_cluster
		}

		potential = {
			exists = owner
			owner = {
				is_hive_empire = yes
				tec_is_biohive = yes
				tec_has_bureaucratic_buildings_swap = no
			}
		}

		inline_script = buildings/convert_to/inline_evolved_bureaucratic_1
		inline_script = buildings/convert_to/inline_evolved_temple_1

		resources = {
			category = planet_buildings
			inline_script = {
				script = buildings/resources/inline_evolved_resource_cost
				tier = 1
			}
		}

		inline_script = {
			script = jobs/inline_evolved_synapse
			count = @b1_jobs
			mult = 1
			trigger = ""
			display = with_desc
		}

		inline_script = {
			script = buildings/effects/type/inline_evolved_bureaucratic
			tier = 1
			type = hive
		}

	}
	building_tec_biohive_cluster = {
		base_buildtime = @b2_time
		can_build = no
		exempt_from_ai_planet_specialization = no
		position_priority = 120		# Unity

		category = unity

		prerequisites = {
			"tech_hive_cluster"
		}

		show_tech_unlock_if = {
			tec_is_biohive = yes
			tec_has_bureaucratic_buildings_swap = no
		}

		upgrades = {
			building_tec_biohive_confluence
		}

		potential = {
			exists = owner
			owner = {
				is_hive_empire = yes
				tec_is_biohive = yes
				tec_has_bureaucratic_buildings_swap = no
			}
		}

		allow = {
			has_upgraded_capital = yes

			tec_ai_allow_rare_dependant_building = {
				tier = 2
				rare = rare_crystals
			}
		}

		inline_script = buildings/convert_to/inline_evolved_bureaucratic_2
		inline_script = buildings/convert_to/inline_evolved_temple_2

		resources = {
			category = planet_buildings
			inline_script = {
				script = buildings/resources/inline_evolved_resource_cost
				tier = 2
			}
			inline_script = {
				script = buildings/resources/inline_evolved_rare_resource_cost
				tier = 2
				rare = rare_crystals
			}
		}

		inline_script = {
			script = jobs/inline_evolved_synapse
			count = @b2_jobs
			mult = 1
			trigger = ""
			display = with_desc
		}

		inline_script = {
			script = buildings/effects/type/inline_evolved_bureaucratic
			tier = 2
			type = hive
		}

		inline_script = {
			script = buildings/inline_evolved_aibait_upgrade
			job = synapse_drone
			trigger = ""
		}
	}
	building_tec_biohive_confluence = {
		base_buildtime = @b3_time
		can_build = no
		position_priority = 120		# Unity

		category = unity

		prerequisites = {
			"tech_hive_confluence"
		}

		show_tech_unlock_if = {
			tec_is_biohive = yes
			tec_has_bureaucratic_buildings_swap = no
		}

		potential = {
			exists = owner
			owner = {
				is_hive_empire = yes
				tec_is_biohive = yes
				tec_has_bureaucratic_buildings_swap = no
			}
		}

		allow = {
			has_major_upgraded_capital = yes

			tec_ai_allow_rare_dependant_building = {
				tier = 3
				rare = rare_crystals
			}
		}

		inline_script = buildings/convert_to/inline_evolved_bureaucratic_3
		inline_script = buildings/convert_to/inline_evolved_temple_3

		resources = {
			category = planet_buildings
			inline_script = {
				script = buildings/resources/inline_evolved_resource_cost
				tier = 3
			}
			inline_script = {
				script = buildings/resources/inline_evolved_rare_resource_cost
				tier = 3
				rare = rare_crystals
			}
		}

		inline_script = {
			script = jobs/inline_evolved_synapse
			count = @b3_jobs
			mult = 1
			trigger = ""
			display = with_desc
		}

		inline_script = {
			script = buildings/effects/type/inline_evolved_bureaucratic
			tier = 3
			type = hive
		}

		inline_script = {
			script = buildings/inline_evolved_aibait_upgrade
			job = synapse_drone
			trigger = ""
		}
	}
 # /
 # --------------- Machines
	building_uplink_node = {
		base_buildtime = @b1_time
		icon = building_autochthon_monument
		position_priority = 130		# Admin

		category = unity

		prerequisites = {
			"tech_planetary_government"
		}

		show_tech_unlock_if = {
			is_machine_empire = yes
			tec_has_bureaucratic_buildings_swap = no
		}

		upgrades = {
			"building_network_junction"
		}

		potential = {
			exists = owner
			owner = {
				is_machine_empire = yes
				tec_has_bureaucratic_buildings_swap = no
			}
		}

		inline_script = buildings/convert_to/inline_evolved_bureaucratic_1
		inline_script = buildings/convert_to/inline_evolved_temple_1

		resources = {
			category = planet_buildings
			inline_script = {
				script = buildings/resources/inline_evolved_resource_cost
				tier = 1
			}
		}

		inline_script = {
			script = jobs/inline_evolved_coordinator
			count = @b1_jobs
			mult = 1
			display = with_desc
			trigger = ""
		}

		inline_script = {
			script = buildings/effects/type/inline_evolved_bureaucratic
			tier = 1
			type = machine
		}
	}
	building_network_junction = {
		base_buildtime = @b2_time
		can_build = no
		icon = building_heritage_site
		position_priority = 130		# Admin

		category = unity

		prerequisites = {
			"tech_colonial_bureaucracy"
		}

		show_tech_unlock_if = {
			is_machine_empire = yes
			tec_has_bureaucratic_buildings_swap = no
		}

		upgrades = {
			"building_system_conflux"
		}

		potential = {
			exists = owner
			owner = {
				is_machine_empire = yes
				tec_has_bureaucratic_buildings_swap = no
			}
		}

		allow = {
			has_upgraded_capital = yes

			tec_ai_allow_rare_dependant_building = {
				tier = 2
				rare = rare_crystals
			}
		}

		inline_script = buildings/convert_to/inline_evolved_bureaucratic_2
		inline_script = buildings/convert_to/inline_evolved_temple_2

		resources = {
			category = planet_buildings
			inline_script = {
				script = buildings/resources/inline_evolved_resource_cost
				tier = 2
			}
			inline_script = {
				script = buildings/resources/inline_evolved_rare_resource_cost
				tier = 2
				rare = rare_crystals
			}
		}

		inline_script = {
			script = jobs/inline_evolved_coordinator
			count = @b2_jobs
			mult = 1
			display = with_desc
			trigger = ""
		}

		inline_script = {
			script = buildings/effects/type/inline_evolved_bureaucratic
			tier = 2
			type = machine
		}

		inline_script = {
			script = buildings/inline_evolved_aibait_upgrade
			job = coordinator
			trigger = ""
		}
	}
	building_system_conflux = {
		base_buildtime = @b3_time
		can_build = no
		icon = building_hypercomms_forum
		position_priority = 130		# Admin

		category = unity

		prerequisites = {
			"tech_galactic_bureaucracy"
		}

		show_tech_unlock_if = {
			is_machine_empire = yes
			tec_has_bureaucratic_buildings_swap = no
		}

		potential = {
			exists = owner
			owner = {
				is_machine_empire = yes
				tec_has_bureaucratic_buildings_swap = no
			}
		}

		allow = {
			has_major_upgraded_capital = yes

			tec_ai_allow_rare_dependant_building = {
				tier = 3
				rare = rare_crystals
			}
		}

		inline_script = buildings/convert_to/inline_evolved_bureaucratic_3
		inline_script = buildings/convert_to/inline_evolved_temple_3

		resources = {
			category = planet_buildings
			inline_script = {
				script = buildings/resources/inline_evolved_resource_cost
				tier = 3
			}
			inline_script = {
				script = buildings/resources/inline_evolved_rare_resource_cost
				tier = 3
				rare = rare_crystals
			}
		}

		inline_script = {
			script = jobs/inline_evolved_coordinator
			count = @b3_jobs
			mult = 1
			display = with_desc
			trigger = ""
		}

		inline_script = {
			script = buildings/effects/type/inline_evolved_bureaucratic
			tier = 3
			type = machine
		}

		inline_script = {
			script = buildings/inline_evolved_aibait_upgrade
			job = coordinator
			trigger = ""
		}
	}
 # /
 # --------------- Servitors
	building_organic_sanctuary = {
		base_buildtime = @b1_time
		position_priority = 50		# Playstyle

		category = unity

		upgrades = {
			"building_organic_paradise"
		}

		potential = {
			exists = owner
			owner = { has_valid_civic = civic_machine_servitor }
		}

		destroy_trigger = {
			exists = owner
			OR = {
				owner = {
					NOT = { owner = { has_valid_civic = civic_machine_servitor } }
				}
				AND = {
					owner = { is_ai = yes }
					count_owned_pop = { limit = { has_citizenship_type = { type = citizenship_organic_trophy country = owner } } count <= 20 }
					num_buildings = { type = building_organic_sanctuary value > 3 }
				}
				AND = {
					owner = { is_ai = yes }
					count_owned_pop = { limit = { has_citizenship_type = { type = citizenship_organic_trophy country = owner } } count <= 40 }
					num_buildings = { type = building_organic_paradise value > 5 }
				}
			}
		}

		inline_script = buildings/convert_to/inline_evolved_housing_1

		resources = {
			category = planet_buildings
			inline_script = {
				script = buildings/resources/inline_evolved_resource_cost
				tier = 1
			}
		}

		planet_modifier = {
			planet_carry_cap_add = 10
		}

		inline_script = {
			script = jobs/inline_evolved_artisan
			count = 1
			mult = 1
			display = with_desc
			trigger = ""
		}

		inline_script = {
			script = jobs/inline_evolved_job
			job = bio_trophy
			count = 10
			mult = 1
			display = with_desc
			trigger = ""
		}

		inline_script = {
			script = buildings/effects/type/inline_evolved_bureaucratic
			tier = 1
			type = machine
		}

		# We need to cheat here and tell AI that this will probably give some complex output since AI can not evaluate what this building does without the pops which it cant get without the building - chicken and egg
		ai_resource_production = {
			unity = 10
			physics_research = 10
			alloys = 5

			trigger = {
				NOT = { has_building = building_organic_sanctuary }
			}
		}

		# Here we try to adress the second issue that the AI cant evaluate the pop job output of the bio trophy given the happiness trigger that was put inplace to guard against players exploiting bio trophies

		#science
		ai_resource_production = {
			unity = 10
			physics_research = 10

			trigger = {
				has_unemployed_pop_of_category = bio_trophy

				planet_resource_compare = {
					resource = physics_research
					value >= 100
					type = produces
				}
			}
		}

		#alloys
		ai_resource_production = {
			unity = 10
			alloys = 10

			trigger = {
				has_unemployed_pop_of_category = bio_trophy

				planet_resource_compare = {
					resource = alloys
					value >= 100
					type = produces
				}
			}
		}

		#cgs
		ai_resource_production = {
			unity = 10
			consumer_goods = 10

			trigger = {
				has_unemployed_pop_of_category = bio_trophy

				planet_resource_compare = {
					resource = consumer_goods
					value >= 100
					type = produces
				}
			}
		}
	}
	building_organic_paradise = {
		base_buildtime = @b2_time
		can_build = no
		position_priority = 50		# Playstyle
		icon = building_paradise_dome

		category = unity

		prerequisites = { "tech_paradise_dome" }

		show_tech_unlock_if = {
			has_valid_civic = civic_machine_servitor
		}

		potential = {
			exists = owner
			owner = { has_valid_civic = civic_machine_servitor }
		}

		allow = {
			tec_ai_allow_rare_dependant_building = {
				tier = 2
				rare = rare_crystals
			}
		}

		destroy_trigger = {
			exists = owner
			NOT = { owner = { has_valid_civic = civic_machine_servitor } }
		}

		inline_script = buildings/convert_to/inline_evolved_housing_2

		resources = {
			category = planet_buildings
			inline_script = {
				script = buildings/resources/inline_evolved_resource_cost
				tier = 2
			}

			inline_script = {
				script = buildings/resources/inline_evolved_rare_resource_cost
				tier = 2
				rare = exotic_gases
			}
		}

		planet_modifier = {
			planet_carry_cap_add = 20
		}

		inline_script = {
			script = jobs/inline_evolved_artisan
			count = 2
			mult = 1
			display = with_desc
			trigger = ""
		}

		inline_script = {
			script = jobs/inline_evolved_maintenance_drone
			count = 1
			mult = 1
			display = with_desc
			trigger = ""
		}

		inline_script = {
			script = jobs/inline_evolved_job
			job = bio_trophy
			count = 20
			mult = 1
			display = with_desc
			trigger = ""
		}

		inline_script = {
			script = buildings/effects/type/inline_evolved_bureaucratic
			tier = 3
			type = machine
		}

		inline_script = {
			script = buildings/inline_evolved_aibait_upgrade
			job = bio_trophy
			trigger = ""
		}
	}
 # /
# /

# BOOSTERS
# -----------------------------------------
 # --------------- Regular
	building_autocurating_vault = {
		base_buildtime = @b2_time
		base_cap_amount = 1
		position_priority = 30		# Unique
		ai_estimate_without_unemployment = yes

		category = unity

		prerequisites = {
			"tech_autocurating_vault"
		}

		show_tech_unlock_if = {
			is_machine_empire = no	# see 'building_alpha_hub'
			is_megacorp = no		# see 'building_corporate_vault'
			tec_country_uses_priests_and_temples = no
		}

		potential = {
			exists = owner
			NOT = { has_modifier = slave_colony }
			owner = {
				is_machine_empire = no
				is_megacorp = no
				tec_country_uses_priests_and_temples = no
			}
		}

		allow = {
			has_major_upgraded_capital = yes
			tec_ai_allow_rare_dependant_building = {
				tier = 2
				rare = rare_crystals
			}
		}

		convert_to = {
			building_citadel_of_faith
			building_alpha_hub
			building_corporate_vault
		}

		resources = {
			category = planet_buildings
			inline_script = {
				script = buildings/resources/inline_evolved_resource_cost
				tier = 2
			}

			inline_script = {
				script = buildings/resources/inline_evolved_rare_resource_cost
				tier = 2
				rare = rare_crystals
			}


			inline_script = {
				script = buildings/resources/inline_evolved_ring_production_cost
				rare = rare_crystals
				type = unity
			}

			produces = {
				unity = 10
			}
		}

		planet_modifier = {
			planet_administrators_produces_mult = 0.15
		}
		triggered_planet_modifier = {
			potential = {
				has_ringworld_output_boost = yes
			}
			planet_administrators_unity_produces_add = 1
			planet_managers_unity_produces_add = 1
			planet_priests_unity_produces_add = 1
			planet_telepaths_unity_produces_add = 1
		}
		# ADD per Ascension
			inline_script = buildings/effects/inline_evolved_technocracy_ascension
		# /

		inline_script = {
			script = buildings/inline_evolved_aibait
			trigger = "
				check_variable_arithmetic = {
					which = value:unity_combined_value
					value >= 3
				}
			"
		}
	}
 # /
 # --------------- Spiritualist
	building_citadel_of_faith = {
		base_buildtime = @b2_time
		base_cap_amount = 1
		position_priority = 30		# Unique
		ai_estimate_without_unemployment = yes

		category = unity

		potential = {
			exists = owner
			owner = {
				tec_country_uses_priests_and_temples = yes
			}
			NOT = { has_modifier = slave_colony }
		}

		allow = {
			has_major_upgraded_capital = yes
			tec_ai_allow_rare_dependant_building = {
				tier = 2
				rare = rare_crystals
			}
		}

		prerequisites = {
			"tech_transcendent_faith"
		}

		convert_to = {
			building_autocurating_vault
			building_alpha_hub
			building_corporate_vault
		}

		resources = {
			category = planet_buildings
			inline_script = {
				script = buildings/resources/inline_evolved_resource_cost
				tier = 2
			}

			inline_script = {
				script = buildings/resources/inline_evolved_rare_resource_cost
				tier = 2
				rare = rare_crystals
			}

			inline_script = {
				script = buildings/resources/inline_evolved_ring_production_cost
				rare = rare_crystals
				type = unity
			}

			produces = {
				unity = 10
			}
		}

		planet_modifier = {
			pop_ethic_spiritualist_attraction_mult = 0.20
			planet_administrators_produces_mult = 0.15
		}

		inline_script = {
			script = jobs/inline_evolved_high_priest
			count = 1
			mult = 1
			display = with_desc
			trigger = ""
		}

		inline_script = buildings/effects/inline_evolved_exalted_priesthood_unity_building
		inline_script = buildings/effects/inline_evolved_technocracy_ascension
		inline_script = buildings/effects/inline_evolved_tec_spiritual_seekers

		triggered_planet_modifier = {
			potential = {
				has_ringworld_output_boost = yes
			}
			planet_administrators_unity_produces_add = 1
			planet_managers_unity_produces_add = 1
			planet_priests_unity_produces_add = 1
			planet_telepaths_unity_produces_add = 1
		}

		inline_script = {
			script = buildings/inline_evolved_aibait
			trigger = "
				check_variable_arithmetic = {
					which = value:unity_combined_value
					value >= 3
				}
			"
		}
	}
 # /
 # --------------- Megacorp
	building_corporate_vault = {
		base_buildtime = @b3_time
		base_cap_amount = 1
		position_priority = 30		# Unique
		icon = building_autocurating_vault
		ai_estimate_without_unemployment = yes

		category = unity

		prerequisites = {
			"tech_autocurating_vault"
		}

		show_tech_unlock_if = {
			is_megacorp = yes
			tec_country_uses_priests_and_temples = no
		}

		potential = {
			exists = owner
			NOT = { has_modifier = slave_colony }
			owner = {
				is_megacorp = yes
				tec_country_uses_priests_and_temples = no
			}
		}

		allow = {
			has_major_upgraded_capital = yes
			tec_ai_allow_rare_dependant_building = {
				tier = 2
				rare = rare_crystals
			}
		}

		convert_to = {
			building_citadel_of_faith
			building_autocurating_vault
			building_alpha_hub
		}

		resources = {
			category = planet_buildings
			inline_script = {
				script = buildings/resources/inline_evolved_resource_cost
				tier = 2
			}

			inline_script = {
				script = buildings/resources/inline_evolved_rare_resource_cost
				tier = 2
				rare = rare_crystals
			}

			inline_script = {
				script = buildings/resources/inline_evolved_ring_production_cost
				rare = rare_crystals
				type = unity
			}

			produces = {
				unity = 10
			}
		}

		planet_modifier = {
			planet_administrators_produces_mult = 0.15
		}

		triggered_planet_modifier = {
			potential = {
				has_ringworld_output_boost = yes
			}
			planet_administrators_unity_produces_add = 1
			planet_managers_unity_produces_add = 1
			planet_priests_unity_produces_add = 1
			planet_telepaths_unity_produces_add = 1
		}
		# ADD per Ascension
			inline_script = buildings/effects/inline_evolved_technocracy_ascension
		# /

		inline_script = {
			script = buildings/inline_evolved_aibait
			trigger = "
				check_variable_arithmetic = {
					which = value:unity_combined_value
					value >= 3
				}
			"
		}
	}
 # /
 # --------------- Archaeotech
	building_league_offices = {
		base_buildtime = @b2_time
		empire_limit = {
			base = 1
		}

		category = unity
		ai_estimate_without_unemployment = yes

		prerequisites = {
			"tech_secrets_league"
		}

		potential = {
			exists = owner
			owner = { has_technology = tech_secrets_league }
			NOT = { has_modifier = slave_colony }
		}

		allow = {
			has_major_upgraded_capital = yes
			tec_ai_allow_rare_dependant_building = {
				tier = 2
				rare = rare_crystals
			}

			tec_ai_allow_artifacts_dependant_building = yes
		}

		destroy_trigger = {
			has_modifier = slave_colony
		}

		resources = {
			category = planet_buildings
			inline_script = {
				script = buildings/resources/inline_evolved_resource_cost
				tier = 2
			}

			inline_script = {
				script = buildings/resources/inline_evolved_rare_resource_cost
				tier = 2
				rare = rare_crystals
			}
			cost = {
				minor_artifacts = @b2_rare_cost
			}
		}

		country_modifier = {
			country_edict_fund_add = 50
		}

		triggered_country_modifier = {
			potential = {
				owner = { has_ascension_perk = ap_archaeoengineers }
			}
			country_edict_fund_add = 50
		}

		planet_modifier = {
			planet_administrators_unity_produces_add = 1
			planet_managers_unity_produces_add = 1
			planet_priests_unity_produces_add = 1
		}

		inline_script = {
			script = jobs/inline_evolved_admin_split
			count = 2
			count_half = 1
			megacorp_count = 1
			megacorp_count_half = 0
			mult = 1
			display = with_desc
			trigger = ""
		}

		inline_script = {
			script = jobs/inline_evolved_synapse
			count = 2
			mult = 1
			display = with_desc
			trigger = ""
		}

		inline_script = {
			script = jobs/inline_evolved_coordinator
			count = 2
			mult = 1
			display = with_desc
			trigger = ""
		}
		# ADD per Ascension
			inline_script = buildings/effects/inline_evolved_technocracy_ascension
		# /

		triggered_desc = {
			text = building_league_offices_effect
		}

		inline_script = {
			script = buildings/inline_evolved_aibait
			trigger = "
				check_variable_arithmetic = {
					which = value:unity_combined_value
					value >= 3
				}
			"
		}
	}
 # /
 # --------------- Hive
	#building_tec_hive_amplifier
 # /
 # --------------- CyberHive
	#building_tec_cyberhive_amplifier
 # /
 # --------------- BioHive
	#building_tec_biohive_amplifier
 # /
 # --------------- Machine
	building_alpha_hub = {
		base_buildtime = @b3_time
		base_cap_amount = 1
		position_priority = 30		# Unique
		icon = building_autocurating_vault
		ai_estimate_without_unemployment = yes

		category = unity

		potential = {
			exists = owner
			owner = { is_machine_empire = yes }
		}

		allow = {
			has_major_upgraded_capital = yes
			tec_ai_allow_rare_dependant_building = {
				tier = 2
				rare = rare_crystals
			}
		}

		destroy_trigger = {
			exists = owner
			owner = { is_machine_empire = no }
		}

		convert_to = {
			building_autocurating_vault
			building_citadel_of_faith
			building_corporate_vault
		}

		resources = {
			category = planet_buildings
			inline_script = {
				script = buildings/resources/inline_evolved_resource_cost
				tier = 2
			}

			inline_script = {
				script = buildings/resources/inline_evolved_rare_resource_cost
				tier = 2
				rare = rare_crystals
			}

			inline_script = {
				script = buildings/resources/inline_evolved_ring_production_cost
				rare = rare_crystals
				type = unity
			}

			produces = {
				unity = 10
			}
		}

		planet_modifier = {
			planet_administrators_produces_mult = 0.15
		}

		triggered_planet_modifier = {
			potential = {
				has_ringworld_output_boost = yes
			}
			custom_tooltip = "sm_ring_maintenance_hub_effect"
		}

		prerequisites = {
			"tech_autocurating_vault"
		}

		show_tech_unlock_if = {
			is_machine_empire = yes
		}

		inline_script = {
			script = buildings/inline_evolved_aibait
			trigger = "
				check_variable_arithmetic = {
					which = value:unity_combined_value
					value >= 3
				}
			"
		}
	}
 # /
# /

# MEMORIAL BOOSTERS
# -----------------------------------------
 # --------------- Regular
	building_autochthon_monument = {
		base_buildtime = @b1_time
		base_cap_amount = 1
		position_priority = 30		# Unique

		category = unity

		prerequisites = {
			"tech_cultural_heritage"
		}

		show_tech_unlock_if = {
			is_gestalt = no
			is_megacorp = no
			tec_has_monument_buildings_swap = no
		}

		upgrades = {
			building_heritage_site
		}

		potential = {
			exists = owner
			NOT = { has_modifier = slave_colony }
			owner = {
				is_gestalt = no
				is_megacorp = no
				tec_has_monument_buildings_swap = no
			}
		}

		resources = {
			category = planet_buildings
			inline_script = {
				script = buildings/resources/inline_evolved_resource_cost
				tier = 1
			}
			produces = {
				trigger = { exists = owner }
				unity = 1
				multiplier = owner.trigger:num_ascension_perks
			}
		}

		inline_script = buildings/convert_to/inline_evolved_monument_1

		planet_modifier = {
			planet_jobs_unity_produces_mult = 0.05
		}

		inline_script = {
			script = jobs/inline_evolved_job
			job = culture_worker
			count = @b1_jobs
			mult = 1
			display = with_desc
			trigger = ""
		}

		inline_script = {
			script = buildings/effects/type/inline_evolved_monument
			tier = 1
			type = regular
		}

		triggered_desc = {
			text = building_autochthon_monument_effect
		}

	}
	building_heritage_site = {
		base_buildtime = @b2_time
		position_priority = 30		# Unique
		can_build = no

		category = unity

		prerequisites = {
			"tech_heritage_site"
		}

		show_tech_unlock_if = {
			is_gestalt = no
			is_megacorp = no
			tec_has_monument_buildings_swap = no
		}

		upgrades = {
			building_hypercomms_forum
		}

		potential = {
			exists = owner
			NOT = { has_modifier = slave_colony }
			owner = {
				is_gestalt = no
				is_megacorp = no
				tec_has_monument_buildings_swap = no
			}
		}

		allow = {
			has_upgraded_capital = yes
		}

		inline_script = buildings/convert_to/inline_evolved_monument_2

		resources = {
			category = planet_buildings
			produces = {
				trigger = { exists = owner }
				unity = 2
				multiplier = owner.trigger:num_ascension_perks
			}
			inline_script = {
				script = buildings/resources/inline_evolved_resource_cost
				tier = 2
			}
		}

		planet_modifier = {
			planet_jobs_unity_produces_mult = 0.10
		}

		inline_script = {
			script = jobs/inline_evolved_job
			job = culture_worker
			count = @b2_jobs
			mult = 1
			display = with_desc
			trigger = ""
		}

		inline_script = {
			script = buildings/effects/type/inline_evolved_monument
			tier = 2
			type = regular
		}

		triggered_desc = {
			text = building_heritage_site_effect
		}

		inline_script = {
			script = buildings/inline_evolved_aibait
			trigger = ""
		}
	}
	building_hypercomms_forum = {
		base_buildtime = @b3_time
		position_priority = 30		# Unique
		can_build = no

		category = unity

		prerequisites = {
			"tech_hypercomms_forum"
		}

		show_tech_unlock_if = {
			is_gestalt = no
			is_megacorp = no
			tec_has_monument_buildings_swap = no
		}

		potential = {
			exists = owner
			NOT = { has_modifier = slave_colony }
			owner = {
				is_gestalt = no
				is_megacorp = no
				tec_has_monument_buildings_swap = no
			}
		}

		allow = {
			has_major_upgraded_capital = yes
		}

		inline_script = buildings/convert_to/inline_evolved_monument_3

		resources = {
			category = planet_buildings
			produces = {
				trigger = { exists = owner }
				unity = 3
				multiplier = owner.trigger:num_ascension_perks
			}
			inline_script = {
				script = buildings/resources/inline_evolved_resource_cost
				tier = 3
			}
		}

		planet_modifier = {
			planet_jobs_unity_produces_mult = 0.15
		}

		triggered_desc = {
			text = building_hypercomms_forum_effect
		}

		inline_script = {
			script = jobs/inline_evolved_job
			job = culture_worker
			count = @b3_jobs
			mult = 1
			display = with_desc
			trigger = ""
		}

		inline_script = {
			script = buildings/effects/type/inline_evolved_monument
			tier = 3
			type = regular
		}

		inline_script = {
			script = buildings/inline_evolved_aibait
			trigger = ""
		}
	}
 # /
 # --------------- Corporate
	building_corporate_monument = {
		base_buildtime = @b1_time
		position_priority = 30		# Unique
		base_cap_amount = 1
		icon = building_autochthon_monument

		category = unity

		prerequisites = {
			"tech_cultural_heritage"
		}

		show_tech_unlock_if = {
			is_megacorp = yes
			tec_has_monument_buildings_swap = no
		}

		upgrades = {
			building_corporate_site
		}

		potential = {
			exists = owner
			NOT = { has_modifier = slave_colony }
			owner = {
				is_megacorp = yes
				tec_has_monument_buildings_swap = no
			}
		}

		inline_script = buildings/convert_to/inline_evolved_monument_1

		resources = {
			category = planet_buildings
			produces = {
				trigger = { exists = owner }
				unity = 1
				multiplier = owner.trigger:num_ascension_perks
			}
			inline_script = {
				script = buildings/resources/inline_evolved_resource_cost
				tier = 1
			}
		}

		planet_modifier = {
			planet_jobs_unity_produces_mult = 0.05
		}

		inline_script = {
			script = jobs/inline_evolved_job
			job = culture_worker
			count = @b1_jobs
			mult = 1
			display = with_desc
			trigger = ""
		}

		inline_script = {
			script = buildings/effects/type/inline_evolved_monument
			tier = 1
			type = regular
		}

		triggered_desc = {
			text = building_autochthon_monument_effect
		}
	}
	building_corporate_site = {
		base_buildtime = @b2_time
		position_priority = 30		# Unique
		can_build = no
		icon = building_heritage_site

		category = unity

		prerequisites = {
			"tech_heritage_site"
		}

		show_tech_unlock_if = {
			is_megacorp = yes
			tec_has_monument_buildings_swap = no
		}

		upgrades = {
			building_corporate_forum
		}

		potential = {
			exists = owner
			NOT = { has_modifier = slave_colony }
			owner = {
				is_megacorp = yes
				tec_has_monument_buildings_swap = no
			}
		}

		allow = {
			has_upgraded_capital = yes
		}

		inline_script = buildings/convert_to/inline_evolved_monument_2

		resources = {
			category = planet_buildings
			produces = {
				trigger = { exists = owner }
				unity = 2
				multiplier = owner.trigger:num_ascension_perks
			}
			inline_script = {
				script = buildings/resources/inline_evolved_resource_cost
				tier = 2
			}
		}

		planet_modifier = {
			planet_jobs_unity_produces_mult = 0.10
		}

		triggered_desc = {
			text = building_heritage_site_effect
		}

		inline_script = {
			script = jobs/inline_evolved_job
			job = culture_worker
			count = @b2_jobs
			mult = 1
			display = with_desc
			trigger = ""
		}

		inline_script = {
			script = buildings/effects/type/inline_evolved_monument
			tier = 2
			type = regular
		}

		inline_script = {
			script = buildings/inline_evolved_aibait
			trigger = ""
		}
	}
	building_corporate_forum = {
		base_buildtime = @b3_time
		position_priority = 30		# Unique
		can_build = no
		icon = building_hypercomms_forum

		category = unity

		prerequisites = {
			"tech_hypercomms_forum"
		}

		show_tech_unlock_if = {
			is_megacorp = yes
			tec_has_monument_buildings_swap = no
		}

		potential = {
			exists = owner
			NOT = { has_modifier = slave_colony }
			owner = {
				is_megacorp = yes
				tec_has_monument_buildings_swap = no
			}
		}

		allow = {
			has_major_upgraded_capital = yes
		}

		inline_script = buildings/convert_to/inline_evolved_monument_3

		resources = {
			category = planet_buildings
			produces = {
				trigger = { exists = owner }
				unity = 3
				multiplier = owner.trigger:num_ascension_perks
			}
			inline_script = {
				script = buildings/resources/inline_evolved_resource_cost
				tier = 3
			}
		}

		planet_modifier = {
			planet_jobs_unity_produces_mult = 0.15
		}


		inline_script = {
			script = jobs/inline_evolved_job
			job = culture_worker
			count = @b3_jobs
			mult = 1
			display = with_desc
			trigger = ""
		}

		inline_script = {
			script = buildings/effects/type/inline_evolved_monument
			tier = 3
			type = regular
		}

		triggered_desc = {
			text = building_hypercomms_forum_effect
		}

		inline_script = {
			script = buildings/inline_evolved_aibait
			trigger = ""
		}
	}
 # /
 # --------------- Hivemind
	building_sensorium_1 = {
		base_buildtime = @b1_time
		position_priority = 30		# Unique
		base_cap_amount = 1
		icon = building_holo_theatres

		category = unity

		prerequisites = {
			"tech_hive_node"
		}

		show_tech_unlock_if = {
			is_hive_empire = yes
			tec_is_cyberhive = no
			tec_is_biohive = no
			tec_has_monument_buildings_swap = no
		}

		upgrades = {
			building_sensorium_2
		}

		potential = {
			exists = owner
			NOT = { has_modifier = slave_colony }
			owner = {
				is_hive_empire = yes
				tec_is_cyberhive = no
				tec_is_biohive = no
				tec_has_monument_buildings_swap = no
			}
		}

		inline_script = buildings/convert_to/inline_evolved_monument_1

		resources = {
			category = planet_buildings
			produces = {
				trigger = { exists = owner }
				unity = 1
				multiplier = owner.trigger:num_ascension_perks
			}
			inline_script = {
				script = buildings/resources/inline_evolved_resource_cost
				tier = 1
			}
		}

		planet_modifier = {
			planet_jobs_unity_produces_mult = 0.05
		}

		triggered_desc = {
			text = building_autochthon_monument_effect
		}

		inline_script = {
			script = jobs/inline_evolved_job
			job = evaluator
			count = @b1_jobs
			mult = 1
			display = with_desc
			trigger = ""
		}

		inline_script = {
			script = buildings/effects/type/inline_evolved_monument
			tier = 1
			type = hive
		}
	}
	building_sensorium_2 = {
		base_buildtime = @b2_time
		position_priority = 30		# Unique
		can_build = no
		icon = building_hyper_entertainment_forum

		category = unity

		prerequisites = {
			"tech_hive_cluster"
		}

		show_tech_unlock_if = {
			is_hive_empire = yes
			tec_is_cyberhive = no
			tec_is_biohive = no
			tec_has_monument_buildings_swap = no
		}

		upgrades = {
			building_sensorium_3
		}

		potential = {
			exists = owner
			NOT = { has_modifier = slave_colony }
			owner = {
				is_hive_empire = yes
				tec_is_cyberhive = no
				tec_is_biohive = no
				tec_has_monument_buildings_swap = no
			}
		}

		allow = {
			has_upgraded_capital = yes
		}

		inline_script = buildings/convert_to/inline_evolved_monument_2

		resources = {
			category = planet_buildings
			produces = {
				trigger = { exists = owner }
				unity = 2
				multiplier = owner.trigger:num_ascension_perks
			}
			inline_script = {
				script = buildings/resources/inline_evolved_resource_cost
				tier = 2
			}
		}

		planet_modifier = {
			planet_jobs_unity_produces_mult = 0.10
		}

		triggered_desc = {
			text = building_heritage_site_effect
		}

		inline_script = {
			script = jobs/inline_evolved_job
			job = evaluator
			count = @b2_jobs
			mult = 1
			display = with_desc
			trigger = ""
		}

		inline_script = {
			script = buildings/effects/type/inline_evolved_monument
			tier = 2
			type = hive
		}

		inline_script = {
			script = buildings/inline_evolved_aibait
			trigger = ""
		}
	}
	building_sensorium_3 = {
		base_buildtime = @b3_time
		position_priority = 30		# Unique
		can_build = no
		icon = building_citadel_of_faith

		category = unity

		prerequisites = {
			"tech_hive_confluence"
		}

		show_tech_unlock_if = {
			is_hive_empire = yes
			tec_is_cyberhive = no
			tec_is_biohive = no
			tec_has_monument_buildings_swap = no
		}

		potential = {
			exists = owner
			NOT = { has_modifier = slave_colony }
			owner = {
				is_hive_empire = yes
				tec_is_cyberhive = no
				tec_is_biohive = no
				tec_has_monument_buildings_swap = no
			}
		}

		allow = {
			has_major_upgraded_capital = yes
		}

		inline_script = buildings/convert_to/inline_evolved_monument_3

		resources = {
			category = planet_buildings
			produces = {
				trigger = { exists = owner }
				unity = 3
				multiplier = owner.trigger:num_ascension_perks
			}
			inline_script = {
				script = buildings/resources/inline_evolved_resource_cost
				tier = 3
			}
		}

		planet_modifier = {
			planet_jobs_unity_produces_mult = 0.15
		}

		triggered_desc = {
			text = building_hypercomms_forum_effect
		}

		inline_script = {
			script = jobs/inline_evolved_job
			job = evaluator
			count = @b3_jobs
			mult = 1
			display = with_desc
			trigger = ""
		}

		inline_script = {
			script = buildings/effects/type/inline_evolved_monument
			tier = 3
			type = hive
		}

		inline_script = {
			script = buildings/inline_evolved_aibait
			trigger = ""
		}
	}
 # /
 # --------------- Cyberhive
	building_tec_cyberhive_relay_1 = {
		base_buildtime = @b1_time
		position_priority = 30		# Unique
		base_cap_amount = 1
		icon = building_autochthon_monument

		category = unity

		prerequisites = {
			"tech_hive_node"
		}
		show_tech_unlock_if = {
			is_hive_empire = yes
			tec_is_cyberhive = yes
			tec_has_monument_buildings_swap = no
		}

		upgrades = {
			building_tec_cyberhive_relay_2
		}

		potential = {
			exists = owner
			NOT = { has_modifier = slave_colony }
			owner = {
				is_hive_empire = yes
				tec_is_cyberhive = yes
				tec_has_monument_buildings_swap = no
			}
		}

		inline_script = buildings/convert_to/inline_evolved_monument_1

		resources = {
			category = planet_buildings
			produces = {
				trigger = { exists = owner }
				unity = 1
				multiplier = owner.trigger:num_ascension_perks
			}
			inline_script = {
				script = buildings/resources/inline_evolved_resource_cost
				tier = 1
			}
		}

		planet_modifier = {
			planet_jobs_unity_produces_mult = 0.05
		}

		triggered_desc = {
			text = building_autochthon_monument_effect
		}

		inline_script = {
			script = jobs/inline_evolved_job
			job = evaluator
			count = @b1_jobs
			mult = 1
			display = with_desc
			trigger = ""
		}

		inline_script = {
			script = buildings/effects/type/inline_evolved_monument
			tier = 1
			type = hive
		}
	}
	building_tec_cyberhive_relay_2 = {
		base_buildtime = @b2_time
		position_priority = 30		# Unique
		can_build = no
		icon = building_heritage_site

		category = unity

		prerequisites = {
			"tech_hive_cluster"
		}

		show_tech_unlock_if = {
			is_hive_empire = yes
			tec_is_cyberhive = yes
			tec_has_monument_buildings_swap = no
		}

		upgrades = {
			building_tec_cyberhive_relay_3
		}

		potential = {
			exists = owner
			NOT = { has_modifier = slave_colony }
			owner = {
				is_hive_empire = yes
				tec_is_cyberhive = yes
				tec_has_monument_buildings_swap = no
			}
		}

		allow = {
			has_upgraded_capital = yes
		}

		inline_script = buildings/convert_to/inline_evolved_monument_2

		resources = {
			category = planet_buildings
			produces = {
				trigger = { exists = owner }
				unity = 2
				multiplier = owner.trigger:num_ascension_perks
			}
			inline_script = {
				script = buildings/resources/inline_evolved_resource_cost
				tier = 2
			}
		}

		planet_modifier = {
			planet_jobs_unity_produces_mult = 0.10
		}

		triggered_desc = {
			text = building_heritage_site_effect
		}

		inline_script = {
			script = jobs/inline_evolved_job
			job = evaluator
			count = @b2_jobs
			mult = 1
			display = with_desc
			trigger = ""
		}

		inline_script = {
			script = buildings/effects/type/inline_evolved_monument
			tier = 2
			type = hive
		}

		inline_script = {
			script = buildings/inline_evolved_aibait
			trigger = ""
		}
	}
	building_tec_cyberhive_relay_3 = {
		base_buildtime = @b3_time
		position_priority = 30		# Unique
		can_build = no
		icon = building_hypercomms_forum

		category = unity

		prerequisites = {
			"tech_hive_confluence"
		}

		show_tech_unlock_if = {
			is_hive_empire = yes
			tec_is_cyberhive = yes
			tec_has_monument_buildings_swap = no
		}

		potential = {
			exists = owner
			NOT = { has_modifier = slave_colony }
			owner = {
				is_hive_empire = yes
				tec_is_cyberhive = yes
				tec_has_monument_buildings_swap = no
			}
		}

		allow = {
			has_major_upgraded_capital = yes
		}

		inline_script = buildings/convert_to/inline_evolved_monument_3

		resources = {
			category = planet_buildings
			produces = {
				trigger = { exists = owner }
				unity = 3
				multiplier = owner.trigger:num_ascension_perks
			}
			inline_script = {
				script = buildings/resources/inline_evolved_resource_cost
				tier = 3
			}
		}

		planet_modifier = {
			planet_jobs_unity_produces_mult = 0.15
		}

		triggered_desc = {
			text = building_hypercomms_forum_effect
		}

		inline_script = {
			script = jobs/inline_evolved_job
			job = evaluator
			count = @b3_jobs
			mult = 1
			display = with_desc
			trigger = ""
		}

		inline_script = {
			script = buildings/effects/type/inline_evolved_monument
			tier = 3
			type = hive
		}

		inline_script = {
			script = buildings/inline_evolved_aibait
			trigger = ""
		}
	}
 # /
 # --------------- Biohive
	building_tec_biohive_relay_1 = {
		base_buildtime = @b1_time
		position_priority = 30		# Unique
		base_cap_amount = 1

		category = unity

		prerequisites = {
			"tech_hive_node"
		}

		show_tech_unlock_if = {
			is_hive_empire = yes
			tec_is_biohive = yes
			tec_has_monument_buildings_swap = no
		}

		upgrades = {
			building_tec_biohive_relay_2
		}

		potential = {
			exists = owner
			NOT = { has_modifier = slave_colony }
			owner = {
				is_hive_empire = yes
				tec_is_biohive = yes
				tec_has_monument_buildings_swap = no
			}
		}

		inline_script = buildings/convert_to/inline_evolved_monument_1

		resources = {
			category = planet_buildings
			produces = {
				trigger = { exists = owner }
				unity = 1
				multiplier = owner.trigger:num_ascension_perks
			}
			inline_script = {
				script = buildings/resources/inline_evolved_resource_cost
				tier = 1
			}
		}

		planet_modifier = {
			planet_jobs_unity_produces_mult = 0.05
			job_evaluator_add = @b1_jobs
		}

		triggered_desc = {
			text = building_autochthon_monument_effect
		}

		inline_script = {
			script = jobs/inline_evolved_job
			job = evaluator
			count = @b1_jobs
			mult = 1
			display = with_desc
			trigger = ""
		}

		inline_script = {
			script = buildings/effects/type/inline_evolved_monument
			tier = 1
			type = hive
		}
	}
	building_tec_biohive_relay_2 = {
		base_buildtime = @b2_time
		position_priority = 30		# Unique
		can_build = no

		category = unity

		prerequisites = {
			"tech_hive_cluster"
		}

		show_tech_unlock_if = {
			is_hive_empire = yes
			tec_is_biohive = yes
			tec_has_monument_buildings_swap = no
		}

		upgrades = {
			building_tec_biohive_relay_3
		}

		potential = {
			exists = owner
			NOT = { has_modifier = slave_colony }
			owner = {
				is_hive_empire = yes
				tec_is_biohive = yes
				tec_has_monument_buildings_swap = no
			}
		}

		allow = {
			has_upgraded_capital = yes
		}

		inline_script = buildings/convert_to/inline_evolved_monument_2

		resources = {
			category = planet_buildings
			produces = {
				trigger = { exists = owner }
				unity = 2
				multiplier = owner.trigger:num_ascension_perks
			}
			inline_script = {
				script = buildings/resources/inline_evolved_resource_cost
				tier = 2
			}
		}

		planet_modifier = {
			planet_jobs_unity_produces_mult = 0.10
		}

		triggered_desc = {
			text = building_heritage_site_effect
		}

		inline_script = {
			script = jobs/inline_evolved_job
			job = evaluator
			count = @b2_jobs
			mult = 1
			display = with_desc
			trigger = ""
		}

		inline_script = {
			script = buildings/effects/type/inline_evolved_monument
			tier = 2
			type = hive
		}

		inline_script = {
			script = buildings/inline_evolved_aibait
			trigger = ""
		}
	}
	building_tec_biohive_relay_3 = {
		base_buildtime = @b3_time
		position_priority = 30		# Unique
		can_build = no

		category = unity

		prerequisites = {
			"tech_hive_confluence"
		}

		show_tech_unlock_if = {
			is_hive_empire = yes
			tec_is_biohive = yes
			tec_has_monument_buildings_swap = no
		}

		potential = {
			exists = owner
			NOT = { has_modifier = slave_colony }
			owner = {
				is_hive_empire = yes
				tec_is_biohive = yes
				tec_has_monument_buildings_swap = no
			}
		}

		allow = {
			has_major_upgraded_capital = yes
		}

		inline_script = buildings/convert_to/inline_evolved_monument_3

		resources = {
			category = planet_buildings
			produces = {
				trigger = { exists = owner }
				unity = 3
				multiplier = owner.trigger:num_ascension_perks
			}
			inline_script = {
				script = buildings/resources/inline_evolved_resource_cost
				tier = 3
			}
		}

		planet_modifier = {
			planet_jobs_unity_produces_mult = 0.15
		}

		triggered_desc = {
			text = building_hypercomms_forum_effect
		}

		inline_script = {
			script = jobs/inline_evolved_job
			job = evaluator
			count = @b3_jobs
			mult = 1
			display = with_desc
			trigger = ""
		}

		inline_script = {
			script = buildings/effects/type/inline_evolved_monument
			tier = 3
			type = hive
		}

		inline_script = {
			script = buildings/inline_evolved_aibait
			trigger = ""
		}
	}
 # /
 # --------------- Machine
	building_simulation_1 = {
		base_buildtime = @b1_time
		position_priority = 30		# Unique
		base_cap_amount = 1
		icon = building_holo_theatres

		category = unity

		prerequisites = {
			"tech_cultural_heritage"
		}

		show_tech_unlock_if = {
			is_machine_empire = yes
			tec_has_monument_buildings_swap = no
		}

		upgrades = {
			building_simulation_2
		}

		potential = {
			exists = owner
			NOT = { has_modifier = slave_colony }
			owner = {
				is_machine_empire = yes
				tec_has_monument_buildings_swap = no
			}
		}

		inline_script = buildings/convert_to/inline_evolved_monument_1

		resources = {
			category = planet_buildings
			produces = {
				trigger = { exists = owner }
				unity = 1
				multiplier = owner.trigger:num_ascension_perks
			}
			inline_script = {
				script = buildings/resources/inline_evolved_resource_cost
				tier = 1
			}
		}

		planet_modifier = {
			planet_jobs_unity_produces_mult = 0.05
		}

		triggered_desc = {
			text = building_autochthon_monument_effect
		}
		inline_script = {
			script = jobs/inline_evolved_job
			job = evaluator
			count = @b1_jobs
			mult = 1
			display = with_desc
			trigger = ""
		}

		inline_script = {
			script = buildings/effects/type/inline_evolved_monument
			tier = 1
			type = machine
		}
	}
	building_simulation_2 = {
		base_buildtime = @b2_time
		position_priority = 30		# Unique
		can_build = no
		icon = building_hyper_entertainment_forum

		category = unity

		prerequisites = {
			"tech_heritage_site"
		}

		show_tech_unlock_if = {
			is_machine_empire = yes
			tec_has_monument_buildings_swap = no
		}

		upgrades = {
			building_simulation_3
		}

		potential = {
			exists = owner
			NOT = { has_modifier = slave_colony }
			owner = {
				is_machine_empire = yes
				tec_has_monument_buildings_swap = no
			}
		}

		allow = {
			has_upgraded_capital = yes
		}

		inline_script = buildings/convert_to/inline_evolved_monument_2

		resources = {
			category = planet_buildings
			produces = {
				trigger = { exists = owner }
				unity = 2
				multiplier = owner.trigger:num_ascension_perks
			}
			inline_script = {
				script = buildings/resources/inline_evolved_resource_cost
				tier = 2
			}
		}

		planet_modifier = {
			planet_jobs_unity_produces_mult = 0.10
		}

		triggered_desc = {
			text = building_heritage_site_effect
		}

		inline_script = {
			script = jobs/inline_evolved_job
			job = evaluator
			count = @b2_jobs
			mult = 1
			display = with_desc
			trigger = ""
		}

		inline_script = {
			script = buildings/effects/type/inline_evolved_monument
			tier = 2
			type = machine
		}

		inline_script = {
			script = buildings/inline_evolved_aibait
			trigger = ""
		}
	}
	building_simulation_3 = {
		base_buildtime = @b3_time
		position_priority = 30		# Unique
		can_build = no
		icon = building_citadel_of_faith

		category = unity

		prerequisites = {
			"tech_hypercomms_forum"
		}

		show_tech_unlock_if = {
			is_machine_empire = yes
			tec_has_monument_buildings_swap = no
		}

		potential = {
			exists = owner
			NOT = { has_modifier = slave_colony }
			owner = {
				is_machine_empire = yes
				tec_has_monument_buildings_swap = no
			}
		}

		allow = {
			has_major_upgraded_capital = yes
		}

		inline_script = buildings/convert_to/inline_evolved_monument_3

		resources = {
			category = planet_buildings
			produces = {
				trigger = { exists = owner }
				unity = 3
				multiplier = owner.trigger:num_ascension_perks
			}
			inline_script = {
				script = buildings/resources/inline_evolved_resource_cost
				tier = 3
			}
		}

		planet_modifier = {
			planet_jobs_unity_produces_mult = 0.15
		}

		triggered_desc = {
			text = building_hypercomms_forum_effect
		}

		inline_script = {
			script = jobs/inline_evolved_job
			job = evaluator
			count = @b3_jobs
			mult = 1
			display = with_desc
			trigger = ""
		}

		inline_script = {
			script = buildings/effects/type/inline_evolved_monument
			tier = 3
			type = machine
		}

		inline_script = {
			script = buildings/inline_evolved_aibait
			trigger = ""
		}
	}
 # /
 # --------------- Memorialists
	building_galactic_memorial_1 = { #Sanctuary of Repose
		base_buildtime = @b1_time
		position_priority = 30		# Unique
		base_cap_amount = 1

		category = unity

		prerequisites = {
			"tech_cultural_heritage"
		}

		show_tech_unlock_if = {
			tec_is_memorialist_empire = yes
		}

		upgrades = {
			building_galactic_memorial_2
		}

		potential = {
			exists = owner
			NOT = { has_modifier = slave_colony }
			owner = {
				tec_is_memorialist_empire = yes
			}
		}

		inline_script = buildings/convert_to/inline_evolved_monument_1

		resources = {
			category = planet_buildings
			produces = {
				trigger = { exists = owner }
				unity = 1
				multiplier = owner.trigger:num_ascension_perks
			}
			inline_script = {
				script = buildings/resources/inline_evolved_resource_cost
				tier = 1
			}
		}

		planet_modifier = {
			planet_jobs_unity_produces_mult = 0.05
		}

		triggered_desc = {
			text = building_autochthon_monument_effect
		}

		#Jobs
		inline_script = {
			script = jobs/inline_evolved_job
			job = death_chronicler
			count = @b1_jobs
			mult = 1
			display = with_desc
			trigger = "
				exists = owner
				owner = { is_regular_empire = yes }
			"
		}
		inline_script = {
			script = jobs/inline_evolved_job
			job = chronicle_drone
			count = @b1_jobs
			mult = 1
			display = with_desc
			trigger = "
				exists = owner
				owner = { is_gestalt = yes }
			"
		}

		inline_script = buildings/effects/inline_evolved_memorialist

		inline_script = {
			script = buildings/effects/type/inline_evolved_monument
			tier = 1
			type = all
		}
	}
	building_galactic_memorial_2 = { #Pillar of Quietus
		base_buildtime = @b2_time
		position_priority = 30		# Unique
		can_build = no

		category = unity

		prerequisites = {
			"tech_heritage_site"
		}

		show_tech_unlock_if = {
			tec_is_memorialist_empire = yes
		}

		upgrades = {
			building_galactic_memorial_3
		}

		potential = {
			exists = owner
			NOT = { has_modifier = slave_colony }
			owner = {
				tec_is_memorialist_empire = yes
			}
		}

		allow = {
			exists = owner
			has_upgraded_capital = yes
		}

		destroy_trigger = {
			exists = owner
			OR = {
				has_modifier = slave_colony
				owner = {
					tec_is_memorialist_empire = no
				}
			}
		}

		inline_script = buildings/convert_to/inline_evolved_monument_2

		resources = {
			category = planet_buildings
			produces = {
				trigger = { exists = owner }
				unity = 2
				multiplier = owner.trigger:num_ascension_perks
			}
			inline_script = {
				script = buildings/resources/inline_evolved_resource_cost
				tier = 2
			}
		}

		planet_modifier = {
			planet_jobs_unity_produces_mult = 0.10
		}

		triggered_desc = {
			text = building_heritage_site_effect
		}

		#Jobs
		inline_script = {
			script = jobs/inline_evolved_job
			job = death_chronicler
			count = @b2_jobs
			mult = 1
			display = with_desc
			trigger = "
				exists = owner
				owner = { is_regular_empire = yes }
			"
		}
		inline_script = {
			script = jobs/inline_evolved_job
			job = chronicle_drone
			count = @b2_jobs
			mult = 1
			display = with_desc
			trigger = "
				exists = owner
				owner = { is_gestalt = yes }
			"
		}

		inline_script = buildings/effects/inline_evolved_memorialist

		inline_script = {
			script = buildings/effects/type/inline_evolved_monument
			tier = 2
			type = all
		}

		inline_script = {
			script = buildings/inline_evolved_aibait
			trigger = ""
		}
	}
	building_galactic_memorial_3 = { #Galactic Memorial
		base_buildtime = @b3_time
		position_priority = 30		# Unique
		can_build = no

		category = unity

		prerequisites = {
			"tech_hypercomms_forum"
		}

		show_tech_unlock_if = {
			tec_is_memorialist_empire = yes
		}

		potential = {
			exists = owner
			NOT = { has_modifier = slave_colony }
			owner = {
				tec_is_memorialist_empire = yes
			}
		}

		allow = {
			has_major_upgraded_capital = yes
		}

		destroy_trigger = {
			exists = owner
			OR = {
				has_modifier = slave_colony
				owner = {
					tec_is_memorialist_empire = no
				}
			}
		}

		inline_script = buildings/convert_to/inline_evolved_monument_3

		resources = {
			category = planet_buildings
			produces = {
				trigger = { exists = owner }
				unity = 2
				multiplier = owner.trigger:num_ascension_perks
			}
			inline_script = {
				script = buildings/resources/inline_evolved_resource_cost
				tier = 3
			}
		}

		planet_modifier = {
			planet_jobs_unity_produces_mult = 0.15
		}

		triggered_desc = {
			text = building_hypercomms_forum_effect
		}

		#Jobs
		inline_script = {
			script = jobs/inline_evolved_job
			job = death_chronicler
			count = @b3_jobs
			mult = 1
			display = with_desc
			trigger = "
				exists = owner
				owner = { is_regular_empire = yes }
			"
		}
		inline_script = {
			script = jobs/inline_evolved_job
			job = chronicle_drone
			count = @b3_jobs
			mult = 1
			display = with_desc
			trigger = "
				exists = owner
				owner = { is_gestalt = yes }
			"
		}

		inline_script = buildings/effects/inline_evolved_memorialist

		inline_script = {
			script = buildings/effects/type/inline_evolved_monument
			tier = 3
			type = all
		}

		inline_script = {
			script = buildings/inline_evolved_aibait
			trigger = ""
		}
	}
 # /
# /