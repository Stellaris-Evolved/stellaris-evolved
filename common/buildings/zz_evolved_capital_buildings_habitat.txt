# - - - - - - - - - - - - - - - - - - - - - 
# Habitat capitals - Regular
# - - - - - - - - - - - - - - - - - - - - - 
# ------------------------------------------------- Standard
building_hab_capital = { # Habitat Administration
	capital = yes
	can_build = no
	can_demolish = no
	can_be_ruined = no
	can_be_disabled = no
	position_priority = 0		# Capital

	icon = building_capital

	category = government

	upgrades = {
		"building_hab_major_capital"
	}

	potential = {
		uses_habitat_capitals = yes
		exists = owner
		owner = {
			is_fallen_empire = no 
			is_gestalt = no
		}
	}

	convert_to = {
		# Regular
		#building_hab_capital
		# Hive reg
		building_tec_hab_hive_capital
		# Hive bio
		building_tec_hab_biohive_capital
		# Hive cyb
		building_tec_hab_cyberhive_capital
		# Machine
		building_tec_hab_machine_capital
		# Fe
		building_hab_fe_capital
	}

	resources = {
		category = planet_buildings_hab_capital
		upkeep = {
			energy = 3
			alloys = 5
		}
		upkeep = {
			trigger = { owner = { has_active_tradition = tr_domination_adopt_void } }
			alloys = -1
		}
	}

	planet_modifier = {
		planet_housing_add = 3
		planet_amenities_add = 3
		planet_max_buildings_add = @build_slots_t1
	}

	inline_script = capitals/inline_evolved_colony_habitat

	inline_script = {
		script = capitals/inline_evolved_common_habitat_modifiers	
		tier = hab1
	}
	inline_script = {
		script = capitals/inline_evolved_regular_capital
		tier = hab1
	}
}

building_hab_major_capital = { # Habitat Central Complex
	base_buildtime = @b2_time
	capital = yes
	can_build = no
	can_demolish = no
	can_be_ruined = no
	can_be_disabled = no
	position_priority = 0		# Capital
	
	icon = building_major_capital

	category = government
		
	upgrades = {
		"building_hab_system_capital"
	}

	potential = {
		uses_habitat_capitals = yes
		exists = owner
		owner = {
			is_fallen_empire = no 
			is_gestalt = no
		}
	}

	allow = {
		num_pops >= @pops_t2
	}
	
	convert_to = {
		# Regular
		#building_hab_major_capital
		# Hive reg
		building_tec_hab_hive_major_capital
		# Hive bio
		building_tec_hab_biohive_major_capital
		# Hive cyb
		building_tec_hab_cyberhive_major_capital
		# Machine
		building_tec_hab_machine_major_capital
		# Fe
		building_hab_fe_capital
	}
	
	resources = {
		category = planet_buildings_hab_capital
		upkeep = {
			alloys = 5
		}
		upkeep = {
			trigger = { owner = { has_active_tradition = tr_domination_adopt_void } }
			alloys = -1
		}
		inline_script = {
			script = buildings/tec_resource_cost
			tier = 2
		}
	}
	
	planet_modifier = {
		planet_housing_add = 5
		planet_amenities_add = 5
		planet_max_buildings_add = @build_slots_t2
		planet_max_branch_office_buildings_add = @branch_slots_t1
	}

	inline_script = {
		script = capitals/inline_evolved_common_habitat_modifiers	
		tier = hab2
	}

	inline_script = {
		script = capitals/inline_evolved_regular_capital
		tier = hab2
	}
}

building_hab_system_capital = { # Habitat System Complex
	base_buildtime = @b3_time
	capital = yes
	can_build = no
	can_demolish = no
	can_be_ruined = no
	can_be_disabled = no
	position_priority = 0		# Capital
	
	icon = building_system_capital

	category = government
	
	prerequisites = {
		tech_galactic_administration
	}

	show_tech_unlock_if = {
		is_gestalt = no
	}

	potential = {
		uses_habitat_capitals = yes
		has_planet_flag = advanced_habitat
		exists = owner
		owner = {
			is_fallen_empire = no 
			is_gestalt = no
		}
	}
	
	convert_to = {
		# Regular
		#building_hab_system_capital
		# Hive reg
		building_tec_hab_hive_system_capital
		# Hive bio
		building_tec_hab_biohive_system_capital
		# Hive cyb
		building_tec_hab_cyberhive_system_capital
		# Machine
		building_tec_hab_machine_system_capital
		# Fe
		building_hab_fe_capital
	}
	
	allow = {
		num_pops >= @pops_t3
	}
	
	resources = {
		category = planet_buildings_hab_capital
		upkeep = {
			alloys = 5
		}
		upkeep = {
			trigger = { owner = { has_active_tradition = tr_domination_adopt_void } }
			alloys = -1
		}
		inline_script = {
			script = buildings/tec_resource_cost
			tier = 3
		}
	}
	
	planet_modifier = {
		planet_housing_add = 10
		planet_amenities_add = 10
		planet_max_buildings_add = @branch_slots_t3
		planet_max_branch_office_buildings_add = @branch_slots_t2
	}

	inline_script = {
		script = capitals/inline_evolved_common_habitat_modifiers	
		tier = hab3
	}

	inline_script = {
		script = capitals/inline_evolved_regular_capital
		tier = hab3
	}
}

#building_hab_galactic_capital

# - - - - - - - - - - - - - - - - - - - - - 
# Habitat capitals - Hive
# - - - - - - - - - - - - - - - - - - - - - 
# ------------------------------------------------- Regular
building_tec_hab_hive_capital = { # Habitat Control Node
	capital = yes
	can_build = no
	can_demolish = no
	can_be_ruined = no
	can_be_disabled = no
	position_priority = 0		# Capital

	icon = building_hive_capital

	category = government

	upgrades = {
		"building_tec_hab_hive_major_capital"
	}

	potential = {
		uses_habitat_capitals = yes
		exists = owner
		owner = {
			is_fallen_empire = no 
			is_hive_empire = yes
			tec_is_biohive = no
			tec_is_cyberhive = no
		}
	}

	convert_to = {
		# Regular
		building_hab_capital
		# Hive reg
		#building_tec_hab_hive_capital
		# Hive bio
		building_tec_hab_biohive_capital
		# Hive cyb
		building_tec_hab_cyberhive_capital
		# Machine
		building_tec_hab_machine_capital
		# Fe
		building_hab_fe_capital
	}

	resources = {
		category = planet_buildings_hab_capital
		upkeep = {
			energy = 3
			alloys = 5
		}
		upkeep = {
			trigger = { owner = { has_active_tradition = tr_domination_adopt_void } }
			alloys = -1
		}
	}

	planet_modifier = {
		planet_housing_add = 4
		planet_amenities_no_happiness_add = 6
		planet_max_buildings_add = @build_slots_t1
	}

	inline_script = capitals/inline_evolved_colony_habitat

	inline_script = {
		script = capitals/inline_evolved_common_habitat_modifiers	
		tier = hab1
	}
	inline_script = {
		script = capitals/inline_evolved_hive_capital
		synapse = tec_resonance_drone
		tier = hab1
	}
}

building_tec_hab_hive_major_capital = { # Habitat Central Complex
	base_buildtime = @b2_time
	capital = yes
	can_build = no
	can_demolish = no
	can_be_ruined = no
	can_be_disabled = no
	position_priority = 0		# Capital
	
	icon = building_hive_major_capital

	category = government
		
	upgrades = {
		"building_tec_hab_hive_system_capital"
	}

	potential = {
		uses_habitat_capitals = yes
		exists = owner
		owner = {
			is_fallen_empire = no 
			is_hive_empire = yes
			tec_is_biohive = no
			tec_is_cyberhive = no
		}
	}

	allow = {
		num_pops >= @pops_t2
	}
	
	convert_to = {
		# Regular
		building_hab_major_capital
		# Hive reg
		#building_tec_hab_hive_major_capital
		# Hive bio
		building_tec_hab_biohive_major_capital
		# Hive cyb
		building_tec_hab_cyberhive_major_capital
		# Machine
		building_tec_hab_machine_major_capital
		# Fe
		building_hab_fe_capital
	}
	
	resources = {
		category = planet_buildings_hab_capital
		upkeep = {
			alloys = 5
		}
		upkeep = {
			trigger = { owner = { has_active_tradition = tr_domination_adopt_void } }
			alloys = -1
		}
		inline_script = {
			script = buildings/tec_resource_cost
			tier = 2
		}
	}
	
	planet_modifier = {
		planet_housing_add = 6
		planet_amenities_no_happiness_add = 8
		planet_max_buildings_add = @build_slots_t2
		planet_max_branch_office_buildings_add = @branch_slots_t1
	}
	
	inline_script = {
		script = capitals/inline_evolved_common_habitat_modifiers	
		tier = hab2
	}

	inline_script = {
		script = capitals/inline_evolved_hive_capital
		synapse = tec_resonance_drone
		tier = hab2
	}
}

building_tec_hab_hive_system_capital = { # Habitat System Complex
	base_buildtime = @b3_time
	capital = yes
	can_build = no
	can_demolish = no
	can_be_ruined = no
	can_be_disabled = no
	position_priority = 0		# Capital
	
	icon = building_hive_system_capital

	category = government
	
	prerequisites = {
		tech_galactic_administration
	}

	show_tech_unlock_if = {
		is_hive_empire = yes
		tec_is_cyberhive = no
		tec_is_biohive = no
	}

	potential = {
		uses_habitat_capitals = yes
		has_planet_flag = advanced_habitat
		exists = owner
		owner = {
			is_fallen_empire = no 
			is_hive_empire = yes
			tec_is_biohive = no
			tec_is_cyberhive = no
		}
	}
	
	convert_to = {
		# Regular
		building_hab_system_capital
		# Hive reg
		#building_tec_hab_hive_system_capital
		# Hive bio
		building_tec_hab_biohive_system_capital
		# Hive cyb
		building_tec_hab_cyberhive_system_capital
		# Machine
		building_tec_hab_machine_system_capital
		# Fe
		building_hab_fe_capital
	}
	
	allow = {
		num_pops >= @pops_t3
	}
	
	resources = {
		category = planet_buildings_hab_capital
		upkeep = {
			alloys = 5
		}
		upkeep = {
			trigger = { owner = { has_active_tradition = tr_domination_adopt_void } }
			alloys = -1
		}
		inline_script = {
			script = buildings/tec_resource_cost
			tier = 3
		}
	}
	
	planet_modifier = {
		planet_housing_add = 8
		planet_amenities_no_happiness_add = 10
		planet_max_buildings_add = @branch_slots_t3
		planet_max_branch_office_buildings_add = @branch_slots_t2
	}

	inline_script = {
		script = capitals/inline_evolved_common_habitat_modifiers	
		tier = hab3
	}

	inline_script = {
		script = capitals/inline_evolved_hive_capital
		synapse = tec_resonance_drone
		tier = hab3
	}
}

#building_tec_hab_hive_capital_4

# ------------------------------------------------- Biohive
building_tec_hab_biohive_capital = { # Habitat Control Organ
	capital = yes
	can_build = no
	can_demolish = no
	can_be_ruined = no
	can_be_disabled = no
	position_priority = 0		# Capital

	icon = building_tec_biohive_capital

	category = government

	upgrades = {
		"building_hab_major_capital"
	}

	potential = {
		uses_habitat_capitals = yes
		exists = owner
		owner = {
			tec_is_biohive = yes
			is_fallen_empire = no 
		}
	}

	convert_to = {
		# Regular
		building_hab_capital
		# Hive reg
		building_tec_hab_hive_capital
		# Hive bio
		#building_tec_hab_biohive_capital
		# Hive cyb
		building_tec_hab_cyberhive_capital
		# Machine
		building_tec_hab_machine_capital
		# Fe
		building_hab_fe_capital
	}

	resources = {
		category = planet_buildings_hab_capital
		upkeep = {
			energy = 3
			alloys = 5
		}
		upkeep = {
			trigger = { owner = { has_active_tradition = tr_domination_adopt_void } }
			alloys = -1
		}
	}

	planet_modifier = {
		planet_housing_add = 4
		planet_amenities_no_happiness_add = 6
		planet_pop_assembly_organic_add = 2
		planet_max_buildings_add = @build_slots_t1
	}

	inline_script = capitals/inline_evolved_colony_habitat

	inline_script = {
		script = capitals/inline_evolved_common_habitat_modifiers	
		tier = hab1
	}

	inline_script = {
		script = capitals/inline_evolved_hive_capital
		synapse = synapse_drone
		tier = hab1
	}
}

building_tec_hab_biohive_major_capital = { # Habitat Central Organ
	base_buildtime = @b2_time
	capital = yes
	can_build = no
	can_demolish = no
	can_be_ruined = no
	can_be_disabled = no
	position_priority = 0		# Capital
	
	icon = building_tec_biohive_major_capital

	category = government
		
	upgrades = {
		"building_tec_hab_biohive_system_capital"
	}

	potential = {
		uses_habitat_capitals = yes
		exists = owner
		owner = {
			tec_is_biohive = yes
			is_fallen_empire = no 
		}
	}

	allow = {
		num_pops >= @pops_t2
	}
	
	convert_to = {
		# Regular
		building_hab_major_capital
		# Hive reg
		building_tec_hab_hive_major_capital
		# Hive bio
		#building_tec_hab_biohive_major_capital
		# Hive cyb
		building_tec_hab_cyberhive_major_capital
		# Machine
		building_tec_hab_machine_major_capital
		# Fe
		building_hab_fe_capital
	}
	
	resources = {
		category = planet_buildings_hab_capital
		upkeep = {
			alloys = 5
		}
		upkeep = {
			trigger = { owner = { has_active_tradition = tr_domination_adopt_void } }
			alloys = -1
		}
		inline_script = {
			script = buildings/tec_resource_cost
			tier = 2
		}
	}
	
	planet_modifier = {
		planet_housing_add = 6
		planet_amenities_no_happiness_add = 8
		planet_pop_assembly_organic_add = 2
		planet_max_buildings_add = @build_slots_t2
		planet_max_branch_office_buildings_add = @branch_slots_t1
	}

	inline_script = {
		script = capitals/inline_evolved_common_habitat_modifiers	
		tier = hab2
	}

	inline_script = {
		script = capitals/inline_evolved_hive_capital
		synapse = synapse_drone
		tier = hab2
	}
}

building_tec_hab_biohive_system_capital = { # Habitat System Organ
	base_buildtime = @b3_time
	capital = yes
	can_build = no
	can_demolish = no
	can_be_ruined = no
	can_be_disabled = no
	position_priority = 0		# Capital
	
	icon = building_tec_biohive_system_capital

	category = government
	
	prerequisites = {
		tech_galactic_administration
	}

	show_tech_unlock_if = {
		tec_is_biohive = yes
	}

	potential = {
		uses_habitat_capitals = yes
		has_planet_flag = advanced_habitat
		exists = owner
		owner = {
			tec_is_biohive = yes
			is_fallen_empire = no 
		}
	}
	
	convert_to = {
		# Regular
		building_hab_system_capital
		# Hive reg
		building_tec_hab_hive_system_capital
		# Hive bio
		#building_tec_hab_biohive_system_capital
		# Hive cyb
		building_tec_hab_cyberhive_system_capital
		# Machine
		building_tec_hab_machine_system_capital
		# Fe
		building_hab_fe_capital
	}
	
	allow = {
		num_pops >= @pops_t3
	}
	
	resources = {
		category = planet_buildings_hab_capital
		upkeep = {
			alloys = 5
		}
		upkeep = {
			trigger = { owner = { has_active_tradition = tr_domination_adopt_void } }
			alloys = -1
		}
		inline_script = {
			script = buildings/tec_resource_cost
			tier = 3
		}
	}
	
	
	planet_modifier = {
		planet_housing_add = 8
		planet_amenities_no_happiness_add = 10
		planet_pop_assembly_organic_add = 2
		planet_max_buildings_add = @branch_slots_t3
		planet_max_branch_office_buildings_add = @branch_slots_t2
	}

	inline_script = {
		script = capitals/inline_evolved_common_habitat_modifiers	
		tier = hab3
	}

	inline_script = {
		script = capitals/inline_evolved_hive_capital
		synapse = synapse_drone
		tier = hab3
	}
}

#building_tec_hab_biohive_capital_4

# ------------------------------------------------- Cyberhive
building_tec_hab_cyberhive_capital = { # Habitat Control Post
	capital = yes
	can_build = no
	can_demolish = no
	can_be_ruined = no
	can_be_disabled = no
	position_priority = 0		# Capital

	icon = building_machine_capital	# WIP

	category = government

	upgrades = {
		"building_tec_hab_cyberhive_major_capital"
	}

	potential = {
		uses_habitat_capitals = yes
		exists = owner
		owner = {
			tec_is_cyberhive = yes
			is_fallen_empire = no 
		}
	}

	convert_to = {
		# Regular
		building_hab_capital
		# Hive reg
		building_tec_hab_hive_capital
		# Hive bio
		building_tec_hab_biohive_capital
		# Hive cyb
		#building_tec_hab_cyberhive_capital
		# Machine
		building_tec_hab_machine_capital
		# Fe
		building_hab_fe_capital
	}

	resources = {
		category = planet_buildings_hab_capital
		upkeep = {
			energy = 3
			alloys = 5
		}
		upkeep = {
			trigger = { owner = { has_active_tradition = tr_domination_adopt_void } }
			alloys = -1
		}
	}

	planet_modifier = {
		planet_housing_add = 4
		planet_amenities_no_happiness_add = 6
		planet_max_buildings_add = @build_slots_t1
	}

	inline_script = capitals/inline_evolved_colony_habitat

	inline_script = {
		script = capitals/inline_evolved_common_habitat_modifiers	
		tier = hab1
	}

	inline_script = {
		script = capitals/inline_evolved_hive_capital
		synapse = tec_network_drone
		tier = hab1
	}
}

building_tec_hab_cyberhive_major_capital = { # Habitat Central Post
	base_buildtime = @b2_time
	capital = yes
	can_build = no
	can_demolish = no
	can_be_ruined = no
	can_be_disabled = no
	position_priority = 0		# Capital
	
	icon = building_machine_major_capital	# WIP

	category = government
		
	upgrades = {
		"building_tec_hab_cyberhive_system_capital"
	}

	potential = {
		uses_habitat_capitals = yes
		exists = owner
		owner = {
			tec_is_cyberhive = yes
			is_fallen_empire = no 
		}
	}

	allow = {
		num_pops >= @pops_t2
	}
	
	convert_to = {
		# Regular
		building_hab_major_capital
		# Hive reg
		building_tec_hab_hive_major_capital
		# Hive bio
		building_tec_hab_biohive_major_capital
		# Hive cyb
		#building_tec_hab_cyberhive_major_capital
		# Machine
		building_tec_hab_machine_major_capital
		# Fe
		building_hab_fe_capital
	}
	
	resources = {
		category = planet_buildings_hab_capital

		upkeep = {
			alloys = 5
		}
		upkeep = {
			trigger = { owner = { has_active_tradition = tr_domination_adopt_void } }
			alloys = -1
		}
		inline_script = {
			script = buildings/tec_resource_cost
			tier = 2
		}
	}
	
	planet_modifier = {
		planet_housing_add = 6
		planet_amenities_no_happiness_add = 8
		planet_max_buildings_add = @build_slots_t2
		planet_max_branch_office_buildings_add = @branch_slots_t1
	}

	inline_script = {
		script = capitals/inline_evolved_common_habitat_modifiers	
		tier = hab2
	}

	inline_script = {
		script = capitals/inline_evolved_hive_capital
		synapse = tec_network_drone
		tier = hab2
	}
}

building_tec_hab_cyberhive_system_capital = { # Habitat System Post
	base_buildtime = @b3_time
	capital = yes
	can_build = no
	can_demolish = no
	can_be_ruined = no
	can_be_disabled = no
	position_priority = 0		# Capital
	
	icon = building_machine_system_capital	# WIP

	category = government

	prerequisites = {
		tech_galactic_administration
	}

	show_tech_unlock_if = {
		tec_is_cyberhive = yes
	}

	potential = {
		uses_habitat_capitals = yes
		has_planet_flag = advanced_habitat
		exists = owner
		owner = {
			tec_is_cyberhive = yes
			is_fallen_empire = no 
		}
	}
	
	convert_to = {
		# Regular
		building_hab_system_capital
		# Hive reg
		building_tec_hab_hive_system_capital
		# Hive bio
		building_tec_hab_biohive_system_capital
		# Hive cyb
		#building_tec_hab_cyberhive_system_capital
		# Machine
		building_tec_hab_machine_system_capital
		# Fe
		building_hab_fe_capital
	}
	
	allow = {
		num_pops >= @pops_t3
	}
	
	resources = {
		category = planet_buildings_hab_capital
		upkeep = {
			alloys = 5
		}
		upkeep = {
			trigger = { owner = { has_active_tradition = tr_domination_adopt_void } }
			alloys = -1
		}
		inline_script = {
			script = buildings/tec_resource_cost
			tier = 3
		}
	}
	
	
	planet_modifier = {
		planet_housing_add = 8
		planet_amenities_no_happiness_add = 10
		planet_max_buildings_add = @branch_slots_t3
		planet_max_branch_office_buildings_add = @branch_slots_t2
	}

	inline_script = {
		script = capitals/inline_evolved_common_habitat_modifiers	
		tier = hab3
	}

	inline_script = {
		script = capitals/inline_evolved_hive_capital
		synapse = tec_network_drone
		tier = hab3
	}
}

#building_tec_hab_cyberhive_capital_4


# - - - - - - - - - - - - - - - - - - - - - 
# Habitat capitals - Machine
# - - - - - - - - - - - - - - - - - - - - - 

# Note: Machine special capitals are not available for habitats for balance reasons
building_tec_hab_machine_capital = { # Habitat Control Processor
	capital = yes
	can_build = no
	can_demolish = no
	can_be_ruined = no
	can_be_disabled = no
	position_priority = 0		# Capital

	icon = building_machine_capital

	category = government

	upgrades = {
		"building_tec_hab_machine_major_capital"
	}

	potential = {
		uses_habitat_capitals = yes
		exists = owner
		owner = {
			is_machine_empire = yes
			is_fallen_empire = no
		}
	}

	convert_to = {
		# Regular
		building_hab_capital
		# Hive reg
		building_tec_hab_hive_capital
		# Hive bio
		building_tec_hab_biohive_capital
		# Hive cyb
		building_tec_hab_cyberhive_capital
		# Machine
		#building_tec_hab_machine_capital
		# Fe
		building_hab_fe_capital
	}

	resources = {
		category = planet_buildings_hab_capital
		upkeep = {
			energy = 3
			alloys = 5
		}
		upkeep = {
			trigger = { owner = { has_active_tradition = tr_domination_adopt_void } }
			alloys = -1
		}
	}

	planet_modifier = {
		planet_housing_add = 4
		planet_amenities_no_happiness_add = 6
		planet_max_buildings_add = @build_slots_t1
	}

	inline_script = capitals/inline_evolved_colony_habitat

	inline_script = {
		script = capitals/inline_evolved_common_habitat_modifiers	
		tier = hab1
	}

	inline_script = {
		script = capitals/inline_evolved_machine_assembly
		tier = hab1
	}

	inline_script = {
		script = capitals/inline_evolved_machine_capital
		tier = hab1
	}
}

building_tec_hab_machine_major_capital = { # Habitat Central Processor
	base_buildtime = @b2_time
	capital = yes
	can_build = no
	can_demolish = no
	can_be_ruined = no
	can_be_disabled = no
	position_priority = 0		# Capital
	
	icon = building_machine_major_capital

	category = government
		
	upgrades = {
		"building_tec_hab_machine_system_capital"
	}

	potential = {
		uses_habitat_capitals = yes
		exists = owner
		owner = {
			is_machine_empire = yes
			is_fallen_empire = no
		}
	}

	allow = {
		num_pops >= @pops_t2
	}
	
	convert_to = {
		# Regular
		building_hab_major_capital
		# Hive reg
		building_tec_hab_hive_major_capital
		# Hive bio
		building_tec_hab_biohive_major_capital
		# Hive cyb
		building_tec_hab_cyberhive_major_capital
		# Machine
		#building_tec_hab_machine_major_capital
		# Fe
		building_hab_fe_capital
	}
	
	resources = {
		category = planet_buildings_hab_capital
		upkeep = {
			alloys = 5
		}
		upkeep = {
			trigger = { owner = { has_active_tradition = tr_domination_adopt_void } }
			alloys = -1
		}
		# Special resource civics
		inline_script = {
			script = buildings/tec_resource_cost
			tier = 2
		}
	}

	planet_modifier = {
		planet_housing_add = 6
		planet_amenities_add = 8
		planet_max_buildings_add = @build_slots_t2
		planet_max_branch_office_buildings_add = @branch_slots_t1
	}
	
	inline_script = {
		script = capitals/inline_evolved_common_habitat_modifiers	
		tier = hab2
	}

	inline_script = {
		script = capitals/inline_evolved_machine_assembly
		tier = hab2
	}

	inline_script = {
		script = capitals/inline_evolved_machine_capital
		tier = hab2
	}
}

building_tec_hab_machine_system_capital = { # Habitat System Processor
	base_buildtime = @b3_time
	capital = yes
	can_build = no
	can_demolish = no
	can_be_ruined = no
	can_be_disabled = no
	position_priority = 0		# Capital
	
	icon = building_machine_system_capital

	category = government

	prerequisites = {
		tech_galactic_administration
	}

	show_tech_unlock_if = {
		is_machine_empire = yes
	}

	potential = {
		uses_habitat_capitals = yes
		has_planet_flag = advanced_habitat
		exists = owner
		owner = {
			is_machine_empire = yes
			is_fallen_empire = no
		}
	}
	
	convert_to = {
		# Regular
		building_hab_system_capital
		# Hive reg
		building_tec_hab_hive_system_capital
		# Hive bio
		building_tec_hab_biohive_system_capital
		# Hive cyb
		building_tec_hab_cyberhive_system_capital
		# Machine
		#building_tec_hab_machine_system_capital
		# Fe
		building_hab_fe_capital
	}
	
	allow = {
		num_pops >= @pops_t3
	}
	
	resources = {
		category = planet_buildings_hab_capital
		upkeep = {
			alloys = 5
		}
		upkeep = {
			trigger = { owner = { has_active_tradition = tr_domination_adopt_void } }
			alloys = -1
		}
		inline_script = {
			script = buildings/tec_resource_cost
			tier = 3
		}
	}
	
	
	planet_modifier = {
		planet_housing_add = 8
		planet_amenities_no_happiness_add = 10
		job_maintenance_drone_add = 2
		planet_max_buildings_add = @branch_slots_t3
		planet_max_branch_office_buildings_add = @branch_slots_t2
	}

	inline_script = {
		script = capitals/inline_evolved_common_habitat_modifiers	
		tier = hab3
	}

	inline_script = {
		script = capitals/inline_evolved_machine_assembly
		tier = hab3
	}

	inline_script = {
		script = capitals/inline_evolved_machine_capital
		tier = hab3
	}
}

#building_tec_hab_machine_capital_4


# - - - - - - - - - - - - - - - - - - - - - 
# Protoworld Capitals - deprecated for now
# - - - - - - - - - - - - - - - - - - - - - 
# Habitat Administration
building_tec_proto_capital = {
	capital = yes
	can_build = no
	can_demolish = no
	can_be_ruined = no
	can_be_disabled = no
	position_priority = 0		# Capital

	icon = building_capital

	category = government

	upgrades = {
		"building_tec_proto_major_capital"
	}

	potential = {
		always = no
		uses_district_set = tec_protoworld
	}

	convert_to = {
		building_colony_shelter
		building_tec_hive_sapling
		building_tec_cyberhive_sapling
		building_tec_biohive_sapling
		building_deployment_post
		#building_tec_old_machine_deployment_post

		#building_tec_arkship_shelter
		building_resort_capital
		building_slave_capital
		building_ancient_control_center
		building_ancient_palace
	}

	resources = {
		category = planet_buildings_hab_capital
		upkeep = {
			energy = 3
		}
	}

	planet_modifier = {
		planet_housing_add = 5
		planet_max_buildings_add = @build_slots_t1
	}

	triggered_planet_modifier = {	# New habitats 1
		potential = {
			exists = planet
			planet = {
				uses_district_set = tec_protoworld
			}
			exists = owner
			owner = {
				tec_is_biohive = no
			}
		}
		modifier = {
			district_tec_proto_generator_max = 10
			district_tec_proto_mining_max = 10
			district_tec_proto_farming_max = 10
		}
	}

	triggered_planet_modifier = {	# New habitats 1
		potential = {
			exists = planet
			planet = {
				uses_district_set = tec_protoworld
			}
			exists = owner
			owner = {
				tec_is_biohive = yes
			}
		}
		modifier = {
			district_tec_proto_generator_max = 10	#district_tec_proto_generator_hive_max
			district_tec_proto_mining_max = 10		#district_tec_proto_mining_hive_max
			district_tec_proto_farming_max = 10		#district_tec_proto_farming_hive_max
		}
	}

	triggered_planet_modifier = {	# housing trad
		potential = {
			exists = owner
			owner = {
				has_active_tradition = tr_domination_imperious_architecture
			}
		}
		modifier = {
			planet_housing_add = 1
		}
	}

	# Outreach colony modifiers
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_tradition = tr_tec_outreach_3
			}
		}
		planet_building_build_speed_mult = 0.25
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_tradition = tr_tec_outreach_final_2
			}
		}
		planet_max_buildings_add = 1
	}

	# Amenities
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_gestalt = no
			}
		}
		modifier = {
			job_colonist_add = 2
			planet_amenities_add = 5
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_gestalt = yes
			}
		}
		modifier = {
			job_maintenance_drone_add = 2
			planet_amenities_no_happiness_add = 5
		}
	}

	# Regular jobs
	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				NOT = { is_megacorp = yes }
				is_regular_empire = yes
			}
		}
		text = job_colonist_effect_desc
	}

	triggered_planet_modifier = {	# auth vigilance
		potential = {
			exists = owner
			owner = {
				has_ethic = ethic_authoritarian
			}
		}
		modifier = {
			job_enforcer_add = -1
			job_tec_overseer_add = 1
		}
	}
	triggered_planet_modifier = {	# fan auth vigilance
		potential = {
			exists = owner
			owner = {
				has_ethic = ethic_fanatic_authoritarian
			}
		}
		modifier = {
			job_enforcer_add = -1
			job_tec_overseer_add = 2
		}
	}
	
	triggered_planet_modifier = {	# spiritual seekers enforcers
		potential = {
			exists = owner
			owner = {
				OR = {
					has_valid_civic = civic_tec_spiritual_seekers 
					has_valid_civic = civic_tec_corporate_seekers
				}
			}
		}
		modifier = {
			job_transcend_add = 1
		}
	}

	triggered_planet_modifier = {	# mechaempires roboticists
		potential = {
			exists = owner
			owner = { is_mechanical_empire = yes }
		}
		planet_pop_assembly_add = 2
		planet_pop_assemblers_upkeep_mult = 0.25
	}

	# Hive jobs
		# Eusocial
			triggered_planet_modifier = {
				potential = {
					exists = owner
					owner = { has_valid_civic = civic_tec_hive_eusocial }
				}
				modifier = {
					job_tec_broodqueen_drone_add = 1
					job_tec_broodlord_drone_add = 1
				}
			}
			triggered_desc = {
				trigger = {
					exists = owner
					owner = {
						has_valid_civic = civic_tec_hive_eusocial 
					}
					planet = {
						tec_has_assembly_buildings = no
						num_assigned_jobs = {
							job = tec_broodlord_drone
							value = 0
						}
					}
				}
				text = job_tec_broodqueen_drone_effect_desc_0
			}
			triggered_desc = {
				trigger = {
					exists = owner
					owner = {
						has_valid_civic = civic_tec_hive_eusocial 
					}
					planet = {
						tec_has_assembly_buildings = no
						num_assigned_jobs = {
							job = tec_broodlord_drone
							value = 1
						}
					}
				}
				text = job_tec_broodqueen_drone_effect_desc_1
			}
			triggered_desc = {
				trigger = {
					exists = owner
					owner = {
						has_valid_civic = civic_tec_hive_eusocial 
					}
					planet = {
						tec_has_assembly_buildings = no
						num_assigned_jobs = {
							job = tec_broodlord_drone
							value = 2
						}
					}
				}
				text = job_tec_broodqueen_drone_effect_desc_2
			}
			triggered_desc = {
				trigger = {
					exists = owner
					owner = {
						has_valid_civic = civic_tec_hive_eusocial 
					}
					planet = {
						tec_has_assembly_buildings = no
						num_assigned_jobs = {
							job = tec_broodlord_drone
							value = 3
						}
					}
				}
				text = job_tec_broodqueen_drone_effect_desc_3
			}
			triggered_desc = {
				trigger = {
					exists = owner
					owner = {
						has_valid_civic = civic_tec_hive_eusocial 
					}
					planet = {
						tec_has_assembly_buildings = no
						num_assigned_jobs = {
							job = tec_broodlord_drone
							value = 4
						}
					}
				}
				text = job_tec_broodqueen_drone_effect_desc_4
			}
			triggered_desc = {
				trigger = {
					exists = owner
					owner = {
						has_valid_civic = civic_tec_hive_eusocial 
					}
					planet = {
						tec_has_assembly_buildings = no
						num_assigned_jobs = {
							job = tec_broodlord_drone
							value >= 5
						}
					}
				}
				text = job_tec_broodqueen_drone_effect_desc_5
			}

			triggered_desc = {
				trigger = {
					exists = owner
					owner = {
						has_valid_civic = civic_tec_hive_eusocial 
					}
					planet = {
						tec_has_assembly_buildings = yes
					}
				}
				text = job_tec_broodqueen_drone_effect_desc_growth
			}
			triggered_desc = {
				trigger = {
					exists = owner
					owner = { has_valid_civic = civic_tec_hive_eusocial }
					planet = {
						tec_has_assembly_buildings = no
					}
				}
				text = job_tec_broodlord_drone_effect_desc
			}
			triggered_desc = {
				trigger = {
					exists = owner
					owner = { has_valid_civic = civic_tec_hive_eusocial }
					planet = {
						tec_has_assembly_buildings = yes
					}
				}
				text = job_tec_broodlord_drone_effect_desc_growth
			}
		# /

		# Reanimator hive
			triggered_planet_modifier = {
				potential = {
					exists = owner
					owner = { has_valid_civic = civic_tec_hive_necrophage }
				}
				modifier = {
					job_tec_pherodrone_drone_add = 1
				}
			}
			triggered_desc = {
				trigger = {
					exists = owner
					owner = {
						has_valid_civic = civic_tec_hive_necrophage
					}
				}
				text = job_tec_pherodrone_drone_effect_desc
			}
		# /
	# /



	# Machine jobs
	# Assembly vs cloning
		triggered_planet_modifier = {
			potential = {
				exists = owner
				owner = {
					is_machine_empire = yes
					NOT = {
						has_valid_civic = civic_tec_machine_reimaginators
					}
				}
				tec_has_cloning_buildings = no
			}
			job_replicator_add = 1
		}
		triggered_planet_modifier = {
			potential = {
				exists = owner
				owner = {
					is_machine_empire = yes
				}
				tec_has_cloning_buildings = yes
			}
			job_tec_cloner_drone_add = 1
		}
	# /

	# Machine civics
		triggered_planet_modifier = {	# Prime
			potential = {
				exists = owner
				owner = {
					has_valid_civic = civic_tec_machine_prime
				}
			}
			modifier = {
				job_tec_prime_drone_add = 1
				job_maintenance_drone_add = -1
			}
		}
		triggered_desc = {
			trigger = {
				exists = owner
				owner = {
					has_valid_civic = civic_tec_machine_prime
				}
			}
			text = job_tec_prime_drone_effect_desc
		}

		triggered_planet_modifier = {	# Performance
			potential = {
				exists = owner
				owner = {
					has_valid_civic = civic_tec_machine_performance
				}
			}
			modifier = {
				job_tec_performance_drone_add = 1
				job_maintenance_drone_add = -1
			}
		}
		triggered_desc = {
			trigger = {
				exists = owner
				owner = {
					has_valid_civic = civic_tec_machine_performance
				}
			}
			text = job_tec_performance_drone_effect_desc
		}

		triggered_planet_modifier = {	# Hypercluster
			potential = {
				exists = owner
				owner = {
					has_valid_civic = civic_tec_machine_hypercluster
				}
			}
			modifier = {
				job_tec_hypercluster_drone_add = 1
				job_maintenance_drone_add = -1
			}
		}
		triggered_desc = {
			trigger = {
				exists = owner
				owner = {
					has_valid_civic = civic_tec_machine_hypercluster
				}
			}
			text = job_tec_hypercluster_drone_effect_desc
		}

		triggered_planet_modifier = {	# Reimaginator
			potential = {
				exists = owner
				owner = {
					has_valid_civic = civic_tec_machine_reimaginators
				}
			}
			modifier = {
				job_tec_reimaginator_drone_add = 1
				job_maintenance_drone_add = -1
			}
		}
		triggered_desc = {
			trigger = {
				exists = owner
				owner = {
					has_valid_civic = civic_tec_machine_reimaginators
				}
			}
			text = job_tec_reimaginator_drone_effect_desc
		}

		triggered_planet_modifier = {	# Debuggers
			potential = {
				exists = owner
				owner = {
					has_valid_civic = civic_tec_machine_debuggers
				}
			}
			modifier = {
				job_tec_debugger_drone_add = 1
				job_maintenance_drone_add = -1
			}
		}
		triggered_desc = {
			trigger = {
				exists = owner
				owner = {
					has_valid_civic = civic_tec_machine_debuggers
				}
			}
			text = job_tec_debugger_drone_effect_desc
		}

		triggered_planet_modifier = {	# Megaform
			potential = {
				exists = owner
				owner = {
					has_valid_civic = civic_tec_machine_warform
				}
			}
			modifier = {
				job_tec_warform_drone_add = 1
				job_maintenance_drone_add = -1
			}
		}
		triggered_desc = {
			trigger = {
				exists = owner
				owner = {
					has_valid_civic = civic_tec_machine_warform
				}
			}
			text = job_tec_warform_drone_effect_desc
		}

		triggered_desc = {
			trigger = {
				exists = owner
				owner = { is_machine_empire = yes }
			}
			text = job_coordinator_effect_desc
		}
		triggered_desc = {
			trigger = {
				owner = {
					is_machine_empire = yes
					NOT = {
						has_valid_civic = civic_tec_machine_reimaginators
					}
				}
				tec_has_cloning_buildings = no
			}
			text = job_replicator_effect_desc
		}
		triggered_desc = {
			trigger = {
				owner = {
					is_machine_empire = yes
				}
				tec_has_cloning_buildings = yes
			}
			text = job_tec_cloner_drone_effect_desc
		}
		triggered_desc = {
			trigger = {
				exists = owner
				owner = { is_machine_empire = yes }
			}
			text = job_maintenance_drone_effect_desc
		}
	# /
}

# Habitat Central Complex
building_tec_proto_major_capital = {
	base_buildtime = @b2_time
	capital = yes
	can_build = no
	can_demolish = no
	can_be_ruined = no
	can_be_disabled = no
	position_priority = 0		# Capital
	
	icon = building_major_capital

	category = government

	potential = {
		always = no
		uses_district_set = tec_protoworld
	}

	allow = {
		num_pops >= @pops_t2
	}
	
	convert_to = {
		building_capital
		building_hive_capital
		building_tec_cyberhive_capital
		building_tec_biohive_capital
		building_machine_capital
		#building_tec_old_machine_capital

		building_resort_capital
		building_slave_capital
		building_ancient_control_center
		building_ancient_palace
	}
	
	resources = {
		category = planet_buildings_hab_capital
		cost = {
			minerals = @b2_minerals
		}
		upkeep = {
			energy = @b2_upkeep
		}
		# Special resource civics
		cost = {
			trigger = {
				owner = { tec_is_bioarch_empire = yes }
			}
			minerals = @b2_minus_minerals
			food = @b2_half_minerals
		}
		upkeep = {
			trigger = {
				owner = { tec_is_bioarch_empire = yes }
			}
			energy = @b2_minus_upkeep
			food = @b2_half_upkeep
		}
		cost = {
			trigger = {
				owner = { has_valid_civic = civic_tec_machine_digitalization }
			}
			minerals = @b2_minus_minerals
			energy = @b2_half_minerals
		}
	}
	

	planet_modifier = {
		planet_max_buildings_add = @build_slots_t2
		planet_max_branch_office_buildings_add = @branch_slots_t1
	}

	# Amenities
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_gestalt = no
			}
		}
		modifier = {
			planet_amenities_add = 5
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_gestalt = yes
			}
		}
		modifier = {
			planet_amenities_no_happiness_add = 5
		}
	}

	triggered_planet_modifier = {	# tradition
		potential = {
			exists = owner
			owner = {
				has_active_tradition = tr_domination_imperious_architecture
			}
		}
		modifier = {
			planet_housing_add = 1
		}
	}

	triggered_planet_modifier = {	# tradition vd
		potential = {
			exists = owner
			owner = { has_active_tradition = tr_prosperity_void_works }
		}
		modifier = {
			planet_max_buildings_add = 1
		}
	}

	# Regular jobs
		triggered_planet_modifier = {
			potential = {
				exists = owner
				owner = {
					is_regular_empire = yes
					NOR = {
						is_megacorp = yes
						has_valid_civic = civic_exalted_priesthood 
						has_valid_civic = civic_aristocratic_elite
						has_valid_civic = civic_merchant_guilds
						has_valid_civic = civic_technocracy
						has_valid_civic = civic_tec_stratocracy
						has_valid_civic = civic_tec_archivist
						has_valid_civic = civic_tec_irenic_bureaucracy
						tec_is_occult_cult = yes
						has_valid_civic = civic_tec_science_directorate
						has_valid_civic = civic_tec_inventinkers
					}
				}
			}
			modifier = {
				job_politician_add = 2
			}
		}
		triggered_desc = {
			trigger = {
				exists = owner
				owner = {
					NOT = { is_megacorp = yes }
					is_regular_empire = yes 
				}
			}
			text = job_politician_effect_desc
		}

			
		triggered_planet_modifier = {	# Exalted 
			potential = {
				exists = owner
				owner = { has_valid_civic = civic_exalted_priesthood }
			}
			modifier = {
				job_politician_add = 1
				job_high_priest_add = 1
			}
		}
		triggered_desc = {
			trigger = {
				exists = owner
				owner = {
					has_valid_civic = civic_exalted_priesthood
				}
			}
			text = job_high_priest_effect_desc
		}
		
		triggered_planet_modifier = {	# Aristo
			potential = {
				exists = owner
				owner = { has_valid_civic = civic_aristocratic_elite }
			}
			modifier = {
				job_politician_add = 1
				job_noble_add = 1
			}
		}
		triggered_desc = {
			trigger = {
				exists = owner
				owner = {
					has_valid_civic = civic_aristocratic_elite
				}
			}
			text = job_noble_effect_desc
		}

		triggered_planet_modifier = {	# Merchant
			potential = {
				exists = owner
				owner = { has_valid_civic = civic_merchant_guilds }
			}
			modifier = {
				job_politician_add = 1
				job_mogul_add = 1
			}
		}
		triggered_desc = {
			trigger = {
				exists = owner
				owner = {
					has_valid_civic = civic_merchant_guilds
				}
			}
			text = job_mogul_effect_desc
		}
		
		triggered_planet_modifier = {	# Technocrat
			potential = {
				exists = owner
				owner = { has_valid_civic = civic_technocracy }
			}
			modifier = {
				job_tec_technocrat_add = 1		
				job_politician_add = 1
			}
		}
		triggered_desc = {
			trigger = {
				exists = owner
				owner = {
					has_valid_civic = civic_technocracy
				}
			}
			text = job_tec_technocrat_effect_desc
		}

		triggered_planet_modifier = {	# directorate
			potential = {
				exists = owner
				owner = { has_valid_civic = civic_tec_science_directorate }
			}
			modifier = {
				job_head_researcher_add = 1		
				job_politician_add = 1
			}
		}
		triggered_desc = {
			trigger = {
				exists = owner
				owner = {
					has_valid_civic = civic_tec_science_directorate
				}
			}
			text = job_head_researcher_effect_desc
		}

		triggered_planet_modifier = { 	# Inventinkers
			potential = {
				exists = owner
				owner = { has_valid_civic = civic_tec_inventinkers }
			}
			modifier = {
				job_tec_master_tinker_add = 1		
				job_politician_add = 1
			}
		}
		triggered_desc = {
			trigger = {
				exists = owner
				owner = {
					has_valid_civic = civic_tec_inventinkers
				}
			}
			text = job_tec_master_tinker_effect_desc
		}

		triggered_planet_modifier = {	# Stratocracy
			potential = {
				exists = owner
				owner = { has_valid_civic = civic_tec_stratocracy }
			}
			modifier = {
				job_politician_add = 1
				job_commandante_add = 1
			}
		}
		triggered_desc = {
			trigger = {
				exists = owner
				owner = {
					has_valid_civic = civic_tec_stratocracy
				}
			}
			text = job_commandante_effect_desc
		}

		triggered_planet_modifier = {	# Archivist
			potential = {
				exists = owner
				owner = { has_valid_civic = civic_tec_archivist }
			}
			modifier = {
				job_tec_grand_archivist_add = 1
				job_politician_add = 1
			}
		}
		triggered_desc = {
			trigger = {
				exists = owner
				owner = {
					has_valid_civic = civic_tec_archivist
				}
			}
			text = job_tec_grand_archivist_effect_desc
		}
		
		triggered_planet_modifier = {	# Bureau
			potential = {
				exists = owner
				owner = { has_valid_civic = civic_tec_irenic_bureaucracy }
			}
			modifier = {
				job_supervisor_bureaucrat_add = 1
				job_politician_add = 1
			}
		}
		triggered_desc = {
			trigger = {
				exists = owner
				owner = {
					has_valid_civic = civic_tec_irenic_bureaucracy
				}
			}
			text = job_supervisor_bureaucrat_effect_desc
		}
		
		triggered_planet_modifier = {	# Occultists
			potential = {
				exists = owner
				owner = { tec_is_occult_cult = yes }
			}
			modifier = {
				job_politician_add = 1
				job_tec_grand_occultist_add = 1
			}
		}
		triggered_desc = {
			trigger = {
				exists = owner
				owner = {
					tec_is_occult_cult = yes
				}
			}
			text = job_tec_grand_occultist_effect_desc
		}
	# /
	
	# Megacorp jobs
		triggered_planet_modifier = {
			potential = {
				exists = owner
				owner = {
					is_megacorp = yes
				}
			}
			modifier = {
				job_executive_add = 1
			}
		}
		triggered_planet_modifier = {
			potential = {
				exists = owner
				owner = {
					is_megacorp = yes
					NOR = {
						has_valid_civic = civic_tec_corporate_patentscorp
						has_valid_civic = civic_tec_corporate_megabank
						has_valid_civic = civic_tec_corporate_exploiters
						has_valid_civic = civic_tec_corporate_megareclamators
						has_valid_civic = civic_tec_corpo_parabellum
						has_valid_civic = civic_tec_corporate_inventcorp
					}
				}
			}
			modifier = {
				job_executive_add = 1
			}
		}
		triggered_desc = {
			trigger = {
				exists = owner
				owner = {
					is_megacorp = yes
				}
			}
			text = job_executive_effect_desc
		}
		

		triggered_planet_modifier = {	# Consultant
			potential = {
				exists = owner
				owner = { has_valid_civic = civic_tec_corporate_patentscorp }
			}
			modifier = {
				job_tec_corpo_consultant_add = 1		
			}
		}
		triggered_desc = {
			trigger = {
				exists = owner
				owner = {
					is_megacorp = yes
					has_valid_civic = civic_tec_corporate_patentscorp
				}
			}
			text = job_tec_corpo_consultant_effect_desc
		}

		triggered_planet_modifier = {	# Bankers
			potential = {
				exists = owner
				owner = { has_valid_civic = civic_tec_corporate_megabank }
			}
			modifier = {
				job_tec_corpo_bank_director_add = 1			
			}
		}
		triggered_desc = {
			trigger = {
				exists = owner
				owner = {
					is_megacorp = yes
					has_valid_civic = civic_tec_corporate_megabank
				}
			}
			text = job_tec_corpo_bank_director_effect_desc
		}

		triggered_planet_modifier = {	# Exploiters
			potential = {
				exists = owner
				owner = { has_valid_civic = civic_tec_corporate_exploiters }
			}
			modifier = {
				job_tec_corpo_prospector_add = 1			
			}
		}
		triggered_desc = {
			trigger = {
				exists = owner
				owner = {
					is_megacorp = yes
					has_valid_civic = civic_tec_corporate_exploiters
				}
			}
			text = job_tec_corpo_prospector_effect_desc
		}

		triggered_planet_modifier = {	# Reclamators
			potential = {
				exists = owner
				owner = { has_valid_civic = civic_tec_corporate_megareclamators }
			}
			modifier = {
				
				job_tec_corpo_ecoprospector_add = 1		
			}
		}
		triggered_desc = {
			trigger = {
				exists = owner
				owner = {
					is_megacorp = yes
					has_valid_civic = civic_tec_corporate_megareclamators
				}
			}
			text = job_tec_corpo_ecoprospector_effect_desc
		}

		triggered_planet_modifier = {	# Parabellum
			potential = {
				exists = owner
				owner = { has_valid_civic = civic_tec_corpo_parabellum }
			}
			modifier = {
				job_tec_corpo_parabellum_add = 1		
			}
		}
		triggered_desc = {
			trigger = {
				exists = owner
				owner = {
					is_megacorp = yes
					has_valid_civic = civic_tec_corpo_parabellum
				}
			}
			text = job_tec_corpo_parabellum_effect_desc
		}

		triggered_planet_modifier = {	# Inventcorp
			potential = {
				exists = owner
				owner = { has_valid_civic = civic_tec_corporate_inventcorp }
			}
			modifier = {
				job_tec_corpo_tinker_add = 1			
			}
		}
		triggered_desc = {
			trigger = {
				exists = owner
				owner = {
					is_megacorp = yes
					has_valid_civic = civic_tec_corporate_inventcorp
				}
			}
			text = job_tec_corpo_tinker_effect_desc
		}
	# /

	# Add per pop rebranded civics
		triggered_planet_modifier = {	# corporate ruler
			potential = {
				exists = owner
				owner = { has_valid_civic = civic_corporate_dominion }
			}
			modifier = {
				job_merchant_add = 1	
			}
		}
		triggered_planet_modifier = {	# divine ruler
			potential = {
				exists = owner
				owner = { has_valid_civic = civic_tec_divine_circle }
			}
			modifier = {
				job_high_priest_add = 1
			}
		}
		triggered_planet_modifier = {	# military ruler
			potential = {
				exists = owner
				owner = { has_valid_civic = civic_tec_military_council }
			}
			modifier = {
				job_commandante_add = 1
			}
		}
		triggered_planet_modifier = {	# research ruler
			potential = {
				exists = owner
				owner = { has_valid_civic = civic_tec_research_council }
			}
			modifier = {
				job_head_researcher_add = 1
			}
		}
		triggered_planet_modifier = {	# bureaucrat ruler
			potential = {
				exists = owner
				owner = { has_valid_civic = civic_tec_executive_committee }
			}
			modifier = {
				job_supervisor_bureaucrat_add = 1
			}
		}
		triggered_planet_modifier = {	# mogul ruler
			potential = {
				exists = owner
				owner = { has_valid_civic = civic_tec_moguls }
			}
			modifier = {
				job_mogul_add = 1
			}
		}
		
		triggered_planet_modifier = {	# socialistic specialist
			potential = {
				exists = owner
				owner = { has_valid_civic = civic_tec_syndical }
			}
			modifier = {
				job_labour_hero_add = 2
			}
		}
		triggered_planet_modifier = {	# seekers specialist
			potential = {
				exists = owner
				owner = {
					OR = {
						has_valid_civic = civic_tec_spiritual_seekers 
						has_valid_civic = civic_tec_corporate_seekers
					}
				}
			}
			modifier = {
				job_transcend_add = 2
			}
		}
		triggered_planet_modifier = {	# private specialist
			potential = {
				exists = owner
				owner = {
					has_valid_civic = civic_tec_private_militaries
				}
			}
			modifier = {
				job_mercenary_add = 2
			}
		}
		triggered_planet_modifier = {	# innovative specialist
			potential = {
				exists = owner
				owner = {
					OR = {
						has_valid_civic = civic_tec_capitalized_innovation
						has_valid_civic = civic_tec_corporate_innovative
					}
				}
			}
			modifier = {
				job_researcher_add = 2
			}
		}
		triggered_planet_modifier = {	# martial worker
			potential = {
				exists = owner
				owner = { has_valid_civic = civic_tec_martial_brotherhood }
			}
			modifier = {
				job_soldier_add = 2
			}
		}
		
		triggered_planet_modifier = {	# Mecha empire
			potential = {
				exists = owner
				owner = { is_mechanical_empire = yes }
			}
			planet_pop_assembly_add = 2
			planet_pop_assemblers_upkeep_mult = 0.25
		}

		triggered_planet_modifier = {	# Enforcer
			potential = {
				exists = owner
				owner = {
					is_regular_empire = yes 
					is_authoritarian = no
				}
			}
			job_enforcer_add = 1
		}
		triggered_desc = {
			trigger = {
				exists = owner
				owner = {
					is_regular_empire = yes
					is_authoritarian = no
				}
			}
			text = job_enforcer_effect_desc
		}

		triggered_planet_modifier = {	# Overseer enforcer replace
			potential = {
				exists = owner
				owner = {
					is_regular_empire = yes 
					is_authoritarian = yes
				}
			}
			job_tec_overseer_add = 1
		}
		triggered_desc = {
			trigger = {
				exists = owner
				owner = {
					is_regular_empire = yes
					is_authoritarian = yes
				}
			}
			text = job_tec_overseer_effect_desc
		}
	# /
	
	# Hivemind
		triggered_planet_modifier = {	# Hive nocyb
			potential = {
				exists = owner
				owner = {
					is_hive_empire = yes
					tec_is_cyberhive = no
				}
			}
			job_synapse_drone_add = 3
			planet_amenities_no_happiness_add = 3
		}

		triggered_planet_modifier = {	# Hive cyb
			potential = {
				exists = owner
				owner = {
					is_hive_empire = yes
					tec_is_cyberhive = yes
				}
			}
			job_tec_network_drone_add = 3
			planet_amenities_no_happiness_add = 3
		}
		triggered_planet_modifier = {
			potential = {
				exists = owner
				owner = { has_valid_civic = civic_tec_hive_eusocial }
			}
			modifier = {
				job_tec_broodqueen_drone_add = 1
				job_tec_broodlord_drone_add = 2
			}
		}
		triggered_desc = {
			trigger = {
				exists = owner
				owner = {
					has_valid_civic = civic_tec_hive_eusocial 
				}
				planet = {
					tec_has_assembly_buildings = no
					num_assigned_jobs = {
						job = tec_broodlord_drone
						value = 0
					}
				}
			}
			text = job_tec_broodqueen_drone_effect_desc_0
		}
		triggered_desc = {
			trigger = {
				exists = owner
				owner = {
					has_valid_civic = civic_tec_hive_eusocial 
				}
				planet = {
					tec_has_assembly_buildings = no
					num_assigned_jobs = {
						job = tec_broodlord_drone
						value = 1
					}
				}
			}
			text = job_tec_broodqueen_drone_effect_desc_1
		}
		triggered_desc = {
			trigger = {
				exists = owner
				owner = {
					has_valid_civic = civic_tec_hive_eusocial 
				}
				planet = {
					tec_has_assembly_buildings = no
					num_assigned_jobs = {
						job = tec_broodlord_drone
						value = 2
					}
				}
			}
			text = job_tec_broodqueen_drone_effect_desc_2
		}
		triggered_desc = {
			trigger = {
				exists = owner
				owner = {
					has_valid_civic = civic_tec_hive_eusocial 
				}
				planet = {
					tec_has_assembly_buildings = no
					num_assigned_jobs = {
						job = tec_broodlord_drone
						value = 3
					}
				}
			}
			text = job_tec_broodqueen_drone_effect_desc_3
		}
		triggered_desc = {
			trigger = {
				exists = owner
				owner = {
					has_valid_civic = civic_tec_hive_eusocial 
				}
				planet = {
					tec_has_assembly_buildings = no
					num_assigned_jobs = {
						job = tec_broodlord_drone
						value = 4
					}
				}
			}
			text = job_tec_broodqueen_drone_effect_desc_4
		}
		triggered_desc = {
			trigger = {
				exists = owner
				owner = {
					has_valid_civic = civic_tec_hive_eusocial 
				}
				planet = {
					tec_has_assembly_buildings = no
					num_assigned_jobs = {
						job = tec_broodlord_drone
						value >= 5
					}
				}
			}
			text = job_tec_broodqueen_drone_effect_desc_5
		}

		triggered_desc = {
			trigger = {
				exists = owner
				owner = {
					has_valid_civic = civic_tec_hive_eusocial 
				}
				planet = {
					tec_has_assembly_buildings = yes
				}
			}
			text = job_tec_broodqueen_drone_effect_desc_growth
		}
		triggered_desc = {
			trigger = {
				exists = owner
				owner = { has_valid_civic = civic_tec_hive_eusocial }
				planet = {
					tec_has_assembly_buildings = no
				}
			}
			text = job_tec_broodlord_drone_effect_desc
		}
		triggered_desc = {
			trigger = {
				exists = owner
				owner = { has_valid_civic = civic_tec_hive_eusocial }
				planet = {
					tec_has_assembly_buildings = yes
				}
			}
			text = job_tec_broodlord_drone_effect_desc_growth
		}

		# Reanimator hive
		triggered_planet_modifier = {
			potential = {
				exists = owner
				owner = { has_valid_civic = civic_tec_hive_necrophage }
			}
			modifier = {
				job_tec_pherodrone_drone_add = 1
			}
		}
		triggered_desc = {
			trigger = {
				exists = owner
				owner = {
					has_valid_civic = civic_tec_hive_necrophage
				}
			}
			text = job_tec_pherodrone_drone_effect_desc
		}

		triggered_planet_modifier = {
			potential = {
				exists = owner
				owner = {
					has_valid_civic = civic_tec_hive_eusocial 
					tec_is_cyberhive = no
				}
			}
			modifier = {
				job_synapse_drone_add = -2
			}
		}
		triggered_desc = {
			trigger = {
				exists = owner
				owner = {
					is_hive_empire = yes 
					tec_is_cyberhive = no
				}
			}
			text = job_synapse_drone_effect_desc
		}

		triggered_planet_modifier = {
			potential = {
				exists = owner
				owner = {
					has_valid_civic = civic_tec_hive_eusocial 
					tec_is_cyberhive = yes
				}
			}
			modifier = {
				job_tec_network_drone_add = -2
			}
		}
		triggered_desc = {
			trigger = {
				exists = owner
				owner = {
					is_hive_empire = yes 
					tec_is_cyberhive = yes
				}
			}
			text = job_tec_network_drone_effect_desc
		}
	# /

	# Machine
		triggered_planet_modifier = {	# Machine 
			potential = {
				exists = owner
				owner = { is_machine_empire = yes }
			}
			job_coordinator_add = 2
			job_maintenance_drone_add = 4
			planet_amenities_no_happiness_add = 3
		}

		# Assembly vs cloning
		triggered_planet_modifier = {
			potential = {
				exists = owner
				owner = {
					is_machine_empire = yes
					NOT = {
						has_valid_civic = civic_tec_machine_reimaginators
					}
				}
				tec_has_cloning_buildings = no
			}
			job_replicator_add = 2
		}

		triggered_planet_modifier = {
			potential = {
				exists = owner
				owner = {
					is_machine_empire = yes
				}
				tec_has_cloning_buildings = yes
			}
			job_tec_cloner_drone_add = 2
		}

		# Machine civics
		triggered_planet_modifier = {	# Prime
			potential = {
				exists = owner
				owner = {
					has_valid_civic = civic_tec_machine_prime
				}
			}
			modifier = {
				job_tec_prime_drone_add = 2
				job_maintenance_drone_add = -2
			}
		}
		triggered_desc = {
			trigger = {
				exists = owner
				owner = {
					has_valid_civic = civic_tec_machine_prime
				}
			}
			text = job_tec_prime_drone_effect_desc
		}

		triggered_planet_modifier = {	# Performance
			potential = {
				exists = owner
				owner = {
					has_valid_civic = civic_tec_machine_performance
				}
			}
			modifier = {
				job_tec_performance_drone_add = 2
				job_maintenance_drone_add = -2
			}
		}
		triggered_desc = {
			trigger = {
				exists = owner
				owner = {
					has_valid_civic = civic_tec_machine_performance
				}
			}
			text = job_tec_performance_drone_effect_desc
		}

		triggered_planet_modifier = {	# Hypercluster
			potential = {
				exists = owner
				owner = {
					has_valid_civic = civic_tec_machine_hypercluster
				}
			}
			modifier = {
				job_tec_hypercluster_drone_add = 2
				job_maintenance_drone_add = -2
			}
		}
		triggered_desc = {
			trigger = {
				exists = owner
				owner = {
					has_valid_civic = civic_tec_machine_hypercluster
				}
			}
			text = job_tec_hypercluster_drone_effect_desc
		}

		triggered_planet_modifier = {	# Reimaginator
			potential = {
				exists = owner
				owner = {
					has_valid_civic = civic_tec_machine_reimaginators
				}
			}
			modifier = {
				job_tec_reimaginator_drone_add = 1
				job_maintenance_drone_add = -1
			}
		}
		triggered_desc = {
			trigger = {
				exists = owner
				owner = {
					has_valid_civic = civic_tec_machine_reimaginators
				}
			}
			text = job_tec_reimaginator_drone_effect_desc
		}

		triggered_planet_modifier = {	# Debuggers
			potential = {
				exists = owner
				owner = {
					has_valid_civic = civic_tec_machine_debuggers
				}
			}
			modifier = {
				job_tec_debugger_drone_add = 2
				job_maintenance_drone_add = -2
			}
		}
		triggered_desc = {
			trigger = {
				exists = owner
				owner = {
					has_valid_civic = civic_tec_machine_debuggers
				}
			}
			text = job_tec_debugger_drone_effect_desc
		}

		triggered_planet_modifier = {	# Megaform
			potential = {
				exists = owner
				owner = {
					has_valid_civic = civic_tec_machine_warform
				}
			}
			modifier = {
				job_tec_warform_drone_add = 2
				job_maintenance_drone_add = -2
			}
		}
		triggered_desc = {
			trigger = {
				exists = owner
				owner = {
					has_valid_civic = civic_tec_machine_warform
				}
			}
			text = job_tec_warform_drone_effect_desc
		}


		triggered_desc = {
			trigger = {
				exists = owner
				owner = { is_machine_empire = yes }
			}
			text = job_coordinator_effect_desc
		}
		triggered_desc = {
			trigger = {
				owner = {
					is_machine_empire = yes
					NOT = {
						has_valid_civic = civic_tec_machine_reimaginators
					}
				}
				tec_has_cloning_buildings = no
			}
			text = job_replicator_effect_desc
		}
		triggered_desc = {
			trigger = {
				owner = {
					is_machine_empire = yes
				}
				tec_has_cloning_buildings = yes
			}
			text = job_tec_cloner_drone_effect_desc
		}
		triggered_desc = {
			trigger = {
				exists = owner
				owner = { is_machine_empire = yes }
			}
			text = job_maintenance_drone_effect_desc
		}
	# /
	
}