# jobs/tec_soldier

inline_script = {
	script = jobs/tec_job
	trigger = "
		exists = owner

		$trigger$

		inline_script = {
			script = jobs/helper/tec_planet_not_exists_or_job_trigger
			trigger = tec_has_soldier_planet_swap
			negate = yes
		}

		owner = {
			inline_script = { script = tec_read_cache scope = country trigger = tec_uses_regular_empire_jobs }
			NOT = { inline_script = { script = tec_read_cache scope = country trigger = tec_has_soldier_swap } }
		}
	"
	job = soldier
	count = $count$
	mult = $mult$
	display = $display$
	default_job = $default_job$
	default_job = no
	default_trigger = "$default_trigger$"
	default_trigger = "always = no"
}

inline_script = {
	script = jobs/tec_job
	trigger = "
		exists = owner

		$trigger$

		exists = planet

		planet = {
			has_modifier = slave_colony
		}

		owner = {
			inline_script = { script = tec_read_cache scope = country trigger = tec_uses_regular_empire_jobs }
		}
	"
	job = battle_thrall
	count = $count$
	mult = $mult$
	display = $display$
	default_job = $default_job$
	default_job = no
	default_trigger = "$default_trigger$"
	default_trigger = "always = no"
}


inline_script = {
	script = jobs/tec_job
	trigger = "
		exists = owner

		$trigger$

		inline_script = {
			script = jobs/helper/tec_planet_not_exists_or_job_trigger
			trigger = tec_has_soldier_planet_swap
			negate = yes
		}

		owner = {
			inline_script = { script = tec_read_cache scope = country trigger = tec_uses_regular_empire_jobs }
			has_valid_civic = civic_tec_corporate_militarybureau
		}
	"
	job = tec_mercenary
	count = $count$
	mult = $mult$
	display = $display$
	default_job = $default_job$
	default_job = no
	default_trigger = "$default_trigger$"
	default_trigger = "always = no"
}

inline_script = {
	script = jobs/tec_job
	trigger = "
		exists = owner

		$trigger$

		inline_script = {
			script = jobs/helper/tec_planet_not_exists_or_job_trigger
			trigger = tec_has_soldier_planet_swap
			negate = yes
		}

		owner = {
			inline_script = { script = tec_read_cache scope = country trigger = tec_uses_regular_empire_jobs }
			has_valid_civic = civic_reanimated_armies
		}
	"
	job = tec_necromonger
	count = $count$
	mult = $mult$
	display = $display$
	default_job = $default_job$
	default_job = no
	default_trigger = "$default_trigger$"
	default_trigger = "always = no"
}


inline_script = {
	script = mod_support/tec_inlines_include
	include_script = jobs/tec_soldier
	parameters = "
		count = $count$
		mult = $mult$
		display = $display$
		trigger = \"\\\"$trigger$\"\\\"
		default_job = $default_job$
		default_job = no
		default_trigger = \"\\\"$default_trigger$\"\\\"
		default_trigger = \"\\\"always = no\"\\\"
	"
}