# jobs/tec_assembly.txt

# this adds jobs depending on assembly building, useful for PD etc

inline_script = {
    script = jobs/tec_roboticist
    count = $count$
    mult = $mult$
    display = $display$
    trigger = "
		exists = owner

		$trigger$

		planet = {
		    OR = {
		        tec_has_robotic_assembly_buildings = yes
                AND = {
                    tec_only_one_assembly_building = no
                    exists = owner
                    owner = {
                        OR = {
                            has_origin = origin_mechanists
                            is_individual_machine = yes
                        }
                    }
                }
            }
		}
	"
    default_job = $default_job$
    default_job = no
    default_trigger = "$default_trigger$"
    default_trigger = "always = no"
}

inline_script = {
    script = jobs/tec_cloner
    count = $count$
    mult = $mult$
    display = $display$
    trigger = "
		exists = owner

		$trigger$

		planet = {
		    OR = {
		        tec_has_cloning_assembly_buildings = yes
                tec_has_genetic_assembly_buildings = yes
                AND = {
                    tec_only_one_assembly_building = no
                    exists = owner
                    owner = {
                        OR = {
                            tec_is_cyberhive = yes
                            is_regular_empire = yes
                            has_origin = origin_tec_clones
                        }
                        NOR = {
                            tec_is_bioservant_empire = yes
                            has_origin = origin_mechanists
                            has_origin = origin_tec_bioservant
                        }
                    }
                }
                AND = {
                    tec_only_one_assembly_building = no
                    exists = owner
                    owner = {
                        is_machine_empire = yes
                    }
                    exists = assembling_species
                    assembling_species = {
                        is_organic_species = yes
                    }
                }
            }
		}
	"
    default_job = $default_job$
    default_job = no
    default_trigger = "$default_trigger$"
    default_trigger = "always = no"
}

inline_script = {
    script = jobs/tec_bioengineer
    count = $count$
    mult = $mult$
    display = $display$
    trigger = "
		exists = owner

		$trigger$

		planet = {
		    OR = {
		        tec_has_bioservant_assembly_buildings = yes
                AND = {
                    tec_only_one_assembly_building = no
                    exists = owner
                    owner = {
                        OR = {
                            tec_is_bioservant_empire = yes
                            has_origin = origin_tec_bioservant
                        }
                    }
                }
            }
		}
	"
    default_job = $default_job$
    default_job = no
    default_trigger = "$default_trigger$"
    default_trigger = "always = no"
}

inline_script = {
    script = jobs/tec_replicator
    count = $count$
    mult = $mult$
    display = $display$
    trigger = "
		exists = owner

		$trigger$

		planet = {
            OR = {
		        tec_has_machine_assembly_buildings = yes
                AND = {
                    tec_only_one_assembly_building = no
                    exists = owner
                    owner = {
                        is_machine_empire = yes
                    }
                    exists = assembling_species
                    assembling_species = {
                        is_organic_species = no
                    }
                }
            }
		}
	"
    default_job = $default_job$
    default_job = no
    default_trigger = "$default_trigger$"
    default_trigger = "always = no"
}

inline_script = {
    script = jobs/tec_spawning_drone
    count = $count$
    mult = $mult$
    display = $display$
    trigger = "
		exists = owner

		$trigger$

		planet = {
            OR = {
		        tec_has_spawning_assembly_buildings = yes
                AND = {
                    tec_only_one_assembly_building = no
                    exists = owner
                    owner = {
                        OR = {
                            tec_is_regular_hive = yes
                            tec_is_biohive = yes
                        }
                        NOR = {
                            tec_is_bioservant_empire = yes
                            has_origin = origin_mechanists
                            has_origin = origin_tec_bioservant
                        }
                    }
                }
            }
		}
	"
    default_job = $default_job$
    default_job = no
    default_trigger = "$default_trigger$"
    default_trigger = "always = no"
}