# jobs/tec_brood_proteans

#inline_script = {
#	script = jobs/tec_brood_protean
#	count = 1
#	mult = 1
#	trigger = ""
#	display = with_desc
#	default_job = tec_brood_protean_drone
#	default_trigger = "is_gestalt = yes"
#}

inline_script = {	# Fallback
	script = jobs/tec_job
	trigger = "
		exists = owner

		$trigger$

		owner = {
			has_valid_civic = civic_tec_hive_brood_proteans
		}
		planet = {
			NOR = {
				is_dry = yes
				is_cold = yes
				is_cold = yes
				is_artificial = yes
				tec_is_machine_world = yes
				inline_script = { script = tec_read_cache scope = planet trigger = tec_is_perfect_planet }
				inline_script = { script = tec_read_cache scope = planet trigger = tec_is_city_world }
				tec_is_ecoworld = yes
				tec_is_relic_world = yes
				tec_is_nuked_world = yes
			}
		}
	"
	job = tec_brood_protean_drone
	count = $count$
	mult = $mult$
	display = $display$
	default_job = $default_job$
	default_job = no
	default_trigger = "$default_trigger$"
	default_trigger = "always = no"
}
inline_script = {	# Warm
	script = jobs/tec_job
	trigger = "
		exists = owner

		$trigger$

		owner = {
			has_valid_civic = civic_tec_hive_brood_proteans
		}
		planet = {
			is_dry = yes
			NOT = {
				inline_script = { script = tec_read_cache scope = planet trigger = tec_is_perfect_planet }
			}
			tec_is_relic_world = no
			tec_is_nuked_world = no
		}
	"
	job = tec_brood_protean_drone_warm
	count = $count$
	mult = $mult$
	display = $display$
	default_job = $default_job$
	default_job = no
	default_trigger = "$default_trigger$"
	default_trigger = "always = no"
}
inline_script = {	# Wet
	script = jobs/tec_job
	trigger = "
		exists = owner

		$trigger$

		owner = {
			has_valid_civic = civic_tec_hive_brood_proteans
		}
		planet = {
			is_wet = yes
			NOT = {
				inline_script = { script = tec_read_cache scope = planet trigger = tec_is_perfect_planet }
			}
			tec_is_relic_world = no
			tec_is_nuked_world = no
		}
	"
	job = tec_brood_protean_drone_wet
	count = $count$
	mult = $mult$
	display = $display$
	default_job = $default_job$
	default_job = no
	default_trigger = "$default_trigger$"
	default_trigger = "always = no"
}
inline_script = {	# Cold
	script = jobs/tec_job
	trigger = "
		exists = owner

		$trigger$

		owner = {
			has_valid_civic = civic_tec_hive_brood_proteans
		}
		planet = {
			is_cold = yes
			NOT = {
				inline_script = { script = tec_read_cache scope = planet trigger = tec_is_perfect_planet }
			}
			tec_is_relic_world = no
			tec_is_nuked_world = no
		}
	"
	job = tec_brood_protean_drone_cold
	count = $count$
	mult = $mult$
	display = $display$
	default_job = $default_job$
	default_job = no
	default_trigger = "$default_trigger$"
	default_trigger = "always = no"
}
inline_script = {	# Artificial no Adv
	script = jobs/tec_job
	trigger = "
		exists = owner

		$trigger$

		owner = {
			has_valid_civic = civic_tec_hive_brood_proteans
		}
		planet = {
			is_artificial = yes
			tec_is_arcology_habitat = no
			tec_is_ringworld = no
			tec_is_elysium = no
		}
	"
	job = tec_brood_protean_drone_artificial
	count = $count$
	mult = $mult$
	display = $display$
	default_job = $default_job$
	default_job = no
	default_trigger = "$default_trigger$"
	default_trigger = "always = no"
}
inline_script = {	# Perfect
	script = jobs/tec_job
	trigger = "
		exists = owner

		$trigger$

		owner = {
			has_valid_civic = civic_tec_hive_brood_proteans
		}
		planet = {
			inline_script = { script = tec_read_cache scope = planet trigger = tec_is_perfect_planet }
		}
	"
	job = tec_brood_protean_drone_perfect
	count = $count$
	mult = $mult$
	display = $display$
	default_job = $default_job$
	default_job = no
	default_trigger = "$default_trigger$"
	default_trigger = "always = no"
}
inline_script = {	# Advanced no spec (ecu/hiveworld/machineworld/rw)
	script = jobs/tec_job
	trigger = "
		exists = owner

		$trigger$

		owner = {
			has_valid_civic = civic_tec_hive_brood_proteans
		}
		planet = {
			OR = {
				tec_is_machine_world = yes
				tec_is_hive_world = yes
				inline_script = { script = tec_read_cache scope = planet trigger = tec_is_city_world }
				tec_is_arcology_habitat = yes
				tec_is_ringworld = yes
				tec_is_elysium = yes
				tec_is_ecoworld = yes
			}
			#NOR = {
			#	tec_is_hive_specced_world = yes
			#	tec_is_machine_specced_world = yes
			#	tec_is_arcology_specced_habitat = yes
			#	tec_is_specced_city_planet = yes
			#	tec_is_specced_elysium = yes
			#	tec_is_specced_ringworld = yes
			#}
		}
	"
	job = tec_brood_protean_drone_advanced
	count = $count$
	mult = $mult$
	display = $display$
	default_job = $default_job$
	default_job = no
	default_trigger = "$default_trigger$"
	default_trigger = "always = no"
}
#inline_script = {	# Advanced Forge
	#script = jobs/tec_job
	#trigger = "
	#	exists = owner
	#	$trigger$
	#	owner = {
	#		has_valid_civic = civic_tec_hive_brood_proteans
	#	}
	#	planet = {
	#		OR = {
	#			# TODO TERRAFORM REWORK - Hive and machine subspecs
	#			has_planet_flag = tec_industrial_habitat
	#			has_planet_flag = tec_ecumenopolis_spec_militarized
	#			has_planet_flag = tec_rw_spec_industry
	#			has_planet_flag = tec_mil_elysium
	#		}
	#	}
	#"
	#job = tec_brood_protean_drone_advanced_forge
	#count = $count$
	#mult = $mult$
	#display = $display$
	#default_job = $default_job$
	#default_job = no
	#default_trigger = "$default_trigger$"
	#default_trigger = "always = no"
#}
#inline_script = {	# Advanced Research
	#script = jobs/tec_job
	#trigger = "
	#	exists = owner
	#
	#	$trigger$
	#
	#	owner = {
	#		has_valid_civic = civic_tec_hive_brood_proteans
	#	}
	#	planet = {
	#		OR = {
	#			# TODO TERRAFORM REWORK - Hive and machine subspecs
	#			AND = {
	#				has_planet_flag = tec_civil_habitat
	#				has_research_designation = yes
	#			}
	#			has_planet_flag = tec_ecumenopolis_spec_science
	#			has_planet_flag = tec_rw_spec_science
	#			AND = {
	#				has_planet_flag = tec_civ_elysium
	#				has_research_designation = yes
	#			}
	#		}
	#	}
	#"
	#job = tec_brood_protean_drone_advanced_research
	#count = $count$
	#mult = $mult$
	#display = $display$
	#default_job = $default_job$
	#default_job = no
	#default_trigger = "$default_trigger$"
	#default_trigger = "always = no"
#}
#inline_script = {	# Advanced Unity
	#script = jobs/tec_job
	#trigger = "
	#	exists = owner
	#
	#	$trigger$
	#
	#	owner = {
	#		has_valid_civic = civic_tec_hive_brood_proteans
	#	}
	#	planet = {
	#		OR = {
	#			# TODO TERRAFORM REWORK - Hive and machine subspecs
	#			AND = {
	#				has_planet_flag = tec_civil_habitat
	#				has_unity_designation = yes
	#			}
	#			has_planet_flag = tec_ecumenopolis_spec_admin
	#			has_planet_flag = tec_rw_spec_admin
	#			AND = {
	#				has_planet_flag = tec_civ_elysium
	#				has_unity_designation = yes
	#			}
	#		}
	#	}
	#"
	#job = tec_brood_protean_drone_advanced_unity
	#count = $count$
	#mult = $mult$
	#display = $display$
	#default_job = $default_job$
	#default_job = no
	#default_trigger = "$default_trigger$"
	#default_trigger = "always = no"
#}
#inline_script = {	# Advanced Military
	#script = jobs/tec_job
	#trigger = "
	#	# todo_hive_civics
	#"
	#job = tec_brood_protean_drone_advanced_military
	#count = $count$
	#mult = $mult$
	#display = $display$
	#default_job = $default_job$
	#default_job = no
	#default_trigger = "$default_trigger$"
	#default_trigger = "always = no"
#}
inline_script = {	# Adverse worlds (nuked/relic)
	script = jobs/tec_job
	trigger = "
		exists = owner

		$trigger$

		owner = {
			has_valid_civic = civic_tec_hive_brood_proteans
		}
		planet = {
			OR = {
				tec_is_relic_world = yes
				tec_is_nuked_world = yes
			}
		}
	"
	job = tec_brood_protean_drone_adversity
	count = $count$
	mult = $mult$
	display = $display$
	default_job = $default_job$
	default_job = no
	default_trigger = "$default_trigger$"
	default_trigger = "always = no"
}
