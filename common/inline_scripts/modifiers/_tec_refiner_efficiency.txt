# modifiers/tec_refiner_efficiency

inline_script = {
	script = tec_type_hint
	economic_category = $eco_category$
	resource = $resource$
	float = $base_add$
	float = $base_upkeep$
	number_or_value = $mult$
	trigger_block = "$trigger$"
	bool = $default$
	localisation = $key$
}

triggered_planet_modifier = {
	potential = {
		OR = {
			AND = {
				is_scope_valid = no
				always = $default$
			}
			AND = {
				exists = owner

				$trigger$

				always = yes
			}
		}
	}
	$eco_category$_$resource$_produces_add = $base_add$
	mult = $mult$
	key = $key$
}

triggered_planet_modifier = {
	potential = {
		OR = {
			AND = {
				is_scope_valid = no
				always = $default$
			}
			AND = {
				exists = owner

				$trigger$

				owner = {
					is_catalytic_empire = no
					tec_is_quantum_alloys_empire = no
				}
			}
		}
	}
	$eco_category$_minerals_upkeep_add = $base_upkeep$
	mult = $mult$
	key = $key$
}

triggered_planet_modifier = {
	potential = {
		exists = owner

		$trigger$

		owner = {
			is_catalytic_empire = yes
		}
	}
	$eco_category$_food_upkeep_add = @[$base_upkeep$ * tec_catalytic_conversion_rate]
	mult = $mult$
	key = $key$
}

triggered_planet_modifier = {
	potential = {
		exists = owner

		$trigger$

		owner = {
			tec_is_quantum_alloys_empire = yes
		}
	}
	$eco_category$_energy_upkeep_add = @[$base_upkeep$ * tec_quantum_conversion_rate]
	mult = $mult$
	key = $key$
}