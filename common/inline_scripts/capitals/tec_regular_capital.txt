# capitals/tec_regular_capital

inline_script = {
	script = tec_type_hint
	capital_tier = $tier$
	planet_trigger_block = "$ruler_trigger$"
}

# Common modifiers
inline_script = buildings/effects/tec_imperious_architecture

# enforcers
	inline_script = {
		script = jobs/tec_enforcer
		trigger = ""
		display = with_desc
		count = @tec_capital_enforcer_jobs_t$tier$
		mult = 1
		default_job = enforcer
	}
# /

# Politicians
	# full
	inline_script = {
		script = jobs/tec_politician
		trigger = "
			NOT = { inline_script = { script = tec_read_cache scope = planet trigger = tec_has_special_ruler_feature } }

			$ruler_trigger$

			owner = {
				NOT = { inline_script = { script = tec_read_cache scope = country trigger = tec_has_ruler_civic } }
			}
		"
		display = with_desc
		count = @tec_capital_base_ruler_jobs_t$tier$
		mult = 1
		default_job = politician
	}

	# half
	inline_script = {
		script = jobs/tec_politician
		trigger = "
			NOT = { inline_script = { script = tec_read_cache scope = planet trigger = tec_has_special_ruler_feature } }

			$ruler_trigger$

			owner = {
				inline_script = { script = tec_read_cache scope = country trigger = tec_has_ruler_civic }
			}
		"
		display = with_desc
		count = @tec_capital_base_swap_ruler_jobs_t$tier$
		mult = 1
	}
# /

# Politician Swaps
	inline_script = {
		script = jobs/tec_politician_civic_swaps
		trigger = "
			NOT = { inline_script = { script = tec_read_cache scope = planet trigger = tec_has_special_ruler_feature } }

			owner = {
				inline_script = { script = tec_read_cache scope = country trigger = tec_has_ruler_civic }
			}

			$ruler_trigger$
		"
		display = with_desc
		count = @tec_capital_swap_ruler_jobs_t$tier$
		mult = 1
	}
# /

# Megacorp Ruler Civics
	inline_script = {
		script = jobs/tec_executive_civic_swaps
		trigger = "
			NOT = { tec_has_special_ruler_feature = { cached = yes } }

			owner = {
				inline_script = { script = tec_read_cache scope = country trigger = tec_has_ruler_civic }
			}

			$ruler_trigger$
		"
		display = with_desc
		count = @tec_capital_swap_ruler_jobs_t$tier$
		mult = 1
	}
# /


# Ruler extra add / 1 per (tier - 1 / 2)
	inline_script = {
		script = jobs/capital/tec_add_ruler_civic_regular
		trigger = ""
		display = with_desc
		count = @tec_capital_add_ruler_jobs_t$tier$
		mult = 1
	}
# /

# Other extra add / 1 per tier - 1
	inline_script = {
		script = jobs/capital/tec_add_job_civic_regular
		trigger = ""
		display = with_desc
		count = @tec_capital_add_normal_jobs_t$tier$
		mult = 1
	}
# /

inline_script = {
	script = jobs/capital/tec_add_job_civic_one_regular
	trigger = ""
	display = with_desc
	mult = 1
}

# individual machines
	inline_script = {
		script = capitals/effects/tec_machine_ind_assembly
		tier = $tier$
		trigger = "
			owner = { is_individual_machine = yes }
		"
		default = no
	}
# /

# Tradition etc
	inline_script = {
		script = capitals/effects/tec_fed_culture_workers_1
		tier = $tier$
	}

	inline_script = {
		script = capitals/effects/tec_tr_tec_centrality_2
		tier = $tier$
		ruler_trigger = "$ruler_trigger$"
	}


	triggered_desc = {	# Payback origin
		trigger = {
			has_modifier = payback_unified_purpose
		}
		text = job_unifier_effect_desc
	}
# /

inline_script = {
	script = mod_support/tec_inlines_include
	include_script = capitals/tec_regular_capital
	parameters = "
		tier = $tier$
		ruler_trigger = \"\\\"$ruler_trigger$\"\\\"
	"
}