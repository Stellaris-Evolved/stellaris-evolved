# capitals/tec_common_habitat_modifiers

inline_script = {
	script = tec_type_hint
	capital_tier = $tier$
}

# $tier$ -added here in case it is needed

triggered_planet_modifier = {
	planet_housing_add = @tec_capital_housing_t$tier$
}

inline_script = {
	script = modifiers/tec_amenities
	count = @tec_capital_housing_t$tier$
	mult = 1
	trigger = ""
	default = no
}

inline_script = {
	script = modifiers/tec_amenities
	count = 2
	mult = 1
	trigger = "
		owner = {
			is_gestalt = yes
		}
	"
	default = no
}

triggered_planet_modifier = {
	pop_environment_tolerance = @tec_capital_habitat_hab_t$tier$
}

inline_script = {
	script = capitals/tec_all_capital
	tier = $tier$
}

# Deficits
	triggered_planet_modifier = {
		modifier = { planet_stability_add = 1 }
		mult = modifier:habitat_stability_add
	}
# /

inline_script = capitals/effects/tec_tr_prosperity_void_works
inline_script = buildings/on_all_habitat_capital_buildings
	# Note ^ : this one handles the habitat district mults and etc

inline_script = {
	script = capitals/effects/tec_origin_void_dwellers
	tier = $tier$
}

# New hab penalties
	#triggered_planet_modifier = {	# New habitats 1
	#	potential = {
	#		planet = {
	#			tec_is_upgraded_habitat = no
	#			is_capital = no
	#		}
	#	}
	#	modifier = {
	#		pop_growth_speed_reduction = 0.20
	#		planet_pop_assembly_reduction = 0.20
	#		planet_pop_assembly_organic_reduction = 0.20
	#	}
	#}
# /

# Subhabitat bonuses
	triggered_planet_modifier = {	# 2-4-6
		potential = {
			always = yes
		}
		tec_subhabitat_all_add = 1
		mult = @tec_capital_hab_subhabitat_t$tier$
	}
# /


# addons
inline_script = {
	script = mod_support/tec_inlines_include
	include_script = capitals/tec_common_habitat_modifiers
	parameters = "
		tier = $tier$
	"
}