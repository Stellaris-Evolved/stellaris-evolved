# pop_categories/tec_pop_regular_modifiers

inline_script = {
	script = tec_type_hint
	pop_category = $category$
}

triggered_pop_modifier = {	# Galcom
	potential = {
		has_global_flag = galactic_community_resolution_divinity_comfort_the_fallen
		is_unemployed = yes
		NOR = {
			has_very_high_living_standard_type = yes
			has_high_living_standard_type = yes
			has_shared_burden_living_standard_type = yes
			has_worker_ownership_living_standard_type = yes
		}
		owner = {
			is_galactic_community_member = yes
		}
	}

	pop_happiness = 0.10
}

triggered_pop_modifier = {	# welfare state
	potential = {
		is_unemployed = yes
		owner = {
			has_valid_civic = civic_tec_regular_social_prosperity
		}
	}
	pop_happiness = 0.2
	key = civic_tec_regular_social_prosperity
}

# Cyberdictatorship
#triggered_pop_modifier = {
#	potential = {
#		exists = owner
#		owner = {
#			has_valid_civic = civic_tec_regular_cyber_dictatorship
#		}
#		OR = {
#			has_ethic = ethic_materialist
#			has_ethic = ethic_authoritarian
#		}
#	}
#	species_empire_size_mult = -0.5
#}
# /
# Consecrated Ideals
triggered_pop_modifier = {
	potential = {
		exists = owner
		owner = {
			has_valid_civic = civic_tec_regular_consecrated_democracy
		}
		has_ethic = ethic_spiritualist
	}
	planet_jobs_produces_mult = 0.05
	pop_happiness = 0.1
	key = civic_tec_regular_consecrated_democracy
}
# /

# Kinship
triggered_pop_modifier = {
	potential = {
		exists = owner
		check_variable_arithmetic = {
			which = modifier:citizen_pop_same_species_class_happiness
			value != 0
		}
		is_same_species_class = owner
		planet = {
			tec_planet_selective_kinship_likes = { cached = yes }
		}
	}
	key = triggered_selective_kinship
	pop_happiness = 1
	mult = modifier:citizen_pop_same_species_class_happiness
}

triggered_pop_modifier = {
	potential = {
		exists = owner
		check_variable_arithmetic = {
			which = modifier:citizen_pop_same_species_class_happiness
			value != 0
		}
		is_same_species_class = owner
		planet = {
			tec_planet_selective_kinship_hates = { cached = yes }
		}
	}
	key = triggered_selective_kinship_hates
	pop_happiness = 1
	mult = modifier:citizen_pop_different_species_class_happiness
}

triggered_pop_modifier = {
	potential = {
		exists = owner
		has_citizenship_type = { type = citizenship_full country = owner }
	}
	key = civic_selective_kinship
	pop_political_power = 1
	mult = modifier:citizen_pop_political_power
}

# Cyborg

triggered_pop_modifier = {
	key = triggered_mod_pop_cyborg_happiness
	pop_happiness = 1
	mult = value:tec_cyborg_related_happiness|CATEGORY|$category$|
}

#/

triggered_pop_modifier = {
	potential = {
		tec_is_psionic_species = no
	}
	key = mod_pop_non_psionic_happiness
	pop_happiness = 1
	mult = modifier:pop_non_psionic_happiness
}
