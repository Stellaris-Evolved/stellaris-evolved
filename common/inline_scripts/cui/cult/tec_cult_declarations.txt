
# cui/cult/tec_cult_declarations.txt

inline_script = {
    # These two lines are mandatory in this specific order
    script = cui/cult/tec_cult_option
    $extra$

    # this is the tenet code name and will be referenced in scripted triggers etc
    name = tec_cult_example

    category = spiritualist

    # This is the icon, atm it does nothing but be metadata for our internal tools
    # that autogenerate stuff for us. In the future if inlines work in .gfx files
    # this will actually do something.

    # Tenet will require the following sprite to be created manually for modders without
    # our internal tools. GFX_tec_cult_<name> (<name> is name from above)
    icon = gfx/interface/icons/traditions/evolved_traditions/tr_tec_artifice_1.dds

    # empire wide modifier to apply when taking the tenet, this again as `icon`
    # is metadata for our internal tools that autogenerate stuff.

    # Tenet will require the following static_modifier to be created manually for modders without
    # our internal tools. tec_cult_<name>_modifier (<name> is name from above)
    modifier = "
        planet_jobs_unity_produces_mult = 1
    "

    # This controls seeing it in UI, in most cases it is not needed (as it is assumed it is present
    # at all times. Considering the rigidity of UI modding, this should be used only in very few instances
    # One such instance would be a Tenet swap, aka making a tenet that is exclusive with another and share
    # same position in UI
    potential = "
        always = no
    "

    # This controls if and when the Tenet is pickable in UI, aka its actual requirements
    # if not provided it is assumed that Tenet can be picked at all times
    allow = "
        NOT = {
            tec_has_cult = {
                cult = tec_cult_prosperity
            }
        }
    "

    # This is an effect that is ran when the Tenet is activated, can be omitted
    on_activate = "
        capital_scope = {
            change_pc = pc_gaia
        }
    "
    # This is an effect that is ran when the Tenet is deactivated, can be omitted
    on_deactivate = "
        random_owned_pop = {
            kill_pop = yes
        }
    "
}

# Basic

# Ethic Based

# Spiritualist

inline_script = {
    script = cui/cult/tec_cult_option
    $extra$

    name = tec_tenet_state_religion
    category = basic
    icon = gfx/interface/icons/traditions/evolved_traditions/tr_tec_balance_1.dds
    modifier = "
        planet_priests_unity_produces_add = -1
    "
    allow = "
        is_spiritualist = no
        has_make_spiritualist_perk = no
    "
    on_activate = "
        custom_tooltip = tec_cult_tec_tenet_state_religion_effect
    "
}

inline_script = {
    script = cui/cult/tec_cult_option
    $extra$

    name = tec_cult_knowledge
    category = spiritualist
    icon = gfx/interface/icons/traditions/evolved_traditions/tr_tec_balance_1.dds
    modifier = "
        planet_priests_unity_produces_add = -1
    "
    allow = "
        NOT = {
            tec_has_cult = {
                cult = tec_cult_prosperity
            }
        }
    "
    on_activate = "
        capital_scope = {
            change_pc = pc_city
        }
    "
}


inline_script = {
    script = cui/cult/tec_cult_option
    $extra$

    name = tec_cult_prosperity
    category = spiritualist
    icon = gfx/interface/icons/traditions/evolved_traditions/tr_tec_balance_1.dds
    modifier = "
        planet_priests_unity_produces_add = -1
    "
    allow = "
        NOT = {
            tec_has_cult = {
                cult = tec_cult_knowledge
            }
        }
    "
    on_activate = "
        capital_scope = {
            change_pc = pc_city
        }
    "
}