# cui/cult/tec_cult_option_button_effect.txt

inline_script = {
    script = tec_type_hint
    tec_cult = $name$
    country_trigger_block = "$potential$"
    country_trigger_block = "$allow$"
}

tec_cui_cult_$name$_background_effect = {
    potential = {
        from = {
            $potential$
        }
    }

    allow = {
        if = {
            limit = {
                from = {
                    tec_has_cult = {
                        cult = $name$
                    }
                }
            }
            always = yes
        } else = {
            from = {
                tec_has_cult_points_available = yes
                $allow$
            }
        }
    }
}

tec_cui_cult_$name$_glow_effect = {
    potential = {
        from = {
            tec_has_cult = {
                cult = $name$
            }
        }
    }

    allow = {
        always = yes
    }
}

tec_cui_cult_$name$_button_effect = {
    potential = {
        from = {
            $potential$
        }
    }

    allow = {
        custom_tooltip = tec_cult_$name$_header
        custom_tooltip = tec_cult_$name$_desc
        custom_tooltip = tec_loc_desc_separator
        if = {
            limit = {
                from = {
                    tec_has_cult = {
                        cult = $name$
                    }
                }
            }
            always = yes
        } else = {
            from = {
                tec_has_cult_points_available = yes
                $allow$
            }
        }
    }

    effect = {
        custom_tooltip = tec_cult_$name$_header
        custom_tooltip = tec_cult_$name$_desc
        custom_tooltip = tec_blank
        custom_tooltip = tec_loc_effects_section
        from = {
            if = {
                limit = {
                    NOT = {
                        tec_has_cult = {
                            cult = $name$
                        }
                    }
                }
                tec_activate_cult = {
                    cult = $name$
                    force = yes
                    tooltip = no
                }
            } else = {
                tec_deactivate_cult = {
                    cult = $name$
                    tooltip = no
                }
            }
        }
    }
}