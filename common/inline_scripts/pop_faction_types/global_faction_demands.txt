# pop_faction_types/global_faction_demands.txt

#### COUNCIL and RULER position demands ####

inline_script = {
	script = tec_type_hint
	ethic = $ETHIC$
	ethic = $ETHIC_FANATIC$
	ethic = $ETHIC_OPPOSED$
}


demand = {
	# Ruler = FANTASTIC
	title = faction_demand_HAPPY_WE_RULE
	unfulfilled_title = LABEL_NA
	desc = faction_demand_HAPPY_WE_RULE_desc

	fulfilled_effect = 15
	unfulfilled_effect = 0

	potential = {
		exists = ruler
		ruler = { has_ethic = $ETHIC$ }
	}

	council_demand = yes
	trigger = { always = yes }	# Always happy if Potential fulfilled.
}


demand = {
	# Ruler = HATE (Opposing Ethic)
	title = LABEL_NA
	unfulfilled_title = faction_demand_HATE_RULER_ETHICS
	desc = faction_demand_HATE_RULER_ETHICS_desc

	fulfilled_effect = 0
	unfulfilled_effect = -30

	potential = {
		exists = ruler
		ruler = { has_ethic = $ETHIC_OPPOSED$ }
	}

	council_demand = yes
	trigger = {	always = no }	# Always unhappy if POTENTIAL fulfilled.
}


demand = {
	# Ruler = OK (of Empire Ethics)
	# Ruler = WRONG (non Empire Ethics)
	title = faction_demand_ACCEPTABLE_RULER_ETHICS
	unfulfilled_title = faction_demand_ACCEPTABLE_RULER_ETHICS
	desc = faction_demand_ACCEPTABLE_RULER_ETHICS_desc

	fulfilled_effect = 0
	unfulfilled_effect = -15

	potential = {
		exists = ruler
		ruler = {
			NOT = { has_ethic = $ETHIC$ }	# Overriden by HAPPE_WE_RULE demand.
			NOT = { has_ethic = $ETHIC_OPPOSED$ }	# Overriden by HATE_RULER demand.
		}
	}

	council_demand = yes
	trigger = {
		# Does Ruler Ethic diverge from Empire ethics.
		# Potential has ruled out ruler having $ETHIC$ or $ETHIC_OPPOSED$ ethic.
		exists = ruler
		ruler = {
			exists = owner
			switch = {
				trigger = has_ethic
				ethic_pacifist = { owner = { is_pacifist = yes } }
				ethic_militarist = { owner = { is_militarist = yes } }
				ethic_spiritualist = { owner = { is_spiritualist = yes } }
				ethic_materialist = { owner = { is_materialist = yes } }
				ethic_egalitarian = { owner = { is_egalitarian = yes } }
				ethic_authoritarian = { owner = { is_authoritarian = yes } }
				ethic_xenophile = { owner = { is_xenophile = yes } }
				ethic_xenophobe = { owner = { is_xenophobe = yes } }
				ethic_pluralist = { owner = { is_pluralist = yes } }
				ethic_elitist = { owner = { is_elitist = yes } }
				ethic_cooperative = { owner = { is_cooperative = yes } }
				ethic_competitive = { owner = { is_competitive = yes } }
				ethic_ecologist = { owner = { is_ecologist = yes } }
				ethic_industrialist = { owner = { is_industrialist = yes } }

				ethic_gestalt_consciousness = { always = yes }
			}
		}
	}
}

demand = {
	title = faction_demand_REPRESENTED_ON_COUNCIL
	unfulfilled_title = faction_demand_REPRESENTED_ON_COUNCIL
	desc = faction_demand_REPRESENTED_ON_COUNCIL_desc

	fulfilled_effect = 5
	unfulfilled_effect = -20

	potential = {
		exists = owner
	}

	council_demand = yes

	# Check for any leader on the Council with Faction's Ethic.
	trigger = {
		owner = {
			any_owned_leader = {
				OR = {
					is_ruler = yes
					is_councilor = yes
				}
				has_ethic = $ETHIC$
			}
		}
	}
}

demand = {
	title = faction_demand_STATELY_ACCLIAM
	unfulfilled_title = faction_demand_STATELY_ACCLIAM
	desc = faction_demand_STATELY_ACCLIAM_desc

	fulfilled_effect = 20
	unfulfilled_effect = -10

	potential = {
		exists = owner
		is_faction_extorted = yes
	}

	# Checks that the Stately Acclaim edict is active
	trigger = {
		owner = {
			has_edict = stately_acclaim
		}
	}
}
