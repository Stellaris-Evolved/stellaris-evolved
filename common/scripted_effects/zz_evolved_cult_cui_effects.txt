tec_reset_cult_cui = {
    set_country_flag = tec_cult_cui_closed
    tec_reset_cult_cui_tabs = yes
}

tec_reset_cult_cui_tabs = {
    remove_country_flag = tec_cui_cult_basic_tab_active
    remove_country_flag = tec_cui_cult_spiritualist_tab_active
    remove_country_flag = tec_cui_cult_special_tab_active
    remove_country_flag = tec_cui_cult_advanced_tab_active
}

tec_clear_cult_activate_flag = {
    inline_script = {
        script = cui/cult/tec_cult_declarations
        extra = "_step = clear_activated_flag"
    }
}

tec_clear_cult_deactivate_flag = {
    inline_script = {
        script = cui/cult/tec_cult_declarations
        extra = "_step = clear_deactivated_flag"
    }
}

tec_clear_cults = {
    custom_tooltip = tec_clear_cults
    hidden_effect = {
        inline_script = {
            script = cui/cult/tec_cult_declarations
            extra = "_step = clear_cults"
        }
        set_variable = {
            which = tec_cult_points_used
            value = 0
        }
    }
}

tec_activate_cult = {
    inline_script = {
    	script = tec_type_hint
        tec_cult = $cult$
        [[force] bool = $force$ ]
        [[tooltip] bool = $tooltip$ ]
    }
    if = {
        limit = {
            always = $tooltip|yes$
        }
        custom_tooltip = tec_activate_cult_$cult$
        hidden_effect = {
            inline_script = {
                script = cui/cult/tec_cult_declarations
                extra = "
                    _step = activate_cult
                    _cult = \$cult\$
                    _pass = \\\"_force = \$force\$\\\"
                "
                cult = $cult$
                force = $force|no$
            }
        }
    }
    else = {
        inline_script = {
            script = cui/cult/tec_cult_declarations

            extra = "
                _step = activate_cult
                _cult = \$cult\$
                _pass = \\\"_force = \$force\$\\\"
            "
            cult = $cult$
            force = $force|no$
        }
    }
}

tec_deactivate_cult = {
    inline_script = {
        script = tec_type_hint
        tec_cult = $cult$
        [[tooltip] bool = $tooltip$ ]
    }
    if = {
        limit = {
            always = $tooltip|yes$
        }
        custom_tooltip = tec_deactivate_cult_$cult$
        hidden_effect = {
            inline_script = {
                script = cui/cult/tec_cult_declarations
                extra = "
                    _step = deactivate_cult
                    _cult = \$cult\$
                "
                cult = $cult$
            }
        }
    } else = {
        inline_script = {
            script = cui/cult/tec_cult_declarations
            extra = "
                    _step = deactivate_cult
                    _cult = \$cult\$
                "
            cult = $cult$
        }
    }
}