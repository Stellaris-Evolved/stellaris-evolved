
galcom_subject_ethic_modifier_effect = {
	inline_script = {
		script = iterators/tec_iterate_ethic_regular
		code = "
			add_galcom_modifier_effect = { ETHIC = \$ethic\$ }
		"
	}
}

add_galcom_modifier_effect = {
	set_variable = { which = galcom_vassal_ethic_$ETHIC$_tier value = value:tec_galcom_ethic_tier|ETHIC|$ETHIC$| }
	create_variable_if_not_exists = { VARIABLE = prev_galcom_vassal_ethic_$ETHIC$_tier VALUE_IF_CREATED = 0 }
	update_modifier_amount_if_needed = {
		MODIFIER = resolution_galcom_$ETHIC$_ethic_modifier
		MULT_VAR = galcom_vassal_ethic_$ETHIC$_tier
		PREV_MULT_VAR = prev_galcom_vassal_ethic_$ETHIC$_tier
	}
}

galcom_subject_remove_ethic_modifier_effect = {
	inline_script = {
		script = iterators/tec_iterate_ethic_regular
		code = "
			remove_galcom_modifier_effect = { ETHIC = \$ethic\$ }
		"
	}
}

remove_galcom_modifier_effect = {
	if = {
		limit = {
			has_modifier = resolution_galcom_$ETHIC$_ethic_modifier
		}
		remove_modifier = resolution_galcom_$ETHIC$_ethic_modifier
	}
}


galcom_upgrade_ethic_modifier_effect = {
	inline_script = {
		script = iterators/tec_iterate_ethic_regular
		code = "
			upgrade_galcom_modifier_effect = { ETHIC = \$ethic\$ }
		"
	}
}

upgrade_galcom_modifier_effect = {
	set_variable = { which = galcom_vassal_ethic_$ETHIC$_tier value = prev_galcom_vassal_ethic_$ETHIC$_tier }
	change_variable = { which = galcom_vassal_ethic_$ETHIC$_tier value = 1 }
	update_modifier_amount_if_needed = {
		MODIFIER = resolution_galcom_$ETHIC$_ethic_modifier
		MULT_VAR = galcom_vassal_ethic_$ETHIC$_tier
		PREV_MULT_VAR = prev_galcom_vassal_ethic_$ETHIC$_tier
	}
}

galcom_downgrade_ethic_modifier_effect = {
	inline_script = {
		script = iterators/tec_iterate_ethic_regular
		code = "
			downgrade_galcom_modifier_effect = { ETHIC = \$ethic\$ }
		"
	}
}

downgrade_galcom_modifier_effect = {
	set_variable = { which = galcom_vassal_ethic_$ETHIC$_tier value = prev_galcom_vassal_ethic_$ETHIC$_tier }
	change_variable = { which = galcom_vassal_ethic_$ETHIC$_tier value = -1 }
	update_modifier_amount_if_needed = {
		MODIFIER = resolution_galcom_$ETHIC$_ethic_modifier
		MULT_VAR = galcom_vassal_ethic_$ETHIC$_tier
		PREV_MULT_VAR = prev_galcom_vassal_ethic_$ETHIC$_tier
	}
}
