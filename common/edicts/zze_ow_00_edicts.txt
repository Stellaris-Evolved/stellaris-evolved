@Edict1Cost = 10
@Edict2Cost = 20
@Edict3Cost = 30
@EdictSpecialCost = 1

@EdictPerpetual = -1

fortify_the_border = {
	length = @EdictPerpetual
	icon = "GFX_edict_type_policy"

	resources = {
		category = edicts
		cost = {
			unity = @Edict1Cost
			multiplier = value:edict_size_effect
		}
		upkeep = {
			unity = @Edict1Cost
			multiplier = value:edict_size_effect
		}
	}

	modifier = {
		starbase_upgrade_speed_mult = 0.50
		country_starbase_capacity_add = 2
	}

	ai_weight = {
		weight = @EdictLowPrio
		modifier = {
			factor = 0
			NOT = { has_country_flag = has_encountered_other_empire }
		}
		modifier = {
			factor = 2 # need more starbases
			used_starbase_capacity_percent > 0.8
		}
		modifier = {
			factor = 2 # need more naval cap
			used_naval_capacity_percent > 0.8
		}
		modifier= {
			factor = 2
			tec_is_engineer_empire = yes
		}
		modifier = {
			factor = 2
			OR = {
				tec_ai_wants_defensive_starbases = yes
				tec_ai_wants_production_starbases = yes
			}
		}
		modifier = {
			factor = 2
			years_passed < 50
			any_neighbor_country = {
				OR = {
					is_homicidal = yes
					is_rival = prev
					has_country_flag = tec_empire_aggro_skilled
				}
			}
		}
		modifier = {
			factor = 2
			has_country_flag = tec_empire_aggro_turtle
		}
	}
}

fleet_supremacy = {
	length = @EdictPerpetual
	icon = "GFX_edict_type_policy"

	resources = {
		category = edicts
		cost = {
			unity = @Edict1Cost
			multiplier = value:edict_size_effect
		}
		upkeep = {
			unity = @Edict1Cost
			multiplier = value:edict_size_effect
		}
	}

	prerequisites = {
		"tech_doctrine_fleet_size_1"
	}

	modifier = {
		ship_starting_experience_add = 100
		starbase_shipyard_build_speed_mult = 0.10
		diplo_weight_naval_mult = 0.10
	}

	ai_weight = {
		weight = @EdictMedPrio

		modifier= {
			factor = 2
			is_militarist = yes
		}

		modifier= {
			factor = 2
			is_at_war = yes
		}
	}
}

diplomatic_grants = {
	length = @EdictPerpetual
	icon = "GFX_edict_type_policy"

	resources = {
		category = edicts
		cost = {
			unity = @Edict1Cost
			multiplier = value:edict_size_effect
		}
		upkeep = {
			unity = @Edict1Cost
			multiplier = value:edict_size_effect
		}
	}

	modifier = {
		envoys_add = 1
		diplo_weight_mult = 0.1
	}

	potential = {
		has_tradition = tr_diplomacy_adopt
		has_comms_with_alien_empire = yes
	}

	ai_weight = {
		weight = @EdictLowPrio

		modifier = {
			factor = 0
			NOR = {
				is_xenophile = yes
				is_pacifist = yes
				# Evolved
					has_ethic = ethic_gestalt_empathy
				# /
				is_galactic_community_member = yes
			}
		}
	}
}

enhanced_surveillance = {
	length = @EdictPerpetual
	icon = "GFX_edict_type_policy"

	resources = {
		category = edicts
		cost = {
			unity = @Edict2Cost
			multiplier = value:edict_size_effect
		}
		upkeep = {
			unity = @Edict2Cost
			multiplier = value:edict_size_effect
		}
	}

	modifier = {
		planet_stability_add = 5
		intel_encryption_add = 1
		pop_happiness = -0.10
		pop_ethic_authoritarian_attraction_mult = 0.25
	}

	potential = {
		has_active_tradition = tr_domination_judgment_corps
		is_gestalt = no
	}

	allow = {
		has_comms_with_alien_empire = yes
	}

	ai_weight = {
		weight = @EdictMedPrio
		modifier = {
			factor = 2
			has_ethic = ethic_authoritarian
		}
		modifier = {
			factor = 3
			has_ethic = ethic_fanatic_authoritarian
		}
		modifier = {
			factor = 0
			is_egalitarian = yes
			is_xenophile = no
		}
	}
}

bureau_of_espionage = {
	length = @EdictPerpetual
	icon = "GFX_edict_type_policy"

	resources = {
		category = edicts
		cost = {
			unity = @Edict2Cost
			multiplier = value:edict_size_effect
		}
		upkeep = {
			unity = @Edict2Cost
			multiplier = value:edict_size_effect
		}
	}

	modifier = {
		envoys_add = 1
		intel_decryption_add = 2
		add_base_country_intel = 10
		spy_network_levels_add = 10
	}

	potential = {
		has_comms_with_alien_empire = yes
		is_gestalt = no
	}

	show_tech_unlock_if = {
		is_gestalt = no
	}

	prerequisites = {
		tech_decryption_1
	}

	ai_weight = {
		weight = @EdictMedPrio
		modifier = {
			factor = 2
			has_ethic = ethic_authoritarian
		}
		modifier = {
			factor = 3
			has_ethic = ethic_fanatic_authoritarian
		}
		modifier = {
			factor = 0
			is_egalitarian = yes
			is_xenophile = no
		}
	}
}

observation_instinct = {
	length = @EdictPerpetual
	icon = "GFX_edict_type_policy"

	resources = {
		category = edicts
		cost = {
			unity = @Edict1Cost
			multiplier = value:edict_size_effect
		}
		upkeep = {
			unity = @Edict1Cost
			multiplier = value:edict_size_effect
		}
	}

	modifier = {
		envoys_add = 1
		intel_decryption_add = 2
		add_base_country_intel = 10
		spy_network_levels_add = 10
	}

	potential = {
		has_comms_with_alien_empire = yes
		is_hive_empire = yes
	}

	show_tech_unlock_if = {
		is_hive_empire = yes
	}

	prerequisites = {
		tech_decryption_1
	}

	ai_weight = {
		weight = @EdictMedPrio
		modifier = {
			factor = 2
			has_ethic = ethic_gestalt_empathy
		}
		modifier = {
			factor = 2
			has_ethic = ethic_gestalt_extrospective
		}
		modifier = {
			factor = 2
			tec_is_symbiotic_gestalt = yes
		}
		modifier = {
			factor = 2
			tec_is_trade_gestalt = yes
		}
	}
}

covert_analysis_algorithm = {
	length = @EdictPerpetual
	icon = "GFX_edict_type_policy"

	resources = {
		category = edicts
		cost = {
			unity = @Edict2Cost
			multiplier = value:edict_size_effect
		}
		upkeep = {
			unity = @Edict2Cost
			multiplier = value:edict_size_effect
		}
	}

	modifier = {
		envoys_add = 1
		intel_decryption_add = 2
		add_base_country_intel = 10
		spy_network_levels_add = 10
	}

	potential = {
		has_comms_with_alien_empire = yes
		is_machine_empire = yes
	}

	show_tech_unlock_if = {
		is_machine_empire = yes
	}

	prerequisites = {
		tech_decryption_1
	}

	ai_weight = {
		weight = @EdictMedPrio
		modifier = {
			factor = 2
			has_ethic = ethic_gestalt_empathy
		}
		modifier = {
			factor = 2
			has_ethic = ethic_gestalt_extrospective
		}
		modifier = {
			factor = 2
			tec_is_symbiotic_gestalt = yes
		}
		modifier = {
			factor = 2
			tec_is_trade_gestalt = yes
		}
	}
}

synaptic_reinforcement = {
	length = @EdictPerpetual
	icon = "GFX_edict_type_policy"

	resources = {
		category = edicts
		cost = {
			unity = @Edict1Cost
			multiplier = value:edict_size_effect
		}
		upkeep = {
			unity = @Edict1Cost
			multiplier = value:edict_size_effect
		}
	}

	# Synapse Nodes provide an extra Maintenance Drone job
	modifier = {
		custom_tooltip = edict_synaptic_reinforcement_tooltip
	}

	potential = {
		is_hive_empire = yes
	}

	prerequisites = {
		"tech_hive_cluster"
	}

	ai_weight = {
		weight = @EdictLowPrio

		modifier = {
			factor = 0
			NOT = {
				has_policy_flag = shifted_maintenance_introspective
			}
		}

		modifier = {
			factor = 2
			has_policy_flag = intensified_maintenance_introspective
		}
	}
}

industrial_maintenance = {
	length = @EdictPerpetual
	icon = "GFX_edict_type_policy"

	resources = {
		category = edicts
		cost = {
			unity = @Edict1Cost
			multiplier = value:edict_size_effect
		}
		upkeep = {
			unity = @Edict1Cost
			multiplier = value:edict_size_effect
		}
	}

	# Industrial Districts also provide an extra Maintenance Drone job
	modifier = {
		custom_tooltip = edict_industrial_maintenance_tooltip
	}

	potential = {
		is_machine_empire = yes
		has_tradition = tr_synchronicity_finish
	}

	ai_weight = {
		weight = @EdictLowPrio

		modifier = {
			factor = 0
			NOT = {
				has_policy_flag = shifted_maintenance_introspective
			}
		}

		modifier = {
			factor = 2
			has_policy_flag = intensified_maintenance_introspective
		}
	}
}


drone_overdrive = {
	length = @EdictPerpetual
	icon = "GFX_edict_type_policy"

	resources = {
		category = edicts
		cost = {
			unity = @Edict1Cost
			multiplier = value:edict_size_effect
		}
		upkeep = {
			unity = @Edict1Cost
			multiplier = value:edict_size_effect
		}
	}

	modifier = {
		planet_jobs_simple_drone_produces_mult = 0.10
		pop_amenities_usage_no_happiness_mult = 0.10
	}

	potential = {
		is_gestalt = yes
		has_active_tradition = tr_domination_drone_network
	}

	ai_weight = {
		weight = @EdictHighPrio
	}
}

land_of_opportunity = {
	length = @EdictPerpetual
	icon = "GFX_edict_type_policy"

	resources = {
		category = edicts
		cost = {
			unity = @Edict2Cost
			multiplier = value:edict_size_effect
		}
		upkeep = {
			unity = @Edict2Cost
			multiplier = value:edict_size_effect
		}
	}

	modifier = {
		planet_immigration_pull_mult = 1
		pop_growth_from_immigration = 0.25
	}

	potential = {
		is_xenophile = yes
		has_comms_with_alien_empire = yes
	}

	ai_weight = {
		weight = @EdictLowPrio
		modifier = {
			factor = 2
			any_owned_planet = {
				OR = {
					tec_is_ringworld = yes
					tec_is_city_world = yes
					tec_is_elysium = yes
					tec_is_ecoworld = yes
					tec_is_arcology_habitat = yes
				}
			}
		}
	}
}


capacity_subsidies = {
	length = @EdictPerpetual
	icon = "GFX_edict_type_policy"

	resources = {
		category = edicts
		cost = {
			unity = @Edict3Cost
			multiplier = value:edict_size_effect
		}
		upkeep = {
			unity = @Edict3Cost
			multiplier = value:edict_size_effect
		}
	}

	modifier = {
		planet_technician_produces_mult = 0.50
		planet_technician_energy_upkeep_add = 0.5
	}

	prerequisites = {
		"tech_power_hub_1"
	}

	ai_weight = {
		weight = 1000
		modifier = {
			should_ai_focus_on_trade = yes
			factor = 0
		}
	}
}

mining_subsidies = {
	length = @EdictPerpetual
	icon = "GFX_edict_type_policy"

	resources = {
		category = edicts
		cost = {
			unity = @Edict3Cost
			multiplier = value:edict_size_effect
		}
		upkeep = {
			unity = @Edict3Cost
			multiplier = value:edict_size_effect
		}
	}

	modifier = {
		planet_miners_produces_mult = 0.50 # Note: Also affects organic special resource miners!
		planet_miners_energy_upkeep_add = 0.5
		planet_sr_miners_energy_upkeep_add = 0.5 #Note: _add modifiers don't apply to children, but _mult ones do, so this is necessary here
	}

	prerequisites = {
		"tech_mineral_purification_1"
	}

	ai_weight = {
		weight = 1000
	}
}

farming_subsidies = {
	length = @EdictPerpetual
	icon = "GFX_edict_type_policy"

	resources = {
		category = edicts
		cost = {
			unity = @Edict3Cost
			multiplier = value:edict_size_effect
		}
		upkeep = {
			unity = @Edict3Cost
			multiplier = value:edict_size_effect
		}
	}

	modifier = {
		planet_farmers_produces_mult = 0.50
		planet_farmers_energy_upkeep_add = 0.5
	}

	prerequisites = {
		"tech_food_processing_1"
	}

	ai_weight = {
		weight = 1000
		modifier = {
			country_uses_food = no
			factor = 0
		}
	}
}

damn_the_consequences = {
	length = @EdictPerpetual
	icon = "GFX_edict_type_policy"

	edict_lock_in_months = 60

	resources = {
		category = edicts
		cost = {
			unity = @Edict3Cost
			multiplier = value:edict_size_effect
		}
		upkeep = {
			unity = @Edict3Cost
			multiplier = value:edict_size_effect
		}
	}

	modifier = {
		custom_tooltip = "edict_damn_the_consequences_effects"
		show_only_custom_tooltip = no
	}

	potential = {
		has_origin = origin_overtuned
	}

	allow = { }

	ai_weight = {
		weight = 0
	}
}

research_subsidies = {
	length = @EdictPerpetual
	icon = "GFX_edict_type_policy"

	resources = {
		category = edicts
		cost = {
			unity = @Edict3Cost
			multiplier = value:edict_size_effect
		}
		upkeep = {
			unity = @Edict3Cost
			multiplier = value:edict_size_effect
		}
	}

	modifier = {
		planet_researchers_produces_mult = 0.10
		planet_researchers_energy_upkeep_add = 1
	}

	potential = {
		has_tradition = tr_discovery_databank_uplinks
	}

	allow = {
		if = {
			limit = {
				is_ai = yes
			}
			always = no
		}
		else = {
			always = yes
		}
	}

	ai_weight = {
		weight = 0
	}
}


relay_network_dummy = {
	length = @EdictPerpetual
	icon = "GFX_edict_type_policy"

	potential = {
		always = no
	}
	resources = {
		category = edicts
		cost = {
			unity = @Edict1Cost
			multiplier = value:edict_size_effect
		}
		upkeep = {
			unity = @Edict1Cost
			multiplier = value:edict_size_effect
		}
	}

	potential = {
		has_overlord_dlc = yes
	}

	modifier = {
		custom_tooltip = edict_relay_network_dummy_tooltip
	}
	prerequisites = { "tech_hyper_relays" }

	show_tech_unlock_if = { always = yes }
}

relay_network_stability = {
	length = @EdictPerpetual
	icon = "GFX_edict_type_policy"

	resources = {
		category = edicts
		cost = {
			unity = @Edict1Cost
			multiplier = value:edict_size_effect
		}
		upkeep = {
			unity = @Edict1Cost
			multiplier = value:edict_size_effect
		}
	}

	potential = {
		has_overlord_dlc = yes
		has_technology = tech_hyper_relays
	}

	allow = {
		NOT = { has_deficit = exotic_gases }
		exists = capital_scope
		capital_scope = {
			exists = solar_system
			solar_system = {
				has_megastructure = hyper_relay
			}
		}
	}

	prerequisites = {
		"tech_galactic_bureaucracy"
	}

	modifier = {
		megastructures_hyper_relay_exotic_gases_upkeep_add = 0.1
	}

	relay_network_modifier = {
		relay_network_stability_edict_modifier = 1
	}

	ai_weight = {
		weight = 0
		modifier = {
			weight = @EdictHighPrio
			has_monthly_income = { resource = exotic_gases value > 5 }
		}
	}
}

relay_network_movement = {
	length = @EdictPerpetual
	icon = "GFX_edict_type_policy"

	resources = {
		category = edicts
		cost = {
			unity = @Edict1Cost
			multiplier = value:edict_size_effect
		}
		upkeep = {
			unity = @Edict1Cost
			multiplier = value:edict_size_effect
		}
	}

	potential = {
		has_overlord_dlc = yes
		has_technology = tech_hyper_relays
	}

	allow = {
		NOT = { has_deficit = volatile_motes }
		exists = capital_scope
		capital_scope = {
			exists = solar_system
			solar_system = {
				has_megastructure = hyper_relay
			}
		}

	}

	prerequisites = {
		"tech_hyper_drive_3"
	}

	modifier = {
		megastructures_hyper_relay_volatile_motes_upkeep_add = 0.1
	}

	relay_network_modifier = {
		relay_network_movement_edict_modifier = 1
	}

	ai_weight = {
		weight = 0
		modifier = {
			weight = @EdictMedPrio
			has_monthly_income = { resource = volatile_motes value > 5 }
		}
	}
}

relay_network_amenities = {
	length = @EdictPerpetual
	icon = "GFX_edict_type_policy"

	resources = {
		category = edicts
		cost = {
			unity = @Edict1Cost
			multiplier = value:edict_size_effect
		}
		upkeep = {
			unity = @Edict1Cost
			multiplier = value:edict_size_effect
		}
	}

	potential = {
		has_overlord_dlc = yes
		is_gestalt = no
		has_technology = tech_hyper_relays
	}

	allow = {
		NOT = { has_deficit = rare_crystals }
		exists = capital_scope
		capital_scope = {
			exists = solar_system
			solar_system = {
				has_megastructure = hyper_relay
			}
		}
	}

	prerequisites = {
		"tech_artificial_moral_codes"
	}

	show_tech_unlock_if = {
		is_gestalt = no
	}

	modifier = {
		megastructures_hyper_relay_rare_crystals_upkeep_add = 0.1
	}

	relay_network_modifier = {
		relay_network_amenities_edict_modifier = 1
	}

	ai_weight = {
		weight = 0
		modifier = {
			weight = @EdictMedPrio
			has_monthly_income = { resource = rare_crystals value > 5 }
		}
	}
}

relay_network_amenities_gestalt = {
	length = @EdictPerpetual
	icon = "GFX_edict_type_policy"

	resources = {
		category = edicts
		cost = {
			unity = @Edict1Cost
			multiplier = value:edict_size_effect
		}
		upkeep = {
			unity = @Edict1Cost
			multiplier = value:edict_size_effect
		}
	}

	potential = {
		has_overlord_dlc = yes
		is_gestalt = yes
		has_technology = tech_hyper_relays
	}

	allow = {
		NOT = { has_deficit = rare_crystals }
		exists = capital_scope
		capital_scope = {
			exists = solar_system
			solar_system = {
				has_megastructure = hyper_relay
			}
		}
	}

	prerequisites = {
		"tech_unity_of_purpose"
	}

	show_tech_unlock_if = {
		is_gestalt = yes
	}

	modifier = {
		megastructures_hyper_relay_rare_crystals_upkeep_add = 0.1
	}

	relay_network_modifier = {
		relay_network_amenities_gestalt_edict_modifier = 1
	}

	ai_weight = {
		weight = 0
		modifier = {
			weight = @EdictMedPrio
			has_monthly_income = { resource = rare_crystals value > 5 }
		}
	}
}