#########################################################################################################
###################################	A S C E N S I O N	E V E N T S ###################################
#########################################################################################################
# list of namespaces
	# Misc									tec_ascension.1-100
	# Main ascensions
		# Biological
			# Bio A								tec_gene_path.xxx
			# Bio B								tec_bio_path.xxx
		# Cybernetics
			# Cyborgs							tec_cybernetic_path.xxx
			# Synths							tec_synth_path.xxx
		# Psionics
			# Psi A								tec_psionic_path.xxx
			# Psi B								tec_psionic_path_B.xxx
	# Specific gestalt paths
		# Hive psionic path					tec_psionic_hive_path.xxx
		# Machine main path					tec_machine_path.xxx
	# Mixed Ascensions
		# Bio-Cyb: Replicant				tec_replicant_path.xxx
		# Cyb-Psi: Cyberpsionic				tec_cyberpsionic_path.xxx
		# Bio-Psi: Purity of form			tec_biopsionic_path.xxx
# /

# Misc Events
# ------------------------------------------------------------ tec_ascension.xxx
# Mostly reserved for mixes or controls
namespace = tec_ascension

situation_event = { # this is done to avoid apparently 200=0 not working for situations
	id = tec_ascension.404
	hide_window = yes
	is_triggered_only = yes
	situation = this

	trigger = {
		always = no
	}
}

# country_event = {	# Control species traits related to ascensions
# 	id = tec_ascension.10
# 	is_triggered_only = yes
# 	hide_window = yes

# 	trigger = {
# 		OR = {
# 			# Main paths
# 				AND = {	# Gene perfection
# 					from = {
# 						species = {
# 							has_trait = trait_pc_tec_gene_preference
# 						}
# 						OR = {
# 							AND = {
# 								leader_class = scientist
# 								species = {
# 									has_trait = trait_tec_gene
# 								}
# 							}
# 							AND = {
# 								leader_class = governor
# 								species = {
# 									has_trait = trait_tec_gene
# 								}
# 							}
# 							AND = {
# 								leader_class = admiral
# 								species = {
# 									has_trait = trait_tec_gene
# 								}
# 							}
# 							AND = {
# 								leader_class = general
# 								species = {
# 									has_trait = trait_tec_gene
# 								}
# 							}
# 						}
# 					}
# 					NOT = {
# 						has_trait = leader_trait_tec_gene_brain
# 						has_trait = leader_trait_tec_gene_fertile
# 						has_trait = leader_trait_tec_gene_audacious
# 						has_trait = leader_trait_tec_gene_robust
# 						has_trait = leader_trait_tec_gene_will
# 					}
# 				}
# 				#AND = {	# Cyborg t0
# 				#
# 				AND = {	# Cyborg t1
# 					from = {
# 						species = { has_trait = trait_cybernetic }
# 					}
# 					NOT = {
# 						has_trait = leader_trait_cyborg
# 					}
# 				}
# 				AND = {	# Cyborg T2
# 					from = {
# 						species = { has_trait = trait_tec_superior_cybernetics_main }
# 					}
# 					NOT = {
# 						has_trait = leader_trait_tec_superior_cybernetics_main
# 					}
# 				}
# 				#AND = {	# Synth
# 				#	from = {
# 				#		species = { has_trait = trait_mechanical }
# 				#	}
# 				#	NOT = {
# 				#		has_trait = leader_trait_synthetic
# 				#	}
# 				#}
# 				AND = {	# Psi
# 					from = {
# 						species = { has_trait = trait_psionic }
# 					}
# 					NOT = {
# 						has_trait = leader_trait_psionic
# 					}
# 				}
# 				AND = {	# Psy
# 					from = {
# 						species = { has_trait = trait_tec_psychic_main }
# 					}
# 					NOT = {
# 						has_trait = leader_trait_tec_psychic_main
# 					}
# 				}
# 			# /
# 			# Mixed paths

# 			# /
# 		}
# 	}

# 	immediate = {
# 		from = {
# 			add_trait_no_notify = leader_trait_cyborg
# 		}
# 	}
# }

# --------------------------------- MAIN ASCENSIONS ---------------------------------
# Biological A
# ------------------------------------------------------------ tec_gene_path.xxx
namespace = tec_gene_path

# Order
	# T1
		# tec_gene_path.100			Picked t1
		# tec_gene_path.10501		T1 notif
		# tec_gene_path.105			T1 project completed
	# /
	# Gating
		# tec_gene_path.20001		Post tradition 5 years
	# /
	# T2

	# /
# /

# --------------- T1
country_event = { # T1 picked
	id = tec_gene_path.100
	title = "tec_gene_path.100.name"
	desc = "tec_gene_path.100.desc"
	picture = GFX_evt_genetic_modification
	show_sound = event_engineered_evolution
	trackable = yes

	is_triggered_only = yes

	option = {
		name = "tec_gene_path.100.a"
		custom_tooltip = "tec_gene_path.100.a.tooltip"
		hidden_effect = {
			save_event_target_as = tec_target_country
			event_target:tec_target_country = {
				start_situation = {
					type = situation_tec_gene_path_t1
					target = event_target:tec_target_country.capital_scope
					effect = {
						save_event_target_as = new_situation
					}
				}
				event_target:new_situation = {
					set_situation_locked = no
					set_situation_approach = situation_approach_tec_gene_path_t1_neutral
				}
			}
		}
	}
}

# Situation
situation_event = { # Gene T1 - 15%
	id = tec_gene_path.10055
	title = "tec_gene_path.10055.name"
	desc = "tec_gene_path.10055.desc"

	picture = GFX_evt_overtuned
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_gene_path.10055.a
		custom_tooltip = tec_gene_path.10055.a.tooltip
		icon = {
			icon = GFX_situation_approach_genetics
			icon_background = GFX_situation_approach_bg_green
			text = set_situation_approach_icon_text
		}
	}
}

situation_event = { # Gene T1 - 45%
	id = tec_gene_path.10070
	title = "tec_gene_path.10070.name"
	desc = "tec_gene_path.10070.desc"

	picture = GFX_evt_overtuned
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_gene_path.10070.a
		custom_tooltip = tec_gene_path.10070.a.tooltip
		icon = {
			icon = GFX_situation_approach_genetics
			icon_background = GFX_situation_approach_bg_green
			text = set_situation_approach_icon_text
		}
	}
}

situation_event = { # Gene T1 - 75%
	id = tec_gene_path.10085
	title = "tec_gene_path.10085.name"
	desc = "tec_gene_path.10085.desc"

	picture = GFX_evt_overtuned
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_gene_path.10085.a
		custom_tooltip = tec_gene_path.10085.a.tooltip
		icon = {
			icon = GFX_situation_approach_genetics
			icon_background = GFX_situation_approach_bg_green
			text = set_situation_approach_icon_text
		}
	}

	option = {
		name = tec_gene_path.10085.b
		custom_tooltip = tec_gene_path.10085.b.tooltip
		allow = {
			always = no
		}
		icon = {
			icon = GFX_situation_approach_tec_genecrank
			icon_background = GFX_situation_approach_bg_red
			text = set_situation_approach_icon_text
		}
		hidden_effect = {
			set_situation_flag = situation_tec_gene_path_t1_unlock_bio
		}
	}
}


# Finished
country_event = { # T1 Situation Completed
	id = tec_gene_path.105
	title = "tec_gene_path.105.name"
	desc = "tec_gene_path.105.desc"
	picture = GFX_evt_tec_cyan_strings
	show_sound = event_engineered_evolution
	trackable = yes

	is_triggered_only = yes

	immediate = {
	}

	option = {
		name = "tec_gene_path.105.a"
		custom_tooltip = "tec_gene_path.105.a.tooltip"
		hidden_effect = {
			# PATH FLAG
			set_country_flag = tec_gene_malleability
			set_country_flag = tec_gene_path_unlocked_tradition_1
			# Announcement
			if = {
				limit = {
					NOT = {
						has_country_flag = tec_comm_1st_step
					}
				}
				set_country_flag = tec_comm_1st_step
				if = {
					limit = {	# Prevents FE and alike from triggering the announce
						NOT = {
							has_country_flag = tec_advanced_ascension
						}
					}
					every_country = {
						limit = {
							is_ai = no
							NOR = {
								is_same_value = root
								# TO DO policy for muting other empire things 
								has_country_flag = tec_mute_empire_announces
							}
							has_communications = root
							root = {
								is_primitive = no
							}
						}
						country_event = {
							id = tec_gene_path.10501
							days = 5 
						}
					}
				}
			}
			# Fear of the Dark Separatists - Scared
				if = {	
					limit = {
						any_planet_within_border = {
							has_planet_flag = fotd_seperatist_planet@root
							owner = {
								has_country_flag = fotd_seperatist_country@root
							}
						}
					}
					country_event = { id = origin.6115 days = 10 random = 5 }
				}
			# /
			fire_on_action = { on_action = tec_ascension_situation_finished }
		}
	}
}

country_event = { # T1 Notification to other empires
	id = tec_gene_path.10501
	title = "tec_gene_path.10501.name"
	desc = {
		text = tec_gene_path.10501.desc
	}
	picture = GFX_evt_tec_cyan_strings
	#show_sound = event_engineered_evolution

	is_triggered_only = yes

	option = {
		name = "tec_gene_path.10501.a"
	}

	option = {
		name = "tec_gene_path.10501.b"
	}
	option = {
		name = "tec_gene_path.10501.c"
		trigger = {
			is_machine_empire = yes
			NOR = {
				has_ethic = ethic_gestalt_empathy
				has_civic = civic_machine_assimilator
				has_civic = civic_machine_servitor
			}
		}
	}
	option = {
		name = "tec_gene_path.10501.d"
		trigger = {
			OR = {
				has_authority = auth_tec_hive_cybernetic
				has_civic = civic_machine_assimilator
				has_civic = civic_machine_servitor
				has_ascension_perk = ap_tec_genetic_perfection
			}
		}
	}
}

# --------------- Gating
country_event = { # 5 years after 
	id = tec_gene_path.200
	title = "tec_gene_path.200.name"
	desc = "tec_gene_path.200.desc"
	picture = GFX_evt_tec_cyan_strings
	show_sound = event_evolution_mastery

	is_triggered_only = yes

	trigger = {
		always = yes
	}

	immediate = {
		hidden_effect = {
			owner_main_species = {
				save_event_target_as = tec_target_species
			}
		}
	}

	option = {
		name = tec_gene_path.200.a
		custom_tooltip = tec_gene_path.200.a.tooltip
		hidden_effect = {
			save_event_target_as = tec_target_country
			event_target:tec_target_country = {
				start_situation = {
					type = situation_tec_gene_path_gate
					target = event_target:tec_target_country.capital_scope
					effect = {
						save_event_target_as = new_situation
					}
				}
				event_target:new_situation = {
					set_situation_locked = no
					set_situation_approach = situation_approach_tec_gene_path_gate_neutral
				}
			}
		}
	}
}

# Situation
situation_event = { # Gene A gate - 25% - Gives the approachs and hints to gene ev
	id = tec_gene_path.20025
	title = "tec_gene_path.20025.name"
	desc = "tec_gene_path.20025.desc"

	picture = GFX_evt_scientific_experiments
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_flag = situation_tec_gene_path_gate_unlock_approachs
			set_situation_locked = yes
			owner_main_species = {
				save_event_target_as = tec_target_species
			}
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_gene_path.20025.a
		custom_tooltip = tec_gene_path.20025.a.tooltip
		icon = {
			icon = GFX_situation_approach_genetics
			icon_background = GFX_situation_approach_bg_green
			text = set_situation_approach_icon_text
		}
		set_situation_approach = situation_approach_tec_gene_path_gate_slow
	}

	option = {
		name = tec_gene_path.20025.b
		custom_tooltip = tec_gene_path.20025.b.tooltip
		icon = {
			icon = GFX_situation_approach_tec_genecrank
			icon_background = GFX_situation_approach_bg_red
			text = set_situation_approach_icon_text
		}
		set_situation_approach = situation_approach_tec_gene_path_gate_fast
	}
}
situation_event = { # Gene A gate - 50% - Replicant trigger
	id = tec_gene_path.20050
	title = "tec_gene_path.20050.name"
	desc = {
		trigger = {
			current_situation_approach = situation_approach_tec_gene_path_gate_slow
		}
		text = tec_gene_path.20050.desc.good
	}
	desc = {
		trigger = {
			current_situation_approach = situation_approach_tec_gene_path_gate_fast
		}
		text = tec_gene_path.20050.desc.bad
	}

	picture = GFX_evt_scientific_experiments
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_gene_path.20050.a
		custom_tooltip = tec_gene_path.20050.a.tooltip
		icon = {
			icon = GFX_situation_approach_genetics
			icon_background = GFX_situation_approach_bg_yellow
			text = tec_icon_text_good_outcome
		}
	}
}
situation_event = { # Gene A gate - 75% - Mind and Body
	id = tec_gene_path.20075
	title = "tec_gene_path.20075.name"
	desc = {
		trigger = {
			current_situation_approach = situation_approach_tec_gene_path_gate_slow
		}
		text = tec_gene_path.20075.desc.good
	}
	desc = {
		trigger = {
			current_situation_approach = situation_approach_tec_gene_path_gate_fast
		}
		text = tec_gene_path.20075.desc.bad
	}

	picture = GFX_evt_scientific_experiments
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_gene_path.20075.a
		custom_tooltip = tec_gene_path.20075.a.tooltip
		icon = {
			icon = GFX_situation_approach_genetics
			icon_background = GFX_situation_approach_bg_yellow
			text = tec_icon_text_good_outcome
		}
		hidden_effect = {
			set_situation_flag = situation_tec_gene_path_gate_end
		}
	}
}

# Random situation events
situation_event = { # Good 1 A gate - Gives +25% output to 5 pops
	id = tec_gene_path.20011
	title = "tec_gene_path.20011.name"
	desc = "tec_gene_path.20011.desc"

	picture = GFX_evt_society_research
	show_sound = event_laboratory_sound
	is_triggered_only = yes
	situation = this
	location = target

	weight_multiplier = {
		factor = 1
		modifier = {
			factor = 0.5
			current_situation_approach = situation_approach_tec_gene_path_gate_fast
		}
		modifier = {
			factor = 1.5
			current_situation_approach = situation_approach_tec_gene_path_gate_slow
		}
	}

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
			owner = {
				# Check organic species
				owner_main_species = {
					save_event_target_as = tec_target_species
				}
				# Check planet
				random_owned_planet = {
					limit = {
						any_owned_species = {
							is_same_species = event_target:tec_target_species
						}
					}
					save_event_target_as = tec_target_planet
				}
			}
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_gene_path.20011.a
		custom_tooltip = tec_gene_path.20011.a.tooltip
		icon = {
			icon = GFX_situation_approach_genetics
			icon_background = GFX_situation_approach_bg_green
			text = tec_icon_text_good_outcome
		}
		hidden_effect = {
			if = {
				limit = {
					situation_progress < 95
				}
				add_situation_progress = 5
			}
			event_target:tec_target_planet = {
				while = {
					count = 5
					random_owned_pop = {
						limit = {
							is_same_species = event_target:tec_target_species
							NOT = {
								has_modifier = tec_gene_good_pop
							}
						}
						add_modifier = {
							modifier = tec_gene_good_pop
							years = 1
						}
					}
				}
				
			}
		}
	}
}
situation_event = { # Good 2 A gate- Gives +10% 1 year planet output
	id = tec_gene_path.20012
	title = "tec_gene_path.20012.name"
	desc = "tec_gene_path.20012.desc"

	picture = GFX_evt_society_research
	show_sound = event_laboratory_sound
	is_triggered_only = yes
	situation = this
	location = target

	weight_multiplier = {
		factor = 1
		modifier = {
			factor = 0.5
			current_situation_approach = situation_approach_tec_gene_path_gate_fast
		}
		modifier = {
			factor = 1.5
			current_situation_approach = situation_approach_tec_gene_path_gate_slow
		}
	}

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
			owner = {
				# Check organic species
				owner_main_species = {
					save_event_target_as = tec_target_species
				}
				# Check planet
				random_owned_planet = {
					limit = {
						any_owned_species = {
							is_same_species = event_target:tec_target_species
						}
					}
					save_event_target_as = tec_target_planet
				}
			}
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_gene_path.20012.a
		custom_tooltip = tec_gene_path.20012.a.tooltip
		icon = {
			icon = GFX_situation_approach_genetics
			icon_background = GFX_situation_approach_bg_green
			text = tec_icon_text_good_outcome
		}
		hidden_effect = {
			if = {
				limit = {
					situation_progress < 95
				}
				add_situation_progress = 5
			}
			event_target:tec_target_planet = {
				add_modifier = {
					modifier = pm_tec_gene_good_planet
					years = 1
				}
			}
		}
	}
}

situation_event = { # Bad 1 A gate- Gives -25% output to 3-5 pops
	id = tec_gene_path.20023
	title = "tec_gene_path.20023.name"
	desc = "tec_gene_path.20023.desc"

	picture = GFX_evt_tec_red_strings
	show_sound = event_vivisection
	is_triggered_only = yes
	situation = this
	location = target

	weight_multiplier = {
		factor = 1
		modifier = {
			factor = 0.5
			current_situation_approach = situation_approach_tec_gene_path_gate_slow
		}
		modifier = {
			factor = 1.5
			current_situation_approach = situation_approach_tec_gene_path_gate_fast
		}
	}

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
			owner = {
				# Check organic species
				owner_main_species = {
					save_event_target_as = tec_target_species
				}
				# Check planet
				random_owned_planet = {
					limit = {
						any_owned_species = {
							is_same_species = event_target:tec_target_species
						}
					}
					save_event_target_as = tec_target_planet
				}
			}
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_gene_path.20023.a
		custom_tooltip = tec_gene_path.20023.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_genecrank
			icon_background = GFX_situation_approach_bg_red
			text = tec_icon_text_bad_outcome
		}
		hidden_effect = {
			if = {
				limit = {
					situation_progress > 5
				}
				add_situation_progress = -5
			}
			event_target:tec_target_planet = {
				add_modifier = {
					modifier = pm_tec_gene_bad_planet
					years = 1
				}
			}
		}
	}
}
situation_event = { # Bad 2 A gate- Gives -10% 1 year planet output
	id = tec_gene_path.20022
	title = "tec_gene_path.20022.name"
	desc = "tec_gene_path.20022.desc"

	picture = GFX_evt_tec_red_strings
	show_sound = event_vivisection
	is_triggered_only = yes
	situation = this
	location = target

	weight_multiplier = {
		factor = 1
		modifier = {
			factor = 0.5
			current_situation_approach = situation_approach_tec_gene_path_gate_slow
		}
		modifier = {
			factor = 1.5
			current_situation_approach = situation_approach_tec_gene_path_gate_fast
		}
	}

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
			owner = {
				# Check organic species
				owner_main_species = {
					save_event_target_as = tec_target_species
				}
				# Check planet
				random_owned_planet = {
					limit = {
						any_owned_species = {
							is_same_species = event_target:tec_target_species
						}
					}
					save_event_target_as = tec_target_planet
				}
			}
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_gene_path.20022.a
		custom_tooltip = tec_gene_path.20022.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_genecrank
			icon_background = GFX_situation_approach_bg_red
			text = tec_icon_text_bad_outcome
		}
		hidden_effect = {
			if = {
				limit = {
					situation_progress > 5
				}
				add_situation_progress = -5
			}
			event_target:tec_target_planet = {
				while = {
					count = 5
					random_list = {
						33 = {
							# Safe i guess?
						}
						66 = {
							random_owned_pop = {
								limit = {
									is_same_species = event_target:tec_target_species
									NOT = {
										has_modifier = tec_gene_bad_pop
									}
								}
								add_modifier = {
									modifier = tec_gene_bad_pop
									years = 1
								}
							}
						}
					}
				}
			}
		}
	}
}
situation_event = { # Bad 3 A gate - Kills 3-5 pops
	id = tec_gene_path.20021
	title = "tec_gene_path.20021.name"
	desc = "tec_gene_path.20021.desc"

	picture = GFX_evt_tec_red_genetics
	show_sound = event_vivisection
	is_triggered_only = yes
	situation = this
	location = target

	weight_multiplier = {
		factor = 1
		modifier = {
			factor = 0.5
			current_situation_approach = situation_approach_tec_gene_path_gate_slow
		}
		modifier = {
			factor = 1.5
			current_situation_approach = situation_approach_tec_gene_path_gate_fast
		}
	}

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
			owner = {
				# Check organic species
				owner_main_species = {
					save_event_target_as = tec_target_species
				}
				# Check planet
				random_owned_planet = {
					limit = {
						any_owned_species = {
							is_same_species = event_target:tec_target_species
						}
					}
					save_event_target_as = tec_target_planet
				}
			}
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_gene_path.20021.a
		custom_tooltip = tec_gene_path.20021.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_genecrank
			icon_background = GFX_situation_approach_bg_red
			text = tec_icon_text_bad_outcome
		}
		hidden_effect = {
			if = {
				limit = {
					situation_progress > 10
				}
				add_situation_progress = -10
			}
			event_target:tec_target_planet = {
				while = {
					count = 5
					random_list = {
						33 = {
							# Safe i guess?
						}
						66 = {
							random_owned_pop = {
								limit = {
									is_same_species = event_target:tec_target_species
								}
								kill_pop = yes
							}
						}
					}
				}
			}
		}
	}
}

country_event = { # Situation finished
	id = tec_gene_path.205
	title = "tec_gene_path.205.name"
	desc = {
		trigger = {
			has_country_flag = tec_gene_good_temp
		}
		text = tec_gene_path.205.desc.good
	}
	desc = {
		trigger = {
			has_country_flag = tec_gene_bad_temp
		}
		text = tec_gene_path.205.desc.bad
	}

	picture = GFX_evt_tec_orange_strings
	show_sound = event_evolution_mastery
	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			owner_main_species = {
				save_event_target_as = tec_target_species
			}
		}
	}

	after = {
		hidden_effect = {
			# Gating
			set_country_flag = tec_genetics_gate_completed
			# Caution
			owner_main_species = {
				save_event_target_as = tec_target_species
			}
			fire_on_action = { on_action = tec_ascension_situation_finished }
		}
	}

	option = {
		name = tec_gene_path.205.a
		custom_tooltip = tec_gene_path.205.a.tooltip
		icon = {
			icon = GFX_situation_approach_genetics
			icon_background = GFX_situation_approach_bg_tec_orange
			text = tec_icon_text_good_outcome
		}
		trigger = {
			has_country_flag = tec_gene_good_temp
		}
	}

	option = {
		name = tec_gene_path.205.b
		custom_tooltip = tec_gene_path.205.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_genecrank
			icon_background = GFX_situation_approach_bg_tec_orange
			text = tec_icon_text_good_outcome
		}
		trigger = {
			has_country_flag = tec_gene_bad_temp
		}
	}
}

# --------------- T2
country_event = { # T2A picked
	id = tec_gene_path.300
	title = "tec_gene_path.300.name"
	desc = "tec_gene_path.300.desc"
	picture = GFX_evt_tec_orange_strings
	show_sound = event_evolution_mastery
	trackable = yes

	is_triggered_only = yes

	immediate = {
		owner_main_species = {
			save_event_target_as = tec_target_species
		}
		save_event_target_as = tec_temp_country
		event_target:tec_temp_country = {
			start_situation = {
				type = situation_tec_gene_path_t2
				target = event_target:tec_temp_country.capital_scope
				effect = {
					save_event_target_as = new_situation
					set_situation_locked = yes
				}
			}
		}
	}

	option = {
		name = "tec_gene_path.300.a"
		custom_tooltip = "tec_gene_path.300.a.tooltip"
		icon = {
			icon = GFX_situation_approach_genetics
			icon_background = GFX_situation_approach_bg_green
			text = set_situation_approach_icon_text
		}
		hidden_effect = {
			event_target:new_situation = {
				set_situation_approach = situation_approach_tec_gene_path_t2_slow
				set_situation_locked = no
			}
		}
	}

	option = {
		name = "tec_gene_path.300.b"
		custom_tooltip = "tec_gene_path.300.b.tooltip"
		icon = {
			icon = GFX_situation_approach_tec_genecrank
			icon_background = GFX_situation_approach_bg_red
			text = set_situation_approach_icon_text
		}
		hidden_effect = {
			event_target:new_situation = {
				set_situation_approach = situation_approach_tec_gene_path_t2_fast
				set_situation_locked = no
			}
		}
	}
}

# Situation 2
situation_event = { # Gene 2A - 25% - Startup
	id = tec_gene_path.30025
	title = "tec_gene_path.30025.name"
	desc = "tec_gene_path.30025.desc"

	picture = GFX_evt_tec_orange_strings
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_gene_path.30025.a
		custom_tooltip = tec_gene_path.30025.a.tooltip
		icon = {
			icon = GFX_situation_approach_genetics
			icon_background = GFX_situation_approach_bg_yellow
			text = tec_icon_text_good_outcome
		}
	}
}
situation_event = { # Gene 2A - 50% - Special empire interactions - split
	id = tec_gene_path.30050
	hide_window = yes
	is_triggered_only = yes
	situation = this

	immediate = {
		if = {
			limit = {
				exists = owner
				owner = {
					has_origin = origin_necrophage
					has_trait = trait_necrophage
				}
			}
			situation_event = {
				id = tec_gene_path.30056
			}
		}
		else_if = {
			limit = {
				exists = owner
				owner = {
					has_origin = origin_syncretic_evolution
					has_valid_civic = civic_tec_origin_elders
				}
			}
			situation_event = {
				id = tec_gene_path.30057
			}
		}
		#if = { Removed for now
		#	limit = {
		#		exists = owner
		#		owner = {
		#			has_origin = origin_clone_army
		#		}
		#	}
		#	situation_event = {
		#		id = tec_gene_path.30058
		#	}
		#}
	}
}
situation_event = { # Gene 2A - 75% - Distributing among the population
	id = tec_gene_path.30075
	title = "tec_gene_path.30075.name"
	desc = "tec_gene_path.30075.desc"

	picture = GFX_evt_tec_orange_strings
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_gene_path.30075.a
		custom_tooltip = tec_gene_path.30075.a.tooltip
		icon = {
			icon = GFX_situation_approach_genetics
			icon_background = GFX_situation_approach_bg_yellow
			text = tec_icon_text_good_outcome
		}
	}
}

# Halfway empire situation events
situation_event = { # Necrophages - Tell they will lose the mechanic
	id = tec_gene_path.30056
	title = "tec_gene_path.30056.name"
	desc = "tec_gene_path.30056.desc"

	picture = GFX_evt_necrophage
	is_triggered_only = yes
	situation = this
	location = target

	trigger = {
		owner = {
			has_origin = origin_necrophage
			has_trait = trait_necrophage
		}
	}

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_gene_path.30056.a
		custom_tooltip = tec_gene_path.30056.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_genecrank
			icon_background = GFX_situation_approach_bg_yellow
			text = tec_icon_text_neutral_outcome
		}
		hidden_effect = {
			owner = {
				set_country_flag = tec_gene_necrophage_evolved
			}
		}
	}
	option = {
		name = tec_gene_path.30056.b
		custom_tooltip = tec_gene_path.30056.b.tooltip
		icon = {
			icon = GFX_situation_approach_genetics
			icon_background = GFX_situation_approach_bg_yellow
			text = tec_icon_text_neutral_outcome
		}
		hidden_effect = {
			owner = {
				set_country_flag = tec_reduced_auto_assimilation
			}
		}
	}
}
situation_event = { # Elder guidance - Chose the species
	id = tec_gene_path.30057
	title = "tec_gene_path.30057.name"
	desc = "tec_gene_path.30057.desc"

	picture = GFX_evt_alien_cavemen
	is_triggered_only = yes
	situation = this
	location = target


	trigger = {
		owner = {
			has_origin = origin_syncretic_evolution
			has_valid_civic = civic_tec_origin_elders
		}
	}

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
			owner = {
				owner_main_species = {
					save_event_target_as = tec_elder_species
				}
				random_owned_species = {
					limit = {
						has_species_flag = syncretic_species@prev
						has_trait = @trait_tec_se_subspecies
					}
					save_event_target_as = tec_illuminated_species
				}
			}

		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_gene_path.30057.a
		custom_tooltip = tec_gene_path.30057.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_genecrank
			icon_background = GFX_situation_approach_bg_yellow
			text = tec_icon_text_neutral_outcome
		}
		hidden_effect = {
			owner = {
				set_country_flag = tec_gene_elder_cured
			}
		}
	}
	option = {
		name = tec_gene_path.30057.b
		custom_tooltip = tec_gene_path.30057.b.tooltip
		icon = {
			icon = GFX_situation_approach_genetics
			icon_background = GFX_situation_approach_bg_yellow
			text = tec_icon_text_neutral_outcome
		}
		hidden_effect = {
			owner = {
				set_country_flag = tec_reduced_auto_assimilation
			}
		}
	}
	option = {
		name = tec_gene_path.30057.c
		custom_tooltip = tec_gene_path.30057.c.tooltip
		icon = {
			icon = GFX_situation_approach_gift
			icon_background = GFX_situation_approach_bg_yellow
			text = tec_icon_text_neutral_outcome
		}
		trigger = {	# Only if a valid syncretic species exist
			owner = {
				any_owned_species = {
					has_species_flag = syncretic_species@prev
				}
			}
		}
		hidden_effect = {
			owner = {
				random_owned_species = {
					limit = {
						has_species_flag = syncretic_species@prev
					}
					save_event_target_as = tec_new_main_species
				}
				change_dominant_species = {
					species = event_target:tec_new_main_species
				}
			}
		}
	}
}
situation_event = { # Clone army - Get rid of the traits
	id = tec_gene_path.30058
	title = "tec_gene_path.30058.name"
	desc = "tec_gene_path.30058.desc"

	picture = GFX_evt_clones
	is_triggered_only = yes
	situation = this
	location = target


	trigger = {
		owner = {
			has_origin = origin_clone_army
		}
	}

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
		}
		owner = {
			owner_main_species = {
				save_event_target_as = tec_clonearmy_species
			}
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_gene_path.30058.a
		custom_tooltip = tec_gene_path.30058.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_genecrank
			icon_background = GFX_situation_approach_bg_yellow
			text = tec_icon_text_neutral_outcome
		}
		allow = {
			always = no
		}
		hidden_effect = {
			owner = {
				set_country_flag = tec_gene_elder_cured
			}
		}
	}
	option = {
		name = tec_gene_path.30058.b
		custom_tooltip = tec_gene_path.30058.b.tooltip
		icon = {
			icon = GFX_situation_approach_genetics
			icon_background = GFX_situation_approach_bg_yellow
			text = tec_icon_text_neutral_outcome
		}
		hidden_effect = {
			owner = {
				set_country_flag = tec_reduced_auto_assimilation
			}
		}
	}
}

country_event = { # T2A Situation finished
	id = tec_gene_path.305
	title = "tec_gene_path.305.name"
	desc = "tec_gene_path.305.desc"
	picture = GFX_evt_tec_orange_strings
	show_sound = event_evolution_mastery
	trackable = yes

	is_triggered_only = yes

	option = {
		name = "tec_gene_path.305.a"
		custom_tooltip = "tec_gene_path.305.a.tooltip"
		hidden_effect = {
			# Path finished
			set_country_flag = tec_gene_path_finished
			# Alter species
				# Note: species_mod instead of species for changing your main species only
			tec_create_genetic_perfection_species = yes
			# TO DO create specific leader ascension trait handler
			every_owned_leader = {
				add_leader_traits_after_modification = yes
				remove_leader_traits_after_modification = yes
			}
			every_pool_leader = {
				add_leader_traits_after_modification = yes
				remove_leader_traits_after_modification = yes
			}
			# Flags
			set_country_flag = tec_genetic_assimilation
			fire_on_action = { on_action = tec_ascension_situation_finished }
		}
	}

	after = {
		hidden_effect = {
			# Announcement
			if = {
				limit = {	# Prevents FE and alike from triggering the announce
					NOT = {
						has_country_flag = tec_advanced_ascension
					}
				}
				every_country = {
					limit = {
						is_ai = no
						NOR = {
							is_same_value = root
							# TO DO policy for muting other empire things 
							has_country_flag = tec_mute_empire_announces
						}
						has_communications = root
						root = {
							is_primitive = no
						}
					}
					country_event = {
						id = tec_gene_path.30501
						days = 15
					}
				}
			}
			add_modifier = {
				modifier = modifier_tec_free_modification
				days = -1
			}
		}
	}
}

country_event = { # T2A Notification to other empires
	id = tec_gene_path.30501
	title = "tec_gene_path.30501.name"
	desc = {
		text = tec_gene_path.30501.desc
	}
	picture = GFX_evt_tec_orange_strings
	#show_sound = event_engineered_evolution

	is_triggered_only = yes

	option = {
		name = "tec_gene_path.30501.a"
	}

	option = {
		name = "tec_gene_path.30501.b"
	}
	option = {
		name = "tec_gene_path.30501.c"
		trigger = {
			is_machine_empire = yes
			NOR = {
				has_ethic = ethic_gestalt_empathy
				has_civic = civic_machine_assimilator
				has_civic = civic_machine_servitor
			}
		}
	}
	option = {
		name = "tec_gene_path.30501.d"
		trigger = {
			OR = {
				has_civic = civic_machine_assimilator
				has_civic = civic_machine_servitor
				has_ascension_perk = ap_tec_genetic_perfection
			}
		}
	}
}

# Biological B TO DO
# ------------------------------------------------------------ tec_bio_path.xxx
namespace = tec_bio_path

# T2 picked

# T3 picked


# Cybernetic path
# ------------------------------------------------------------ tec_cybernetic_path.xxx
namespace = tec_cybernetic_path

# --------------- T1 pick
country_event = { # Cybernetic T1 Picked
	id = tec_cybernetic_path.100
	title = "tec_cybernetic_path.100.name"
	desc = {
		text = tec_cybernetic_path.100.desc
		trigger = {
			is_hive_empire = no
			is_machine_empire = no
		}
	}
	desc = {
		text = tec_cybernetic_path.100.desc.hive
		trigger = {
			is_hive_empire = yes
			tec_is_cyberhive = no
		}
	}
	desc = {
		text = tec_cybernetic_path.100.desc.cyberhive
		trigger = {
			tec_is_cyberhive = yes
		}
	}
	desc = {
		text = tec_cybernetic_path.100.desc.machine
		trigger = {
			is_machine_empire = yes
		}
	}
	picture = GFX_evt_cybernetics
	show_sound = event_the_flesh_is_weak
	trackable = yes

	is_triggered_only = yes

	option = {
		name = "tec_cybernetic_path.100.a"
		custom_tooltip = "tec_cybernetic_path.100.a.tooltip"
		trigger = {
			NOR = {
				tec_is_cyberhive = yes
				tec_has_cybernetic_ascension_origin = yes
			}
		}
		hidden_effect = { # Gives the situation
			save_event_target_as = tec_temp_country
			event_target:tec_temp_country = {
				start_situation = {
					type = situation_tec_cybernetic_path_t1
					target = event_target:tec_temp_country.capital_scope
					effect = {
						save_event_target_as = new_situation
					}
				}
				event_target:new_situation = {
					set_situation_locked = no
					set_situation_approach = situation_approach_tec_cybernetic_path_t1_slow
				}
			}
		}
	}
	option = {
		name = "tec_cybernetic_path.100.b"
		custom_tooltip = "tec_cybernetic_path.100.b.tooltip"
		trigger = {
			OR = {
				tec_is_cyberhive = yes
				tec_has_cybernetic_ascension_origin = yes
			}
		}
		hidden_effect = { # Gives the situation
			save_event_target_as = tec_temp_country
			event_target:tec_temp_country = {
				start_situation = {
					type = situation_tec_cybernetic_path_t1
					#situation_tec_cybernetic_path_t1_cyborg
					target = event_target:tec_temp_country.capital_scope
					effect = {
						save_event_target_as = new_situation
					}
				}
				event_target:new_situation = {
					set_situation_locked = no
					set_situation_approach = situation_approach_tec_cybernetic_path_t1_slow
					#situation_approach_tec_cybernetic_path_t1_cyborg_slow
				}
			}
		}
	}

	after = {
		hidden_effect = {
			# Fear of the Dark Separatists - Scared
				if = {
					limit = {
						any_planet_within_border = {
							has_planet_flag = fotd_seperatist_planet@root
							owner = {
								has_country_flag = fotd_seperatist_country@root
							}
						}
					}
					country_event = { id = origin.6095 days = 10 random = 10 }
				}
			# /
		}
	}
}

# --------------- T1 situation
	situation_event = { # t1 10%
		id = tec_cybernetic_path.10010
		title = "tec_cybernetic_path.10010.name"
		desc = "tec_cybernetic_path.10010.desc"

		picture = GFX_evt_cybernetics
		is_triggered_only = yes
		situation = this
		location = target

		immediate = {
			hidden_effect = {
				set_situation_locked = yes
			}
		}

		after = {
			hidden_effect = {
				if = {
					limit = {
						has_situation_flag = tec_cyb_t1_unlock_fast
					}
					set_situation_approach = situation_approach_tec_cybernetic_path_t1_fast
				}
				set_situation_locked = no
			}
		}

		option = {
			name = tec_cybernetic_path.10010.a
			custom_tooltip = tec_cybernetic_path.10010.a.tooltip
			icon = {
				icon = GFX_situation_approach_tec_cyb
				icon_background = GFX_situation_approach_bg_yellow
				text = tec_icon_text_neutral_outcome
			}
		}
		option = {
			name = tec_cybernetic_path.10010.b
			custom_tooltip = tec_cybernetic_path.10010.b.tooltip
			icon = {
				icon = GFX_situation_approach_tec_cyb
				icon_background = GFX_situation_approach_bg_red
				text = set_situation_approach_icon_text
			}
			hidden_effect = {
				set_situation_flag = tec_cyb_t1_unlock_fast
			}
		}
	}
	situation_event = { # t1 25%
		id = tec_cybernetic_path.10025
		title = "tec_cybernetic_path.10025.name"
		desc = "tec_cybernetic_path.10025.desc"

		picture = GFX_evt_cybernetics
		is_triggered_only = yes
		situation = this
		location = target

		immediate = {
			hidden_effect = {
				set_situation_locked = yes
			}
		}

		after = {
			hidden_effect = {
				set_situation_locked = no
			}
		}

		option = {
			name = tec_cybernetic_path.10025.a
			custom_tooltip = tec_cybernetic_path.10025.a.tooltip
			icon = {
				icon = GFX_situation_approach_tec_cyb
				icon_background = GFX_situation_approach_bg_tec_blue
				text = tec_icon_text_neutral_outcome
			}
		}
	}
	situation_event = { # t1 50%
		id = tec_cybernetic_path.10050
		title = "tec_cybernetic_path.10050.name"
		desc = "tec_cybernetic_path.10050.desc"

		picture = GFX_evt_scientific_experiments
		is_triggered_only = yes
		situation = this
		location = target

		immediate = {
			hidden_effect = {
				set_situation_locked = yes
			}
		}

		after = {
			hidden_effect = {
				# Confirmation
				situation_event = {
					id = tec_cybernetic_path.10051
				}
			}
		}

		option = {
			name = tec_cybernetic_path.10050.a
			custom_tooltip = tec_cybernetic_path.10050.a.tooltip
			icon = {
				icon = GFX_situation_approach_tec_cyb
				icon_background = GFX_situation_approach_bg_yellow
				text = tec_icon_text_neutral_outcome
			}
			hidden_effect = {
				owner = {
					set_country_flag = tec_cybernetic_module_versatility
				}
			}
		}
		option = {
			name = tec_cybernetic_path.10050.b
			custom_tooltip = tec_cybernetic_path.10050.b.tooltip
			icon = {
				icon = GFX_situation_approach_tec_cyb
				icon_background = GFX_situation_approach_bg_yellow
				text = tec_icon_text_neutral_outcome
			}
			hidden_effect = {
				owner = {
					set_country_flag = tec_cybernetic_module_research
				}
			}
		}
		option = {
			name = tec_cybernetic_path.10050.c
			custom_tooltip = tec_cybernetic_path.10050.c.tooltip
			icon = {
				icon = GFX_situation_approach_tec_cyb
				icon_background = GFX_situation_approach_bg_yellow
				text = tec_icon_text_neutral_outcome
			}
			hidden_effect = {
				owner = {
					set_country_flag = tec_cybernetic_module_industrial
				}
			}
		}
		option = {
			name = tec_cybernetic_path.10050.d
			custom_tooltip = tec_cybernetic_path.10050.d.tooltip
			icon = {
				icon = GFX_situation_approach_unity
				icon_background = GFX_situation_approach_bg_yellow
				text = tec_icon_text_neutral_outcome
			}
			hidden_effect = {
				owner = {
					set_country_flag = tec_cybernetic_module_unity
				}
			}
		}
	}
	situation_event = { # t1 51%
		id = tec_cybernetic_path.10051
		title = "tec_cybernetic_path.10051.name"
		desc = {
			text = "tec_cybernetic_path.10050.desc_versatility"
			trigger = {
				owner = {
					has_country_flag = tec_cybernetic_module_versatility
				}
			}
		}
		desc = {
			text = "tec_cybernetic_path.10050.desc_research"
			trigger = {
				owner = {
					has_country_flag = tec_cybernetic_module_research
				}
			}
		}
		desc = {
			text = "tec_cybernetic_path.10050.desc_industrial"
			trigger = {
				owner = {
					has_country_flag = tec_cybernetic_module_industrial
				}
			}
		}
		desc = {
			text = "tec_cybernetic_path.10050.desc_unity"
			trigger = {
				owner = {
					has_country_flag = tec_cybernetic_module_unity
				}
			}
		}

		picture = GFX_evt_scientific_experiments
		is_triggered_only = yes
		situation = this
		location = target

		immediate = {
			hidden_effect = {
				set_situation_locked = yes
			}
		}

		option = {
			name = tec_cybernetic_path.10051.a
			custom_tooltip = tec_cybernetic_path.10051.a.tooltip
			icon = {
				icon = GFX_situation_approach_tec_cyb
				icon_background = GFX_situation_approach_bg_yellow
				text = tec_icon_text_neutral_outcome
			}
			hidden_effect = {
				owner = {
					remove_country_flag = tec_cybernetic_module_versatility
					remove_country_flag = tec_cybernetic_module_research
					remove_country_flag = tec_cybernetic_module_industrial
					remove_country_flag = tec_cybernetic_module_unity
				}
				situation_event = {
					id = tec_cybernetic_path.10050
				}
			}
		}
		option = {
			name = tec_cybernetic_path.10051.b
			custom_tooltip = tec_cybernetic_path.10051.b.tooltip
			icon = {
				icon = GFX_situation_approach_tec_cyb
				icon_background = GFX_situation_approach_bg_yellow
				text = tec_icon_text_neutral_outcome
			}
			hidden_effect = {
				set_situation_locked = no
			}
		}
	}
	situation_event = { # t1 75%
		id = tec_cybernetic_path.10075
		title = "tec_cybernetic_path.10075.name"
		desc = "tec_cybernetic_path.10075.desc"

		picture = GFX_evt_cybernetics
		is_triggered_only = yes
		situation = this
		location = target

		immediate = {
			hidden_effect = {
				set_situation_locked = yes
			}
		}

		after = {
			hidden_effect = {
				set_situation_locked = no
			}
		}

		option = {
			name = tec_cybernetic_path.10075.a
			custom_tooltip = tec_cybernetic_path.10075.a.tooltip
			icon = {
				icon = GFX_situation_approach_tec_cyb
				icon_background = GFX_situation_approach_bg_tec_blue
				text = tec_icon_text_neutral_outcome
			}
		}
	}
	situation_event = { # t1 90%
		id = tec_cybernetic_path.10090
		title = "tec_cybernetic_path.10090.name"
		desc = "tec_cybernetic_path.10090.desc"

		picture = GFX_evt_scientific_experiments
		is_triggered_only = yes
		situation = this
		location = target

		immediate = {
			hidden_effect = {
				set_situation_locked = yes
			}
		}

		after = {
			hidden_effect = {
				set_situation_locked = no
			}
		}

		option = {
			name = tec_cybernetic_path.10090.a
			custom_tooltip = tec_cybernetic_path.10090.a.tooltip
			icon = {
				icon = GFX_situation_approach_tec_cyb
				icon_background = GFX_situation_approach_bg_yellow
				text = tec_icon_text_neutral_outcome
			}
			hidden_effect = {
				owner = {
					set_country_flag = tec_cybernetic_submodule_lifespan
				}
			}
		}
		option = {
			name = tec_cybernetic_path.10090.b
			custom_tooltip = tec_cybernetic_path.10090.b.tooltip
			icon = {
				icon = GFX_situation_approach_tec_cyb
				icon_background = GFX_situation_approach_bg_yellow
				text = tec_icon_text_neutral_outcome
			}
			hidden_effect = {
				owner = {
					set_country_flag = tec_cybernetic_submodule_warfare
				}
			}
		}
		option = {
			name = tec_cybernetic_path.10090.c
			custom_tooltip = tec_cybernetic_path.10090.c.tooltip
			icon = {
				icon = GFX_situation_approach_tec_cyb
				icon_background = GFX_situation_approach_bg_yellow
				text = tec_icon_text_neutral_outcome
			}
			hidden_effect = {
				owner = {
					set_country_flag = tec_cybernetic_submodule_survival
				}
			}
		}
		option = {
			name = tec_cybernetic_path.10090.d
			custom_tooltip = tec_cybernetic_path.10090.d.tooltip
			icon = {
				icon = GFX_situation_approach_tec_cyb
				icon_background = GFX_situation_approach_bg_yellow
				text = tec_icon_text_neutral_outcome
			}
			hidden_effect = {
				owner = {
					set_country_flag = tec_cybernetic_submodule_recycling
				}
			}
		}
		option = {
			name = tec_cybernetic_path.10090.e
			custom_tooltip = tec_cybernetic_path.10090.e.tooltip
			icon = {
				icon = GFX_situation_approach_tec_cyb
				icon_background = GFX_situation_approach_bg_yellow
				text = tec_icon_text_neutral_outcome
			}
			hidden_effect = {
				owner = {
					set_country_flag = tec_cybernetic_submodule_construction
				}
			}
		}
		option = {
			name = tec_cybernetic_path.10090.f
			custom_tooltip = tec_cybernetic_path.10090.f.tooltip
			icon = {
				icon = GFX_situation_approach_tec_cyb
				icon_background = GFX_situation_approach_bg_yellow
				text = tec_icon_text_neutral_outcome
			}
			hidden_effect = {
				owner = {
					set_country_flag = tec_cybernetic_submodule_knowledge
				}
			}
		}
	}
# /

# --------------- T1 finish
country_event = { # T1 Situation finished - No Hivemind
	id = tec_cybernetic_path.105
	title = "tec_cybernetic_path.105.name"
	desc = {
		text = "tec_cybernetic_path.105.desc"
		trigger = {
			is_regular_empire = yes
			tec_has_cybernetic_ascension_origin = no
		}
	}
	desc = {
		text = "tec_cybernetic_path.105.desc.hive"
		trigger = {
			is_hive_empire = yes
			NOR = {
				tec_is_cyberhive = yes
				tec_has_cybernetic_ascension_origin = yes
			}
		}
	}
	desc = {
		text = "tec_cybernetic_path.105.desc.cyborg"
		trigger = {
			is_regular_empire = yes
			tec_has_cybernetic_ascension_origin = yes
		}
	}
	desc = {
		text = "tec_cybernetic_path.105.desc.cyborg.gestalt"
		trigger = {
			is_regular_empire = no
			OR = {
				has_valid_civic = civic_machine_assimilator
				tec_is_cyberhive = yes
				tec_has_cybernetic_ascension_origin = yes
			}
		}
	}
	picture = GFX_evt_scientific_experiments
	show_sound = event_the_flesh_is_weak
	trackable = yes

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			# First step finished
			set_country_flag = tec_cybernetic_path_unlocked_tradition_1
			set_country_flag = tec_cybernetic_t1_assimilation
			set_country_flag = cyborg_empire
			# Create cyborgs
			if = {
				limit = {
					is_machine_empire = no
				}
				tec_create_cybernetic_species = yes
			}
			# TO DO create specific leader ascension trait handler
			every_owned_leader = {
				add_leader_traits_after_modification = yes
				remove_leader_traits_after_modification = yes
			}
			every_pool_leader = {
				add_leader_traits_after_modification = yes
				remove_leader_traits_after_modification = yes
			}
			# Fear of the Dark Separatists - Outraged
				if = {
					limit = {
						any_planet_within_border = {
							has_planet_flag = fotd_seperatist_planet@root
							owner = {
								has_country_flag = fotd_seperatist_country@root
							}
						}
					}
					country_event = { id = origin.6096 days = 10 random = 10 }
				}
			# /
			fire_on_action = { on_action = tec_ascension_situation_finished }
		}
	}

	after = {
		hidden_effect = {
			if = {
				limit = {
					is_hive_empire = yes
					tec_is_cyberhive = no
				}
				country_event = {
					id = tec_cybernetic_path.10501
				}
			}
			else = {
				# Announcement
				if = {
					limit = {	# Prevents FE and alike from triggering the announce
						NOT = {
							has_country_flag = tec_advanced_ascension
						}
					}
					every_country = {
						limit = {
							is_ai = no
							NOR = {
								is_same_value = root
								# TO DO policy for muting other empire things 
								has_country_flag = tec_mute_empire_announces
							}
							has_communications = root
							root = {
								is_primitive = no
							}
						}
						country_event = {
							id = tec_cybernetic_path.10510
							days = 5 
						}
					}
				}
			}
		}
	}
	
	option = {
		name = "tec_cybernetic_path.105.a"
		custom_tooltip = "tec_cybernetic_path.105.a.tooltip"
		hidden_effect = { # Gives the special project
			save_event_target_as = tec_cyber_1_owner
			set_country_flag = tec_cybernetic_path_unlocked_tradition_1
		}
	}
}

country_event = { # T1 Project finished - Hivemind (change of auth)
	id = tec_cybernetic_path.10501
	title = "tec_cybernetic_path.10501.name"
	desc = "tec_cybernetic_path.10501.desc"
	picture = GFX_evt_robot_assembly_plant
	show_sound = event_the_flesh_is_weak
	trackable = yes

	is_triggered_only = yes

	option = {
		name = "tec_cybernetic_path.10501.a"
		custom_tooltip = "tec_cybernetic_path.10501.a.tooltip"
		hidden_effect = {
			change_government = {
				authority = auth_tec_hive_cybernetic
				#remove_invalid_civics = yes
			}
			# Remove invalid effects
			if = {
				limit = {
					has_civic = civic_tec_hive_everevolving
				}
				force_remove_civic = civic_tec_hive_everevolving
				remove_modifier = modifier_tec_everevolving_primal
				remove_modifier = modifier_tec_everevolving_young
				remove_modifier = modifier_tec_everevolving_mature
				remove_modifier = modifier_tec_everevolving_venerable
			}
			if = {
				limit = {
					has_civic = civic_tec_hive_cerebrates
				}
				force_remove_civic = civic_tec_hive_cerebrates
			}
			if = {
				limit = {
					has_civic = civic_tec_hive_necrophage
				}
				force_remove_civic = civic_tec_hive_necrophage
			}
			if = {
				limit = {
					has_civic = civic_tec_hive_splicers
				}
				force_remove_civic = civic_tec_hive_splicers
				force_add_civic = civic_tec_hive_splicers_cyborg
			}
			if = {
				limit = {
					has_civic = civic_tec_hive_parasitic
				}
				force_remove_civic = civic_tec_hive_parasitic
				force_add_civic = civic_tec_hive_parasitic_cyborg
			}
			if = {
				limit = {
					has_civic = civic_tec_hive_frenzy
				}
				force_remove_civic = civic_tec_hive_frenzy
			}
			if = {
				limit = {
					has_civic = civic_tec_hive_neuraxial
				}
				force_remove_civic = civic_tec_hive_neuraxial
				force_add_civic = civic_tec_hive_neuraxial_cyborg
			}
			if = {
				limit = {
					has_civic = civic_tec_hive_node
				}
				force_remove_civic = civic_tec_hive_node
				force_add_civic = civic_tec_hive_node_cyborg
			}
			if = {
				limit = {
					has_civic = civic_tec_hive_necrophage
				}
				force_remove_civic = civic_tec_hive_necrophage
			}
			change_government = {
				authority = auth_tec_hive_cybernetic
				remove_invalid_civics = yes
			}
		}
	}

	option = {
		name = "tec_cybernetic_path.10501.b"
		custom_tooltip = "tec_cybernetic_path.10501.b.tooltip"
		trigger = { # Biohives are forced to change
			hidden_trigger = {
				tec_is_biohive = no
			}
		}
	}

	after = {
		hidden_effect = {
			# Announcement
			if = {
				limit = {	# Prevents FE and alike from triggering the announce
					NOT = {
						has_country_flag = tec_advanced_ascension
					}
				}
				every_country = {
					limit = {
						is_ai = no
						NOR = {
							is_same_value = root
							# TO DO policy for muting other empire things 
							has_country_flag = tec_mute_empire_announces
						}
						has_communications = root
						root = {
							is_primitive = no
						}
					}
					set_timed_country_flag = {
						flag = tec_hive_changed_to_cyberhive
						years = 1
					}
					country_event = {
						id = tec_cybernetic_path.10510
						days = 5 
					}
				}
			}
		}
		fire_on_action = { on_action = tec_ascension_situation_finished }
	}
}

country_event = { # T1 Notification for Other Nations
	id = tec_cybernetic_path.10510
	picture = GFX_evt_robot_assembly_plant
	show_sound = event_the_flesh_is_weak
	title = "tec_cybernetic_path.10510.name"
	desc = {
		text = tec_cybernetic_path.10510.desc
		trigger = {
			OR = {
				is_spiritualist = no
				AND = {
					is_spiritualist = yes
					tec_is_robot_lover_spiritualist = yes
				}
			}
			from = {
				is_hive_empire = no
			}
		}
	}
	desc = {
		text = tec_cybernetic_path.10510.spi.desc
		trigger = {
			OR = {
				has_ethic = ethic_spiritualist
				has_ethic = ethic_fanatic_spiritualist
			}
			tec_is_robot_lover_spiritualist = no
			from = {
				is_hive_empire = no
			}
		}
	}
	desc = {
		text = tec_cybernetic_path.10510.hive.desc
		trigger = {
			from = {
				is_hive_empire = yes
				NOT = {
					has_country_flag = tec_hive_changed_to_cyberhive
				}
			}
		}
	}
	desc = {
		text = tec_cybernetic_path.10510.hive.to.cyberhive.desc
		trigger = {
			from = {
				is_hive_empire = yes
				has_country_flag = tec_hive_changed_to_cyberhive
			}
		}
	}

	is_triggered_only = yes

	option = {
		name = "tec_cybernetic_path.10510.a"
	}
	option = {
		name = "tec_cybernetic_path.10510.b"
		trigger = {
			OR = {
				has_ethic = ethic_spiritualist
				has_ethic = ethic_fanatic_spiritualist
			}
			tec_is_robot_lover_spiritualist = no
		}
	}
	option = {
		name = "tec_cybernetic_path.10510.c"
		trigger = {
			OR = {
				is_machine_empire = yes
				is_synthetic_empire = yes
			}
		}
	}
	option = {
		name = "tec_cybernetic_path.10510.d"
		trigger = {
			OR = {
				is_cyborg_empire = yes
				tec_is_cyberhive = yes
			}
		}
	}
	option = {
		name = "tec_cybernetic_path.10510.e"
		trigger = {
			OR = {
				has_valid_civic = civic_tec_regular_machine_cult
				has_valid_civic = civic_tec_regular_occultist
			}
		}
	}
	option = {
		name = "tec_cybernetic_path.10510.f"
		trigger = {
			OR = {
				has_valid_civic = civic_machine_terminator
				has_valid_civic = civic_hive_devouring_swarm
				has_valid_civic = civic_fanatic_purifiers
				is_at_war_with = from
			}
		}
	}
}

# --------------- T2 Gating
country_event = { # Cybernetic T2 Picked - Cybernetic fascination
	id = tec_cybernetic_path.200
	title = "tec_cybernetic_path.200.name"
	desc = {
		text = tec_cybernetic_path.200.desc
		trigger = {
			is_hive_empire = no
			is_machine_empire = no
		}
	}
	desc = {
		text = tec_cybernetic_path.200.desc_hive
		trigger = {
			is_hive_empire = yes
		}
	}
	desc = {
		text = tec_cybernetic_path.200.desc_machine
		trigger = {
			is_machine_empire = yes
		}
	}
	picture = GFX_evt_cybernetics
	show_sound = event_the_flesh_is_weak
	trackable = yes

	is_triggered_only = yes

	immediate = {
		save_event_target_as = tec_temp_country
		event_target:tec_temp_country = {
			start_situation = {
				type = situation_tec_cybernetic_path_gate
				target = event_target:tec_temp_country.capital_scope
				effect = {
					save_event_target_as = new_situation
				}
			}
			event_target:new_situation = {
				set_situation_locked = no
				set_situation_approach = situation_approach_tec_cybernetic_path_gate_standard
			}
		}
	}
	option = {
		name = "tec_cybernetic_path.200.a"
		custom_tooltip = tec_cybernetic_path.200.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_cyb
			icon_background = GFX_situation_approach_bg_green
			text = tec_icon_text_slow_approach
		}
		hidden_effect = {
			event_target:new_situation = {
				set_situation_locked = no
				set_situation_approach = situation_approach_tec_cybernetic_path_gate_slow
			}
		}
	}
	option = {
		name = "tec_cybernetic_path.200.b"
		custom_tooltip = tec_cybernetic_path.200.b.tooltip
		icon = {
			icon = GFX_situation_approach_tec_cyb
			icon_background = GFX_situation_approach_bg_yellow
			text = tec_icon_text_neutral_approach
		}
		hidden_effect = {
			event_target:new_situation = {
				set_situation_locked = no
				set_situation_approach = situation_approach_tec_cybernetic_path_gate_standard
			}
		}
	}
	option = {
		name = "tec_cybernetic_path.200.c"
		custom_tooltip = tec_cybernetic_path.200.c.tooltip
		icon = {
			icon = GFX_situation_approach_tec_cyb
			icon_background = GFX_situation_approach_bg_red
			text = tec_icon_text_fast_approach
		}
		hidden_effect = {
			event_target:new_situation = {
				set_situation_locked = no
				set_situation_approach = situation_approach_tec_cybernetic_path_gate_fast
			}
		}
	}
}

situation_event = { # Cyb A - 25% - Main cyb
	id = tec_cybernetic_path.20025
	title = "tec_cybernetic_path.20025.name"
	desc = "tec_cybernetic_path.20025.desc"

	picture = GFX_evt_cybernetics
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_cybernetic_path.20025.a
		custom_tooltip = tec_cybernetic_path.20025.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_cyb
			icon_background = GFX_situation_approach_bg_yellow
			text = tec_icon_text_good_outcome
		}
	}
}
situation_event = { # Cyb A - 50% - Replicants
	id = tec_cybernetic_path.20050
	title = "tec_cybernetic_path.20050.name"
	desc = "tec_cybernetic_path.20050.desc"

	picture = GFX_evt_cybernetics
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_cybernetic_path.20050.a
		custom_tooltip = tec_cybernetic_path.20050.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_cyb
			icon_background = GFX_situation_approach_bg_yellow
			text = tec_icon_text_good_outcome
		}
	}
}
situation_event = { # Cyb A - 75% - Cyberpsi
	id = tec_cybernetic_path.20075
	title = "tec_cybernetic_path.20075.name"
	desc = "tec_cybernetic_path.20075.desc"

	picture = GFX_evt_cybernetics
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_cybernetic_path.20075.a
		custom_tooltip = tec_cybernetic_path.20075.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_cyb
			icon_background = GFX_situation_approach_bg_yellow
			text = tec_icon_text_good_outcome
		}
	}
}

# Halfway empire situation events

# Random situation events
situation_event = { # Good 1 A - Gives +25% output to 5 pops
	id = tec_cybernetic_path.20011
	title = "tec_cybernetic_path.20011.name"
	desc = "tec_cybernetic_path.20011.desc"

	picture = GFX_evt_society_research
	show_sound = event_laboratory_sound
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
			owner = {
				# Check organic species
				owner_main_species = {
					save_event_target_as = tec_target_species
				}
				# Check planet
				random_owned_planet = {
					limit = {
						any_owned_species = {
							is_same_species = event_target:tec_target_species
						}
					}
					save_event_target_as = tec_target_planet
				}
			}
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_cybernetic_path.20011.a
		custom_tooltip = tec_cybernetic_path.20011.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_cyb
			icon_background = GFX_situation_approach_bg_green
			text = tec_icon_text_good_outcome
		}
		hidden_effect = {
			if = {
				limit = {
					situation_progress < 95
				}
				add_situation_progress = 5
			}
			event_target:tec_target_planet = {
				while = {
					count = 5
					random_owned_pop = {
						limit = {
							is_same_species = event_target:tec_target_species
							NOT = {
								has_modifier = tec_cyb_good_pop
							}
						}
						add_modifier = {
							modifier = tec_cyb_good_pop
							years = 1
						}
					}
				}
				
			}
		}
	}
}
situation_event = { # Good 2 A - Gives +10% 1 year planet output
	id = tec_cybernetic_path.20012
	title = "tec_cybernetic_path.20012.name"
	desc = "tec_cybernetic_path.20012.desc"

	picture = GFX_evt_society_research
	show_sound = event_laboratory_sound
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
			owner = {
				# Check organic species
				owner_main_species = {
					save_event_target_as = tec_target_species
				}
				# Check planet
				random_owned_planet = {
					limit = {
						any_owned_species = {
							is_same_species = event_target:tec_target_species
						}
					}
					save_event_target_as = tec_target_planet
				}
			}
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_cybernetic_path.20012.a
		custom_tooltip = tec_cybernetic_path.20012.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_cyb
			icon_background = GFX_situation_approach_bg_green
			text = tec_icon_text_good_outcome
		}
		hidden_effect = {
			if = {
				limit = {
					situation_progress < 95
				}
				add_situation_progress = 5
			}
			event_target:tec_target_planet = {
				add_modifier = {
					modifier = pm_tec_cyb_good_planet
					years = 1
				}
			}
		}
	}
}

situation_event = { # Bad 1 A - Cyb failure kills 1 pop and adds debuff
	id = tec_cybernetic_path.20021
	title = "tec_cybernetic_path.20021.name"
	desc = "tec_cybernetic_path.20021.desc"

	picture = GFX_evt_emergency_workers
	show_sound = event_life_support_fail
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
			owner = {
				# Check organic species
				owner_main_species = {
					save_event_target_as = tec_target_species
				}
				# Check planet
				random_owned_planet = {
					limit = {
						any_owned_species = {
							is_same_species = event_target:tec_target_species
						}
					}
					save_event_target_as = tec_target_planet
				}
			}
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_cybernetic_path.20021.a
		custom_tooltip = tec_cybernetic_path.20021.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_ai
			icon_background = GFX_situation_approach_bg_red
			text = tec_icon_text_bad_outcome
		}
		hidden_effect = {
			if = {
				limit = {
					situation_progress > 5
				}
				add_situation_progress = -5
			}
			event_target:tec_target_planet = {
				random_owned_pop = {
					limit = {
						is_same_species = event_target:tec_target_species
					}
					kill_pop = yes
				}
				add_modifier = {
					modifier = pm_tec_cyb_bad_planet
					years = 1
				}
			}
		}
	}
}
situation_event = { # Bad 2 A - Cyb ai failure debuff on pops
	id = tec_cybernetic_path.20022
	title = "tec_cybernetic_path.20022.name"
	desc = "tec_cybernetic_path.20022.desc"

	picture = GFX_evt_scientific_experiments
	show_sound = event_vivisection
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
			owner = {
				# Check organic species
				owner_main_species = {
					save_event_target_as = tec_target_species
				}
				# Check planet
				random_owned_planet = {
					limit = {
						any_owned_species = {
							is_same_species = event_target:tec_target_species
						}
					}
					save_event_target_as = tec_target_planet
				}
			}
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_cybernetic_path.20022.a
		custom_tooltip = tec_cybernetic_path.20022.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_ai
			icon_background = GFX_situation_approach_bg_red
			text = tec_icon_text_bad_outcome
		}
		hidden_effect = {
			if = {
				limit = {
					situation_progress > 5
				}
				add_situation_progress = -5
			}
			event_target:tec_target_planet = {
				while = {
					count = 5
					random_list = {
						33 = {
							# Safe i guess?
						}
						66 = {
							random_owned_pop = {
								limit = {
									is_same_species = event_target:tec_target_species
									NOT = {
										has_modifier = tec_cyb_bad_pop
									}
								}
								add_modifier = {
									modifier = tec_cyb_bad_pop
									years = 1
								}
							}
						}
					}
				}
			}
		}
	}
}
situation_event = { # Bad 3 A - Cyb failure bombs planet
	id = tec_cybernetic_path.20023
	title = "tec_cybernetic_path.20023.name"
	desc = "tec_cybernetic_path.20023.desc"

	picture = GFX_evt_nuclear_explosion
	show_sound = event_super_explosion
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
			owner = {
				# Check organic species
				owner_main_species = {
					save_event_target_as = tec_target_species
				}
				# Check planet
				random_owned_planet = {
					limit = {
						any_owned_species = {
							is_same_species = event_target:tec_target_species
						}
					}
					save_event_target_as = tec_target_planet
				}
			}
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_cybernetic_path.20023.a
		custom_tooltip = tec_cybernetic_path.20023.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_nuke
			icon_background = GFX_situation_approach_bg_red
			text = tec_icon_text_bad_outcome
		}
		hidden_effect = {
			if = {
				limit = {
					situation_progress > 10
				}
				add_situation_progress = -10
			}
			event_target:tec_target_planet = {
				add_planet_devastation = 10
				while = {
					count = 5
					random_list = {
						33 = {
							# Safe i guess?
						}
						66 = {
							random_owned_pop = {
								limit = {
									is_same_species = event_target:tec_target_species
								}
								kill_pop = yes
							}
						}
					}
				}
			}
		}
	}
}

# --------------- T2 gating Finish
country_event = { # Situation finished
	id = tec_cybernetic_path.205
	title = "tec_cybernetic_path.205.name"
	desc = "tec_cybernetic_path.205.desc"

	picture = GFX_evt_cybernetics
	show_sound = event_synthetic_evolution
	is_triggered_only = yes

	option = {
		name = tec_cybernetic_path.205.a
		custom_tooltip = tec_cybernetic_path.205.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_ai
			icon_background = GFX_situation_approach_bg_tec_blue
			text = tec_icon_text_good_outcome
		}
		hidden_effect = {
			# Gate
			set_country_flag = tec_cybernetics_gate_completed
			# Safe
			owner_main_species = {
				save_event_target_as = tec_target_species
			}
			fire_on_action = { on_action = tec_ascension_situation_finished }
		}
	}
}

# --------------- T2 Pick
country_event = { # Cybernetic T2 Picked - Cybernetic Revolution
	id = tec_cybernetic_path.300
	title = "tec_cybernetic_path.300.name"
	desc = {
		text = tec_cybernetic_path.300.desc
		trigger = {
			is_hive_empire = no
			is_machine_empire = no
		}
	}
	desc = {
		text = tec_cybernetic_path.300.desc_hive
		trigger = {
			is_hive_empire = yes
		}
	}
	desc = {
		text = tec_cybernetic_path.300.desc_machine
		trigger = {
			is_machine_empire = yes
		}
	}
	picture = GFX_evt_cybernetics
	show_sound = event_synthetic_evolution
	trackable = yes

	is_triggered_only = yes

	immediate = {
		save_event_target_as = tec_temp_country
		event_target:tec_temp_country = {
			start_situation = {
				type = situation_tec_cybernetic_path_t2
				target = event_target:tec_temp_country.capital_scope
				effect = {
					save_event_target_as = new_situation
				}
			}
		}
	}
	option = {
		name = "tec_cybernetic_path.300.a"
		custom_tooltip = tec_cybernetic_path.300.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_cyb
			icon_background = GFX_situation_approach_bg_green
			text = tec_icon_text_slow_approach
		}
		hidden_effect = {
			event_target:new_situation = {
				set_situation_locked = no
				set_situation_approach = situation_approach_tec_cybernetic_path_t2_slow
			}
		}
	}
	option = {
		name = "tec_cybernetic_path.300.c"
		custom_tooltip = tec_cybernetic_path.300.c.tooltip
		icon = {
			icon = GFX_situation_approach_tec_cyb
			icon_background = GFX_situation_approach_bg_red
			text = tec_icon_text_fast_approach
		}
		hidden_effect = {
			event_target:new_situation = {
				set_situation_locked = no
				set_situation_approach = situation_approach_tec_cybernetic_path_t2_fast
			}
		}
	}
}

# --------------- T2 Situation
situation_event = { # Cyb 2A - 25% - First batch of traits
	id = tec_cybernetic_path.30025
	title = "tec_cybernetic_path.30025.name"
	desc = "tec_cybernetic_path.30025.desc"

	picture = GFX_evt_cybernetics
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_cybernetic_path.30025.a
		custom_tooltip = tec_cybernetic_path.30025.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_cyb
			icon_background = GFX_situation_approach_bg_yellow
			text = tec_icon_text_good_outcome
		}
	}
}
situation_event = { # Cyb 2A - 50% - 2nd batch of traits
	id = tec_cybernetic_path.30050
	title = "tec_cybernetic_path.30050.name"
	desc = "tec_cybernetic_path.30050.desc"

	picture = GFX_evt_cybernetics
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_cybernetic_path.30050.a
		custom_tooltip = tec_cybernetic_path.30050.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_cyb
			icon_background = GFX_situation_approach_bg_yellow
			text = tec_icon_text_good_outcome
		}
	}
}
situation_event = { # Cyb 2A - 75% - Second batch of traits
	id = tec_cybernetic_path.30075
	title = "tec_cybernetic_path.30075.name"
	desc = "tec_cybernetic_path.30075.desc"

	picture = GFX_evt_cybernetics
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_cybernetic_path.30075.a
		custom_tooltip = tec_cybernetic_path.30075.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_cyb
			icon_background = GFX_situation_approach_bg_yellow
			text = tec_icon_text_good_outcome
		}
	}
}
# Random situation events
situation_event = { # Good 1 2A - Improved autoevolution - Increases speed
	id = tec_cybernetic_path.30011
	title = "tec_cybernetic_path.30011.name"
	desc = "tec_cybernetic_path.30011.desc"

	picture = GFX_evt_society_research
	show_sound = event_laboratory_sound
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
			owner = {
				# Check organic species
				owner_main_species = {
					save_event_target_as = tec_target_species
				}
				# Check planet
				random_owned_planet = {
					limit = {
						any_owned_species = {
							is_same_species = event_target:tec_target_species
						}
					}
					save_event_target_as = tec_target_planet
				}
			}
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_cybernetic_path.30011.a
		custom_tooltip = tec_cybernetic_path.30011.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_cyb
			icon_background = GFX_situation_approach_bg_green
			text = tec_icon_text_good_outcome
		}
		hidden_effect = {
			if = {
				limit = {
					situation_progress < 95
				}
				add_situation_progress = 5
			}
			set_timed_situation_flag = {
				flag = tec_situation_bonus_speed
				years = 1
			}
		}
	}
}
situation_event = { # Good 2 2A - 5 pops gain a permanent bonus
	id = tec_cybernetic_path.30012
	title = "tec_cybernetic_path.30012.name"
	desc = "tec_cybernetic_path.30012.desc"

	picture = GFX_evt_society_research
	show_sound = event_laboratory_sound
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
			owner = {
				# Check organic species
				owner_main_species = {
					save_event_target_as = tec_target_species
				}
				# Check planet
				random_owned_planet = {
					limit = {
						any_owned_species = {
							is_same_species = event_target:tec_target_species
						}
					}
					save_event_target_as = tec_target_planet
				}
			}
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_cybernetic_path.30012.a
		custom_tooltip = tec_cybernetic_path.30012.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_cyb
			icon_background = GFX_situation_approach_bg_green
			text = tec_icon_text_good_outcome
		}
		hidden_effect = {
			if = {
				limit = {
					situation_progress < 89
				}
				add_situation_progress = 10
			}
			event_target:tec_target_planet = {
				while = {
					count = 5
					random_owned_pop = {
						limit = {
							is_same_species = event_target:tec_target_species
							NOT = {
								has_modifier = tec_cyb_good_pop
							}
						}
						add_modifier = {
							modifier = tec_cyb_good_pop
						}
					}
				}
			}
		}
	}
}

situation_event = { # Bad 1 2A - Rebels automodifies themselves - add crime
	id = tec_cybernetic_path.30021
	title = "tec_cybernetic_path.30021.name"
	desc = "tec_cybernetic_path.30021.desc"

	picture = GFX_evt_emergency_workers
	show_sound = event_life_support_fail
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
			owner = {
				# Check organic species
				owner_main_species = {
					save_event_target_as = tec_target_species
				}
				# Check planet
				random_owned_planet = {
					limit = {
						any_owned_species = {
							is_same_species = event_target:tec_target_species
						}
					}
					save_event_target_as = tec_target_planet
				}
			}
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_cybernetic_path.30021.a
		custom_tooltip = tec_cybernetic_path.30021.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_cyb
			icon_background = GFX_situation_approach_bg_red
			text = tec_icon_text_bad_outcome
		}
		hidden_effect = {
			if = {
				limit = {
					situation_progress > 5
				}
				add_situation_progress = -5
			}
			event_target:tec_target_planet = {
				add_modifier = {
					modifier = pm_tec_cyb_rebel_planet
					years = 2
				}
			}
		}
	}
}
situation_event = { # Bad 2 2A - Terrorist attack implants
	id = tec_cybernetic_path.30022
	title = "tec_cybernetic_path.30022.name"
	desc = "tec_cybernetic_path.30022.desc"

	picture = GFX_evt_scientific_experiments
	show_sound = event_vivisection
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
			owner = {
				# Check organic species
				owner_main_species = {
					save_event_target_as = tec_target_species
				}
				# Check planet
				random_owned_planet = {
					limit = {
						any_owned_species = {
							is_same_species = event_target:tec_target_species
						}
					}
					save_event_target_as = tec_target_planet
				}
			}
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_cybernetic_path.30022.a
		custom_tooltip = tec_cybernetic_path.30022.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_cyb
			icon_background = GFX_situation_approach_bg_red
			text = tec_icon_text_bad_outcome
		}
		hidden_effect = {
			if = {
				limit = {
					situation_progress > 10
				}
				add_situation_progress = -10
			}
			event_target:tec_target_planet = {
				add_modifier = {
					modifier = pm_tec_cyb_crime_planet
					years = 1
				}
			}
		}
	}
}
# --------------- T2 Finish
country_event = { # Situation finished
	id = tec_cybernetic_path.305
	title = "tec_cybernetic_path.305.name"
	desc = "tec_cybernetic_path.305.desc"

	picture = GFX_evt_cybernetics
	show_sound = event_synthetic_evolution
	is_triggered_only = yes

	option = {
		name = tec_cybernetic_path.305.a
		custom_tooltip = tec_cybernetic_path.305.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_cyb
			icon_background = GFX_situation_approach_bg_tec_blue
			text = tec_icon_text_good_outcome
		}
		hidden_effect = {
			save_event_target_as = tec_temp_cybernetic_owner
			enable_special_project = {
				name = TEC_FINAL_ADVANCED_CYBERNETIC_PROJECT
				location = capital_scope
				owner = root
			}
		}
	}
}
country_event = {
	id = tec_cybernetic_path.310
	title = "tec_cybernetic_path.310.name"
	desc = "tec_cybernetic_path.310.desc"
	picture = GFX_evt_cybernetics
	show_sound = event_the_flesh_is_weak
	trackable = yes

	is_triggered_only = yes

	option = {
		name = "tec_cybernetic_path.310.a"
		custom_tooltip = "tec_cybernetic_path.310.a.tooltip"
		hidden_effect = {
			# Path finished
			set_country_flag = tec_cybernetic_t2_path_finished
			# Alter species
			tec_create_advanced_cybernetic_species = yes
			# TO DO create specific leader ascension trait handler
			every_owned_leader = {
				add_leader_traits_after_modification = yes
				remove_leader_traits_after_modification = yes
			}
			every_pool_leader = {
				add_leader_traits_after_modification = yes
				remove_leader_traits_after_modification = yes
			}
			# Flags
			set_country_flag = tec_allow_t2_cybernetics
			set_country_flag = tec_cybernetic_t2_assimilation
			
			fire_on_action = { on_action = tec_ascension_situation_finished }
		}
	}
}

# Synth path
# ------------------------------------------------------------ tec_synth_path.xxx
namespace = tec_synth_path

# --------------- T1
country_event = { # T1 picked
	id = tec_synth_path.100
	title = "tec_synth_path.100.name"
	desc = "tec_synth_path.100.desc"
	picture = GFX_evt_tec_synthetic_first
	show_sound = event_synthetic_evolution
	trackable = yes

	is_triggered_only = yes

	option = {
		name = "tec_synth_path.100.a"
		custom_tooltip = "tec_synth_path.100.a.tooltip"
		icon = {
			icon = GFX_situation_approach_tec_ai
			icon_background = GFX_situation_approach_bg_tec_blue
			text = tec_icon_text_neutral_approach
		}
		hidden_effect = {
			save_event_target_as = tec_temp_country
			event_target:tec_temp_country = {
				start_situation = {
					type = situation_tec_synth_path_t1
					target = event_target:tec_temp_country.capital_scope
					effect = {
						save_event_target_as = new_situation
					}
				}
				if = {
					limit = {
						has_technology = tech_synthetic_workers
						has_technology = tech_synthetic_leaders
					}
					event_target:new_situation = {
						set_situation_locked = no
						set_situation_approach = situation_approach_tec_synth_path_t1_standard
					}
				} else = {
					event_target:new_situation = {
						set_situation_locked = no
						set_situation_approach = situation_approach_tec_synth_path_t1_notech
					}
				}

			}
		}
	}
}

# T1 situation
	#tec_synth_path.10001
	# SYN2 Situation - 25% - The first prototypes
	#tec_synth_path.10002
	# SYN2 Situation - 50% - Creating the change
	#tec_synth_path.10003
	# SYN2 Situation - 75% - A new form
	#tec_synth_path.10005
	# Random events
	# SYN2 Situation - Bad outcome # 1 - Fear
	#tec_synth_path.10011
	# SYN2 Situation - Bad outcome # 2 - Protests
	#tec_synth_path.10012
	# SYN2 Situation - Bad outcome # 3 - Insurrection
	#tec_synth_path.10013
	# SYN2 Situation - Good outcome # 1 - to do
	#tec_synth_path.10021
	# SYN2 Situation - Good outcome # 2 - to do
	#tec_synth_path.10022
	# SYN2 Situation - Good outcome # 3 - to do
	#tec_synth_path.10023
# /
situation_event = { # Synth 1 - 10% - Pick synths or new bodies
	id = tec_synth_path.10010
	title = "tec_synth_path.10010.name"
	desc = "tec_synth_path.10010.desc"

	picture = GFX_evt_tec_synthetic_first
	is_triggered_only = yes
	situation = this
	location = target

	trigger = {
		owner = {
			any_owned_species = {
				has_trait = trait_mechanical
				OR = {
					has_species_flag = mechanical_species@prev
					has_species_flag = mechanical_species_fake_@prev
				}
			}
		}
	}
	immediate = {
		hidden_effect = {
			set_situation_locked = yes
			owner = {
				random_owned_species = {
					limit = {
						has_trait = trait_mechanical
						OR = {
							has_species_flag = mechanical_species@prev
							has_species_flag = mechanical_species_fake_@prev
						}
					}
					save_event_target_as = tec_robot_unit
				}
			}
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
			owner = {
				# Fear of the Dark Separatists - Scared
					if = {
						limit = {
							any_planet_within_border = {
								has_planet_flag = fotd_seperatist_planet@root
								owner = {
									has_country_flag = fotd_seperatist_country@root
								}
							}
						}
						country_event = { id = origin.6099 days = 10 random = 10 }
					}
				# /
			}
		}
	}

	option = {
		name = tec_synth_path.10010.a
		custom_tooltip = tec_synth_path.10010.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_gear
			icon_background = GFX_situation_approach_bg_tec_blue
			text = tec_icon_text_good_outcome
		}
		hidden_effect = {
			owner = {
				set_country_flag = tec_synth_new_bodies
			}
		}
	}
	option = {
		name = tec_synth_path.10010.b
		custom_tooltip = tec_synth_path.10010.b.tooltip
		icon = {
			icon = GFX_situation_approach_tec_ai
			icon_background = GFX_situation_approach_bg_yellow
			text = tec_icon_text_neutral_outcome
		}
		trigger = {
			owner = {
				any_owned_species = {
					has_trait = trait_mechanical
					OR = {
						has_species_flag = mechanical_species@prev
						has_species_flag = mechanical_species_fake_@prev
					}
				}
			}
		}
		hidden_effect = {
			owner = {
				set_country_flag = tec_synth_use_robots
				random_owned_species = {
					limit = {
						has_trait = trait_mechanical
						OR = {
							has_species_flag = mechanical_species@prev
							has_species_flag = mechanical_species_fake_@prev
						}
					}
					set_species_flag = tec_synth_host_species_@prev
				}
			}
		}
	}
}
situation_event = { # Synth 1 - 20% - Theseus paradox
	id = tec_synth_path.10020
	title = "tec_synth_path.10020.name"
	desc = "tec_synth_path.10020.desc"

	picture = GFX_evt_tec_synthetic_recognition
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_synth_path.10020.a
		custom_tooltip = tec_synth_path.10020.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_cyb
			icon_background = GFX_situation_approach_bg_yellow
			text = tec_icon_text_good_outcome
		}
		hidden_effect = {
			owner = {
				set_country_flag = tec_synth_slow_transition
			}
		}
	}

	option = {
		name = tec_synth_path.10020.b
		custom_tooltip = tec_synth_path.10020.b.tooltip
		icon = {
			icon = GFX_situation_approach_tec_ai
			icon_background = GFX_situation_approach_bg_yellow
			text = tec_icon_text_good_outcome
		}
		hidden_effect = {
			owner = {
				set_country_flag = tec_synth_fast_transition
			}
		}
	}
}
situation_event = { # Synth 1 - 30% - First among our kind
	id = tec_synth_path.10030
	title = "tec_synth_path.10030.name"
	desc = "tec_synth_path.10030.desc"

	picture = GFX_evt_tec_synthetic_first
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_synth_path.10030.a
		custom_tooltip = tec_synth_path.10030.a.tooltip
		icon = {
			icon = GFX_situation_approach_pop
			icon_background = GFX_situation_approach_bg_green
			text = tec_icon_text_good_path
		}
		hidden_effect = {
			owner = {
				random_owned_species = {
					limit = {
						has_citizenship_type = {
							type = citizenship_full
							country = prev
						}
					}
					save_event_target_as = tec_target_species
				}
				random_owned_pop = {
					limit = {
						is_same_species = event_target:tec_target_species
					}
					kill_pop = yes
				}
				set_country_flag = tec_synth_voluntary_subject
			}
		}
	}
	option = {
		name = tec_synth_path.10030.b
		custom_tooltip = tec_synth_path.10030.b.tooltip
		icon = {
			icon = GFX_situation_approach_kneel
			icon_background = GFX_situation_approach_bg_yellow
			text = tec_icon_text_bad_path
		}
		trigger = {
			owner = {
				OR = {
					is_authoritarian = yes
					is_xenophobe = yes
					is_elitist = yes
				}
			}
		}
		hidden_effect = {
			owner = {
				random_owned_species = {
					limit = {
						OR = {
							has_citizenship_type = {
								type = citizenship_full
								country = prev
							}
							has_citizenship_type = {
								type = citizenship_limited
								country = prev
							}
						}
					}
					save_event_target_as = tec_target_species
				}
				random_owned_pop = {
					limit = {
						is_same_species = event_target:tec_target_species
					}
					kill_pop = yes
				}
				set_country_flag = tec_synth_forced_subject
			}
		}
	}
	option = {
		name = tec_synth_path.10030.c
		custom_tooltip = tec_synth_path.10030.c.tooltip
		icon = {
			icon = GFX_situation_approach_whip
			icon_background = GFX_situation_approach_bg_tec_orange
			text = tec_icon_text_bad_path
		}
		trigger = {
			owner = {
				any_owned_species = {
					has_citizenship_type = {
						type = citizenship_slavery
						country = prev
					}
				}
			}
		}
		hidden_effect = {
			owner = {
				random_owned_species = {
					limit = {
						has_citizenship_type = {
							type = citizenship_slavery
							country = prev
						}
					}
					save_event_target_as = tec_target_species
				}
				random_owned_pop = {
					limit = {
						is_same_species = event_target:tec_target_species
					}
					kill_pop = yes
				}
				set_country_flag = tec_synth_forced_subject
				set_country_flag = tec_synth_slave_subject
			}
		}
	}
	option = {
		name = tec_synth_path.10030.d
		custom_tooltip = tec_synth_path.10030.d.tooltip
		icon = {
			icon = GFX_situation_approach_tec_ai
			icon_background = GFX_situation_approach_bg_green
			text = tec_icon_text_neutral_path
		}
		hidden_effect = {
			owner = {
				set_country_flag = tec_synth_digital_subject
			}
		}
	}
}
situation_event = { # Synth 1 - 50% - First outcomes - Sorts subchains
	id = tec_synth_path.10050
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		random_list = {
			33 = {	# Good
				modifier = {
					factor = 0.3
					owner = {
						OR = {
							has_country_flag = tec_synth_use_robots
							has_country_flag = tec_synth_fast_transition
							has_country_flag = tec_synth_forced_subject
						}
					}
				}
				situation_event = {
					id = tec_synth_path.10051
				}
				owner = {
					set_country_flag = tec_synth_good_ending
				}
			}
			33 = {	# Neutral
				situation_event = {
					id = tec_synth_path.10052
				}
				owner = {
					set_country_flag = tec_synth_generic_ending
				}
			}
			33 = {	# Bad
				modifier = {
					factor = 0.3
					owner = {
						OR = {
							has_country_flag = tec_synth_new_bodies
							has_country_flag = tec_synth_slow_transition
							has_country_flag = tec_synth_voluntary_subject
						}
					}
				}
				situation_event = {
					id = tec_synth_path.10053
				}
				owner = {
					set_country_flag = tec_synth_bad_ending
				}
			}
		}
	}
}
situation_event = { # Synth 1 - 75% - Digital Perspective - Abstract of where the thing is going
	id = tec_synth_path.10075
	title = "tec_synth_path.10075.name"
	desc = {
		text = tec_synth_path.10075.desc.generic
		trigger = {
			owner = {
				has_country_flag = tec_synth_generic_ending
			}
		}
	}
	desc = {
		text = tec_synth_path.10075.desc.good
		trigger = {
			owner = {
				has_country_flag = tec_synth_good_ending
			}
		}
	}
	desc = {
		text = tec_synth_path.10075.desc.bad
		trigger = {
			owner = {
				has_country_flag = tec_synth_bad_ending
			}
		}
	}
	picture = GFX_evt_machine_sapience
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_synth_path.10075.a
		custom_tooltip = tec_synth_path.10075.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_cyb
			icon_background = GFX_situation_approach_bg_yellow
			text = tec_icon_text_good_outcome
		}
	}
}

# Halfway empire situation events
#situation_event = { # Post starting situation - Puppets as masters - 20101
#situation_event = { # Post starting situation - Theseus paradox - 20102

situation_event = { # Post 50% - Eyes in the mirror
	id = tec_synth_path.10051
	title = "tec_synth_path.10051.name"
	desc = "tec_synth_path.10051.desc"

	picture = GFX_evt_tec_synthetic_recognition
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_synth_path.10051.a
		custom_tooltip = tec_synth_path.10051.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_cyb
			icon_background = GFX_situation_approach_bg_yellow
			text = tec_icon_text_good_outcome
		}
	}
}
situation_event = { # Post 50% - A Ghost In a Shell 
	id = tec_synth_path.10052
	title = "tec_synth_path.10052.name"
	desc = "tec_synth_path.10052.desc"

	picture = GFX_evt_tec_synthetic_recognition
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_synth_path.10052.a
		custom_tooltip = tec_synth_path.10052.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_cyb
			icon_background = GFX_situation_approach_bg_yellow
			text = tec_icon_text_good_outcome
		}
	}
}
situation_event = { # Post 50% - Synthetic Pychosis 
	id = tec_synth_path.10053
	title = "tec_synth_path.10053.name"
	desc = "tec_synth_path.10053.desc"

	picture = GFX_evt_organic_oppression
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_synth_path.10053.a
		custom_tooltip = tec_synth_path.10053.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_cyb
			icon_background = GFX_situation_approach_bg_yellow
			text = tec_icon_text_good_outcome
		}
	}
}

# Random situation events
situation_event = { # Good 1 - Volunteers offer themselves (pre 50)
	id = tec_synth_path.10011
	title = "tec_synth_path.10011.name"
	desc = "tec_synth_path.10011.desc"

	picture = GFX_evt_scientific_experiments
	show_sound = event_laboratory_sound
	is_triggered_only = yes
	situation = this
	location = target

	trigger = {
		exists = owner
		owner = {
			has_technology = tech_synthetic_workers
			has_technology = tech_synthetic_leaders
		}
	}

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
			owner = {
				# Check organic species
				owner_main_species = {
					save_event_target_as = tec_target_species
				}
				# Check planet
				random_owned_planet = {
					limit = {
						any_owned_species = {
							is_same_species = event_target:tec_target_species
						}
					}
					save_event_target_as = tec_target_planet
				}
			}
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_synth_path.10011.a
		custom_tooltip = tec_synth_path.10011.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_ai
			icon_background = GFX_situation_approach_bg_tec_blue
			text = tec_icon_text_good_outcome
		}
		hidden_effect = {
			if = {
				limit = {
					situation_progress < 95
				}
				add_situation_progress = 5
			}
			set_timed_situation_flag = {
				flag = tec_situation_bonus_speed
				years = 1
			}
		}
	}
}
situation_event = { # Good 2 - First prototypes accelerate the process (post 50)
	id = tec_synth_path.10012
	title = "tec_synth_path.10012.name"
	desc = "tec_synth_path.10012.desc"

	picture = GFX_evt_scientific_experiments
	show_sound = event_laboratory_sound
	is_triggered_only = yes
	situation = this
	location = target

	trigger = {
		exists = owner
		owner = {
			has_technology = tech_synthetic_workers
			has_technology = tech_synthetic_leaders
		}
	}

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
			owner = {
				# Check organic species
				owner_main_species = {
					save_event_target_as = tec_target_species
				}
				# Check planet
				random_owned_planet = {
					limit = {
						any_owned_species = {
							is_same_species = event_target:tec_target_species
						}
					}
					save_event_target_as = tec_target_planet
				}
			}
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_synth_path.10012.a
		custom_tooltip = tec_synth_path.10012.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_ai
			icon_background = GFX_situation_approach_bg_tec_blue
			text = tec_icon_text_good_outcome
		}
		hidden_effect = {
			if = {
				limit = {
					situation_progress < 89
				}
				add_situation_progress = 10
			}
			event_target:tec_target_planet = {
				while = {
					count = 5
					random_owned_pop = {
						limit = {
							is_same_species = event_target:tec_target_species
							NOT = {
								has_modifier = tec_cyb_good_pop
							}
						}
						add_modifier = {
							modifier = tec_cyb_good_pop
						}
					}
				}
			}
		}
	}
}

situation_event = { # Bad 1 - Panic of change (pre 50)
	id = tec_synth_path.10021
	title = "tec_synth_path.10021.name"
	desc = "tec_synth_path.10021.desc"

	picture = GFX_evt_conclave
	show_sound = event_mystic_reveal_light
	is_triggered_only = yes
	situation = this
	location = target

	trigger = {
		exists = owner
		owner = {
			has_technology = tech_synthetic_workers
			has_technology = tech_synthetic_leaders
		}
	}

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
			owner = {
				# Check organic species
				owner_main_species = {
					save_event_target_as = tec_target_species
				}
				# Check planet
				random_owned_planet = {
					limit = {
						any_owned_species = {
							is_same_species = event_target:tec_target_species
						}
					}
					save_event_target_as = tec_target_planet
				}
			}
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_synth_path.10021.a
		custom_tooltip = tec_synth_path.10021.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_ai
			icon_background = GFX_situation_approach_bg_red
			text = tec_icon_text_bad_outcome
		}
		hidden_effect = {
			if = {
				limit = {
					situation_progress > 5
				}
				add_situation_progress = -5
			}
			event_target:tec_target_planet = {
				add_modifier = {
					modifier = pm_tec_cyb_rebel_planet
					years = 2
				}
			}
		}
	}
}
situation_event = { # Bad 2 - Sabotage of installations (post 50)
	id = tec_synth_path.10022
	title = "tec_synth_path.10022.name"
	desc = "tec_synth_path.10022.desc"

	picture = GFX_evt_night_raid
	show_sound = event_super_explosion
	is_triggered_only = yes
	situation = this
	location = target

	trigger = {
		exists = owner
		owner = {
			has_technology = tech_synthetic_workers
			has_technology = tech_synthetic_leaders
		}
	}

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
			owner = {
				# Check organic species
				owner_main_species = {
					save_event_target_as = tec_target_species
				}
				# Check planet
				random_owned_planet = {
					limit = {
						any_owned_species = {
							is_same_species = event_target:tec_target_species
						}
					}
					save_event_target_as = tec_target_planet
				}
			}
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_synth_path.10022.a
		custom_tooltip = tec_synth_path.10022.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_cyb
			icon_background = GFX_situation_approach_bg_red
			text = tec_icon_text_bad_outcome
		}
		hidden_effect = {
			if = {
				limit = {
					situation_progress > 10
				}
				add_situation_progress = -10
			}
			event_target:tec_target_planet = {
				add_modifier = {
					modifier = pm_tec_cyb_crime_planet
					years = 1
				}
			}
		}
	}
}

# Not implemented
situation_event = { # Bad 2 cont - Internal issues
	id = tec_synth_path.10122
	title = "tec_synth_path.10122.name"
	desc = "tec_synth_path.10122.desc"

	picture = GFX_evt_night_raid
	show_sound = event_super_explosion
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
			owner = {
				# Check organic species
				owner_main_species = {
					save_event_target_as = tec_target_species
				}
				# Check planet
				random_owned_planet = {
					limit = {
						any_owned_species = {
							is_same_species = event_target:tec_target_species
						}
					}
					save_event_target_as = tec_target_planet
				}
			}
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_synth_path.10122.a
		custom_tooltip = tec_synth_path.10122.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_cyb
			icon_background = GFX_situation_approach_bg_red
			text = tec_icon_text_bad_outcome
		}
		hidden_effect = {
			if = {
				limit = {
					situation_progress > 10
				}
				add_situation_progress = -10
			}
			event_target:tec_target_planet = {
				add_modifier = {
					modifier = pm_tec_cyb_crime_planet
					years = 1
				}
			}
		}
	}
}
situation_event = { # Bad 2 cont - Rebels attack planet
	id = tec_synth_path.10222
	title = "tec_synth_path.10222.name"
	desc = "tec_synth_path.10222.desc"

	picture = GFX_evt_night_raid
	show_sound = event_super_explosion
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
			owner = {
				# Check organic species
				owner_main_species = {
					save_event_target_as = tec_target_species
				}
				# Check planet
				random_owned_planet = {
					limit = {
						any_owned_species = {
							is_same_species = event_target:tec_target_species
						}
					}
					save_event_target_as = tec_target_planet
				}
			}
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_synth_path.10222.a
		custom_tooltip = tec_synth_path.10222.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_cyb
			icon_background = GFX_situation_approach_bg_red
			text = tec_icon_text_bad_outcome
		}
		hidden_effect = {
			if = {
				limit = {
					situation_progress > 10
				}
				add_situation_progress = -10
			}
			event_target:tec_target_planet = {
				add_modifier = {
					modifier = pm_tec_cyb_crime_planet
					years = 1
				}
			}
		}
	}
}

# Situation finished
country_event = { # Synthetic Evolution
	id = tec_synth_path.105
	title = "tec_synth_path.105.name"
	desc = "tec_synth_path.105.desc"

	picture = GFX_evt_tec_synthetic_first
	show_sound = event_synthetic_evolution
	is_triggered_only = yes

	immediate = {
		set_country_flag = synthetic_empire
	}

	option = {
		name = tec_synth_path.105.a
		custom_tooltip = tec_synth_path.105.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_ai
			icon_background = GFX_situation_approach_bg_tec_blue
			text = tec_icon_text_good_outcome
		}
		hidden_effect = {
			# Initial finished
			set_country_flag = tec_synth_path_unlocked_tradition_1
			# Alter species
			tec_create_synth_species = yes
			# TO DO create specific leader ascension trait handler
			every_owned_leader = {
				add_leader_traits_after_modification = yes
				remove_leader_traits_after_modification = yes
			}
			every_pool_leader = {
				add_leader_traits_after_modification = yes
				remove_leader_traits_after_modification = yes
			}
			# Flags
			set_country_flag = tec_synthetic_assimilation
				# Avoid cybogs not being assimilable
			remove_country_flag = tec_cybernetic_t1_assimilation
			remove_country_flag = tec_cybernetic_t2_assimilation
			# Features
			add_modifier = {
				modifier = modifier_tec_free_modification
				days = -1
			}
			fire_on_action = { on_action = tec_ascension_situation_finished }
			# Announcement
			if = {
				limit = {	# Prevents FE and alike from triggering the announce
					NOT = {
						has_country_flag = tec_advanced_ascension
					}
				}
				observer_event = { id = observer.4 }
				every_country = {
					limit = {
						is_ai = no
						NOR = {
							is_same_value = root
							# TO DO policy for muting other empire things 
							has_country_flag = tec_mute_empire_announces
						}
						has_communications = root
						root = {
							is_primitive = no
						}
					}
					country_event = { id = utopia.2555 days = 5 }
					country_event = { id = utopia.2556 days = 10 }
				}
				if = {
					limit = {
						any_country = {
							OR = {
								is_country_type = fallen_empire
								is_country_type = awakened_fallen_empire
							}
							has_ethic = ethic_fanatic_spiritualist
							has_communications = root
							root = {
								is_primitive = no
							}
							NOT = { is_same_value = root }
						}
					}
					random_country = {
						limit = {
							OR = {
								is_country_type = fallen_empire
								is_country_type = awakened_fallen_empire
							}
							has_ethic = ethic_fanatic_spiritualist
							has_communications = root
							root = {
								is_primitive = no
							}
							NOT = { is_same_value = root }
						}
						country_event = { id = utopia.2557 days = 15 }
					}
				}
				else = {
					random_country = {
						limit = {
							tec_is_default_country = yes
							has_ethic = ethic_fanatic_spiritualist
							NOT = {
								has_valid_civic = civic_tec_regular_machine_cult
							}
							has_communications = root
							root = {
								is_primitive = no
							}
							NOT = { is_same_value = root }
						}
						country_event = { id = utopia.2557 days = 15 }
					}
					random_country = {
						limit = {
							tec_is_default_country = yes
							is_spiritualist = yes
							has_valid_civic = civic_tec_regular_machine_cult
							has_communications = root
							root = {
								is_primitive = no
							}
							NOT = { is_same_value = root }
						}
						country_event = { id = utopia.25571 days = 15 }
					}
				}
			}	
			# Fear of the Dark Separatists - Outraged
				if = {
					limit = {
						any_planet_within_border = {
							has_planet_flag = fotd_seperatist_planet@root
							owner = {
								has_country_flag = fotd_seperatist_country@root
							}
						}
					}
					country_event = { id = origin.6100 days = 10 random = 10 }
				}
			# /
		}
	}
}

country_event = { # T1 Notification to other empires
	id = tec_synth_path.10501
	title = "tec_synth_path.10501.name"
	desc = "tec_synth_path.10501.desc"
	picture = GFX_evt_tec_synthetic_first
	show_sound = event_synthetic_evolution
	trackable = yes

	is_triggered_only = yes

	option = {
		name = "tec_synth_path.10501.a"
	}
}

# --------------- Gating
situation_event = { # Conscious Singularity
	id = tec_synth_path.200
	title = "tec_synth_path.200.name"
	desc = "tec_synth_path.200.desc"

	picture = GFX_evt_tec_synthetic_recognition
	show_sound = event_synthetic_evolution
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
		}
	}

	after = {
		hidden_effect = {
			destroy_situation = this
		}
	}

	option = {
		name = tec_synth_path.200.a
		custom_tooltip = tec_synth_path.200.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_ai
			icon_background = GFX_situation_approach_bg_tec_blue
			text = tec_icon_text_good_outcome
		}
		hidden_effect = {
			owner = {
				#set_country_flag = tec_u_c_mecha
				#set_country_flag = tec_u_c_bioimplants
				#set_country_flag = tec_u_c_worker
				#set_country_flag = tec_u_c_fashion
				#set_country_flag = tec_u_c_brain
				#set_country_flag = tec_u_c_intralink
				#set_country_flag = tec_u_c_mindless
				# Note: Trait unlock has been moved to the end of the chain
				# Safe
				owner_main_species = {
					save_event_target_as = tec_target_species
				}
			}
		}
	}
}

situation_event = { # Synth gate - 20% - T3 gating
	id = tec_synth_path.20020
	title = "tec_synth_path.20020.name"
	desc = "tec_synth_path.20020.desc"

	picture = GFX_evt_cybernetics
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_synth_path.20020.a
		custom_tooltip = tec_synth_path.20020.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_ai
			icon_background = GFX_situation_approach_bg_tec_blue
			text = tec_icon_text_good_outcome
		}
	}
}
situation_event = { # Synth gate - 40% - Changes of Perspective
	id = tec_synth_path.20040
	title = "tec_synth_path.20040.name"
	desc = "tec_synth_path.20040.desc"

	picture = GFX_evt_tec_synthetic_first
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_synth_path.20040.a
		custom_tooltip = tec_synth_path.20040.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_ai
			icon_background = GFX_situation_approach_bg_tec_blue
			text = tec_icon_text_good_outcome
		}
	}
}
situation_event = { # Synth gate - 60% - Forced Evolution
	id = tec_synth_path.20060
	title = "tec_synth_path.20060.name"
	desc = "tec_synth_path.20060.desc"

	picture = GFX_evt_tec_synthetic_first
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_synth_path.20060.desc.a
		custom_tooltip = tec_synth_path.20060.desc.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_ai
			icon_background = GFX_situation_approach_bg_tec_blue
			text = tec_icon_text_good_outcome
		}
	}
}
situation_event = { # Synth gate - 80% - Our Singularity
	id = tec_synth_path.20080
	title = "tec_synth_path.20080.name"
	desc = "tec_synth_path.20080.desc"

	picture = GFX_evt_tec_synthetic_first
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_synth_path.20080.desc.a
		custom_tooltip = tec_synth_path.20080.desc.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_ai
			icon_background = GFX_situation_approach_bg_yellow
			text = tec_icon_text_good_outcome
		}
	}
}

# Random situation events
situation_event = { # Good 1 - Ideas Becoming Reality
	id = tec_synth_path.20011
	title = "tec_synth_path.20011.name"
	desc = "tec_synth_path.20011.desc"

	picture = GFX_evt_surreal_visions
	show_sound = event_mystic_reveal_light
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
			owner = {
				# Check organic species
				owner_main_species = {
					save_event_target_as = tec_target_species
				}
				# Check planet
				random_owned_planet = {
					limit = {
						any_owned_species = {
							is_same_species = event_target:tec_target_species
						}
					}
					save_event_target_as = tec_target_planet
				}
			}
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_synth_path.20011.a
		custom_tooltip = tec_synth_path.20011.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_ai
			icon_background = GFX_situation_approach_bg_green
			text = tec_icon_text_good_outcome
		}
		hidden_effect = {
			if = {
				limit = {
					situation_progress < 95
				}
				add_situation_progress = 5
			}
			set_timed_situation_flag = {
				flag = tec_situation_bonus_speed
				years = 1
			}
		}
	}
}
situation_event = { # Good 2 - Realities Between Realities
	id = tec_synth_path.10012
	title = "tec_synth_path.10012.name"
	desc = "tec_synth_path.10012.desc"

	picture = GFX_evt_surreal_visions
	show_sound = event_mystic_reveal_light
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
			owner = {
				# Check organic species
				owner_main_species = {
					save_event_target_as = tec_target_species
				}
				# Check planet
				random_owned_planet = {
					limit = {
						any_owned_species = {
							is_same_species = event_target:tec_target_species
						}
					}
					save_event_target_as = tec_target_planet
				}
			}
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_synth_path.20012.a
		custom_tooltip = tec_synth_path.20012.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_ai
			icon_background = GFX_situation_approach_bg_green
			text = tec_icon_text_good_outcome
		}
		hidden_effect = {
			if = {
				limit = {
					situation_progress < 89
				}
				add_situation_progress = 10
			}
			event_target:tec_target_planet = {
				while = {
					count = 5
					random_owned_pop = {
						limit = {
							is_same_species = event_target:tec_target_species
							NOT = {
								has_modifier = tec_cyb_good_pop
							}
						}
						add_modifier = {
							modifier = tec_cyb_good_pop
						}
					}
				}
			}
		}
	}
}

situation_event = { # Bad 1 - Fail of Consensus
	id = tec_synth_path.20021
	title = "tec_synth_path.20021.name"
	desc = "tec_synth_path.20021.desc"

	picture = GFX_evt_organic_oppression
	show_sound = event_mystic_reveal_light
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
			owner = {
				# Check organic species
				owner_main_species = {
					save_event_target_as = tec_target_species
				}
				# Check planet
				random_owned_planet = {
					limit = {
						any_owned_species = {
							is_same_value = event_target:tec_target_species
						}
					}
					save_event_target_as = tec_target_planet
				}
			}
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_synth_path.20021.a
		custom_tooltip = tec_synth_path.20021.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_ai
			icon_background = GFX_situation_approach_bg_red
			text = tec_icon_text_bad_outcome
		}
		hidden_effect = {
			if = {
				limit = {
					situation_progress > 5
				}
				add_situation_progress = -5
			}
			event_target:tec_target_planet = {
				add_modifier = {
					modifier = pm_tec_cyb_rebel_planet
					years = 2
				}
			}
		}
	}
}
situation_event = { # Bad 2 - Wrong Paths
	id = tec_synth_path.20022
	title = "tec_synth_path.20022.name"
	desc = "tec_synth_path.20022.desc"

	picture = GFX_evt_organic_oppression
	show_sound = event_mystic_reveal_light
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
			owner = {
				# Check organic species
				owner_main_species = {
					save_event_target_as = tec_target_species
				}
				# Check planet
				random_owned_planet = {
					limit = {
						any_owned_species = {
							is_same_value = event_target:tec_target_species
						}
					}
					save_event_target_as = tec_target_planet
				}
			}
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_synth_path.20022.a
		custom_tooltip = tec_synth_path.20022.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_ai
			icon_background = GFX_situation_approach_bg_red
			text = tec_icon_text_bad_outcome
		}
		hidden_effect = {
			if = {
				limit = {
					situation_progress > 10
				}
				add_situation_progress = -10
			}
			event_target:tec_target_planet = {
				add_modifier = {
					modifier = pm_tec_cyb_crime_planet
					years = 1
				}
			}
		}
	}
}

country_event = { # Synthetic Singularity
	id = tec_synth_path.205
	title = "tec_synth_path.205.name"
	desc = "tec_synth_path.205.desc"

	picture = GFX_evt_tec_synthetic_recognition
	show_sound = event_synthetic_evolution
	is_triggered_only = yes

	option = {
		name = tec_synth_path.205.a
		custom_tooltip = tec_synth_path.205.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_ai
			icon_background = GFX_situation_approach_bg_tec_blue
			text = tec_icon_text_good_outcome
		}
		hidden_effect = {
			# Gate
			set_country_flag = tec_synthetics_gate_completed
			# Safe
			owner_main_species = {
				save_event_target_as = tec_target_species
			}
			fire_on_action = { on_action = tec_ascension_situation_finished }
		}
	}
}

# Possibility to become machine? mayhaps in the future

	# Empire becomes a machine empire

	# Misc events

	# Notification for other countries

# --------------- T2
country_event = { # T2 picked
	id = tec_synth_path.300
	title = "tec_synth_path.300.name"
	desc = "tec_synth_path.300.desc"
	picture = GFX_evt_machine_sapience
	show_sound = event_synthetic_evolution
	trackable = yes

	is_triggered_only = yes

	option = {
		name = "tec_synth_path.300.a"
	}
}

# 305
country_event = { # T2 picked
	id = tec_synth_path.305
	title = "tec_synth_path.305.name"
	desc = "tec_synth_path.305.desc"
	picture = GFX_evt_machine_sapience
	show_sound = event_synthetic_evolution
	trackable = yes

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			set_country_flag = tec_synthetics_t2_completed
		}
	}
	option = {
		name = "tec_synth_path.305.a"
	}
}

# Psionic path A
# ------------------------------------------------------------ tec_psionic_path.xxx
namespace = tec_psionic_path

# Order
	# T1
		# tec_psionic_path.100			Picked t1
		# tec_psionic_path.105			T1 project completed
		# tec_psionic_path.10501		T1 notif
	# /
	# Gating
		# tec_psionic_path.200		Post tradition 5 years
	# /
	# T2

	# /
# /

# --------------- T1
country_event = { # # T1 picked - og utopia.2600
	id = tec_psionic_path.100
	title = "utopia.2600.name"
	desc = "utopia.2600.desc"
	picture = GFX_evt_psionics
	show_sound = event_mind_over_matter

	is_triggered_only = yes

	option = {
		name = "tec_psionic_path.100.a"
		custom_tooltip = "tec_psionic_path.100.a.tooltip"
		icon = {
			icon = GFX_situation_approach_influence
			icon_background = GFX_situation_approach_bg_tec_blue
			text = set_situation_approach_icon_text
		}
		hidden_effect = { 
			save_event_target_as = tec_target_country
			event_target:tec_target_country = {
				start_situation = {
					type = situation_tec_psionic_path_t1
					target = event_target:tec_target_country.capital_scope
					effect = {
						save_event_target_as = new_situation
						set_situation_approach = situation_approach_tec_psionic_path_t1_harmony
						set_situation_locked = no
					}
				}
			}
			event_target:new_situation = {
				set_situation_locked = no
			}
		}
		allow = {
			has_technology = tech_psionic_theory
		}
	}

	option = {
		name = "tec_psionic_path.100.b"
		custom_tooltip = "tec_psionic_path.100.b.tooltip"
		icon = {
			icon = GFX_situation_approach_tec_mind
			icon_background = GFX_situation_approach_bg_red
			text = set_situation_approach_icon_text
		}
		hidden_effect = { 
			save_event_target_as = tec_target_country
			event_target:tec_target_country = {
				start_situation = {
					type = situation_tec_psionic_path_t1
					target = event_target:tec_target_country.capital_scope
					effect = {
						save_event_target_as = new_situation
						set_situation_approach = situation_approach_tec_psionic_path_t1_entropy
						set_situation_locked = no
					}
				}
			}
			event_target:new_situation = {
				set_situation_locked = no
			}
		}
		allow = {
			has_technology = tech_psionic_theory
		}
	}

	option = {
		name = "tec_psionic_path.100.c"
		custom_tooltip = "tec_psionic_path.100.c.tooltip"
		icon = {
			icon = GFX_situation_approach_research
			icon_background = GFX_situation_approach_bg_red
			text = set_situation_approach_icon_text
		}
		trigger = {
			NOT = {
				has_technology = tech_psionic_theory
			}
		}
		hidden_effect = { 
			save_event_target_as = tec_target_country
			event_target:tec_target_country = {
				start_situation = {
					type = situation_tec_psionic_path_t1
					target = event_target:tec_target_country.capital_scope
					effect = {
						save_event_target_as = new_situation
						set_situation_approach = situation_approach_tec_psionic_path_t1_notech
						set_situation_locked = no
					}
				}
			}
			event_target:new_situation = {
				set_situation_locked = no
			}
		}
	}
}

# Situation
	# 
# /
	# 20> 40> 60> 80 						A - standard
	# 20> 40> 60> -20> -40> -60> -80> 80	B - 5% output
	# -20> -40> -60> -80> 20> 40> 60> 80	C - 5% output -5% growth/assembly
	# Standard path
# Positive progress
situation_event = { # Psi t1 20%
	id = tec_psionic_path.10020
	title = "tec_psionic_path.10020.name"
	desc = "tec_psionic_path.10020.desc"

	picture = GFX_evt_surreal_visions
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_psionic_path.10020.a
		custom_tooltip = tec_psionic_path.10020.a.tooltip
		icon = {
			icon = GFX_situation_approach_influence
			icon_background = GFX_situation_approach_bg_tec_blue
			text = set_situation_approach_icon_text
		}
	}
}

situation_event = { # Psi t1 40%
	id = tec_psionic_path.10040
	title = "tec_psionic_path.10040.name"
	desc = "tec_psionic_path.10040.desc"

	picture = GFX_evt_slingshot_stars
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_psionic_path.10040.a
		custom_tooltip = tec_psionic_path.10040.a.tooltip
		icon = {
			icon = GFX_situation_approach_influence
			icon_background = GFX_situation_approach_bg_tec_blue
			text = set_situation_approach_icon_text
		}
	}
}

situation_event = { # Psi t1 60%
	id = tec_psionic_path.10060
	title = "tec_psionic_path.10060.name"
	desc = "tec_psionic_path.10060.desc"

	picture = GFX_evt_surreal_visions
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_psionic_path.10060.a
		custom_tooltip = tec_psionic_path.10060.a.tooltip
		icon = {
			icon = GFX_situation_approach_influence
			icon_background = GFX_situation_approach_bg_tec_blue
			text = set_situation_approach_icon_text
		}
	}
}
situation_event = {
	id = tec_psionic_path.10061
	title = "tec_psionic_path.10061.name"
	desc = "tec_psionic_path.10061.desc"

	picture = GFX_evt_surreal_visions
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_psionic_path.10061.a
		custom_tooltip = tec_psionic_path.10061.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_mind
			icon_background = GFX_situation_approach_bg_tec_blue
			text = set_situation_approach_icon_text
		}
	}
}

situation_event = { # Psi t1 80% - Ending A standard
	id = tec_psionic_path.10080
	title = "tec_psionic_path.10080.name"
	desc = "tec_psionic_path.10080.desc"

	picture = GFX_evt_zro_4
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_psionic_path.10080.a
		custom_tooltip = tec_psionic_path.10080.a.tooltip
		icon = {
			icon = GFX_situation_approach_influence
			icon_background = GFX_situation_approach_bg_tec_blue
			text = set_situation_approach_icon_text
		}
	}
}
situation_event = { # Psi t1 80% - Ending B +5%
	id = tec_psionic_path.10081
	title = "tec_psionic_path.10081.name"
	desc = "tec_psionic_path.10081.desc"

	picture = GFX_evt_zro_4
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_psionic_path.10081.a
		custom_tooltip = tec_psionic_path.10081.a.tooltip
		icon = {
			icon = GFX_situation_approach_influence
			icon_background = GFX_situation_approach_bg_tec_blue
			text = set_situation_approach_icon_text
		}
		hidden_effect = {
			owner = {
				set_country_flag = tec_psionic_harmony
			}
		}
	}
}
situation_event = { # Psi t1 80% - Ending C +5%-5%
	id = tec_psionic_path.10082
	title = "tec_psionic_path.10082.name"
	desc = "tec_psionic_path.10082.desc"

	picture = GFX_evt_zro_4
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_psionic_path.10082.a
		custom_tooltip = tec_psionic_path.10082.a.tooltip
		icon = {
			icon = GFX_situation_approach_influence
			icon_background = GFX_situation_approach_bg_tec_blue
			text = set_situation_approach_icon_text
		}
		hidden_effect = {
			owner = {
				set_country_flag = tec_psionic_entropy
			}
		}
	}
}
# Negative progress
situation_event = { # Psi t1 -20%
	id = tec_psionic_path.10120
	title = "tec_psionic_path.10120.name"
	desc = "tec_psionic_path.10120.desc"

	picture = GFX_evt_surreal_visions
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_psionic_path.10120.a
		custom_tooltip = tec_psionic_path.10120.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_mind
			icon_background = GFX_situation_approach_bg_red
			text = set_situation_approach_icon_text
		}
	}
}
situation_event = {
	id = tec_psionic_path.10121
	title = "tec_psionic_path.10121.name"
	desc = "tec_psionic_path.10121.desc"

	picture = GFX_evt_surreal_visions
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_psionic_path.10121.a
		custom_tooltip = tec_psionic_path.10121.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_mind
			icon_background = GFX_situation_approach_bg_red
			text = set_situation_approach_icon_text
		}
	}
}
situation_event = { # Psi t1 -40%
	id = tec_psionic_path.10140
	title = "tec_psionic_path.10140.name"
	desc = "tec_psionic_path.10140.desc"

	picture = GFX_evt_surreal_visions
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_psionic_path.10140.a
		custom_tooltip = tec_psionic_path.10140.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_mind
			icon_background = GFX_situation_approach_bg_red
			text = set_situation_approach_icon_text
		}
	}
}
situation_event = {
	id = tec_psionic_path.10141
	title = "tec_psionic_path.10141.name"
	desc = "tec_psionic_path.10141.desc"

	picture = GFX_evt_surreal_visions
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_psionic_path.10141.a
		custom_tooltip = tec_psionic_path.10141.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_mind
			icon_background = GFX_situation_approach_bg_red
			text = set_situation_approach_icon_text
		}
	}
}
situation_event = { # Psi t1 -60%
	id = tec_psionic_path.10160
	title = "tec_psionic_path.10160.name"
	desc = "tec_psionic_path.10160.desc"

	picture = GFX_evt_surreal_visions
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_psionic_path.10160.a
		custom_tooltip = tec_psionic_path.10160.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_mind
			icon_background = GFX_situation_approach_bg_tec_blue
			text = set_situation_approach_icon_text
		}
		hidden_effect = {
			set_situation_flag = tec_rejected_entropy
			set_situation_approach = situation_approach_tec_psionic_path_t1_harmony
			add_situation_progress = 60
		}
	}
	option = {
		name = tec_psionic_path.10160.b
		custom_tooltip = tec_psionic_path.10160.b.tooltip
		allow = {
			always = no
		}
		icon = {
			icon = GFX_situation_approach_tec_mind
			icon_background = GFX_situation_approach_bg_red
			text = set_situation_approach_icon_text
		}
		hidden_effect = {
			set_situation_flag = tec_embraced_entropy
		}
	}
}
situation_event = {
	id = tec_psionic_path.10161
	title = "tec_psionic_path.10161.name"
	desc = "tec_psionic_path.10161.desc"

	picture = GFX_evt_surreal_visions
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_psionic_path.10161.a
		custom_tooltip = tec_psionic_path.10161.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_mind
			icon_background = GFX_situation_approach_bg_tec_blue
			text = set_situation_approach_icon_text
		}
		hidden_effect = {
			set_situation_flag = tec_rejected_entropy
			set_situation_approach = situation_approach_tec_psionic_path_t1_harmony
			add_situation_progress = 60
		}
	}
	option = {
		name = tec_psionic_path.10161.b
		custom_tooltip = tec_psionic_path.10161.b.tooltip
		allow = {
			always = no
		}
		icon = {
			icon = GFX_situation_approach_tec_mind
			icon_background = GFX_situation_approach_bg_red
			text = set_situation_approach_icon_text
		}
		hidden_effect = {
			set_situation_flag = tec_embraced_entropy
		}
	}
}
situation_event = { # Psi t1 -80%
	id = tec_psionic_path.10180
	title = "tec_psionic_path.10180.name"
	desc = "tec_psionic_path.10180.desc"

	picture = GFX_evt_surreal_visions
	is_triggered_only = yes
	situation = this
	location = target

	trigger = {
		always = no
	}

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_psionic_path.10180.a
		custom_tooltip = tec_psionic_path.10180.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_mind
			icon_background = GFX_situation_approach_bg_red
			text = set_situation_approach_icon_text
		}
	}
}

# Random
situation_event = { # Bad 3 A gate - Kills 3-5 pops
	id = tec_psionic_path.10021
	title = "tec_gene_path.20021.name"
	desc = "tec_gene_path.20021.desc"

	picture = GFX_evt_tec_red_genetics
	show_sound = event_vivisection
	is_triggered_only = yes
	situation = this
	location = target

	weight_multiplier = {
		factor = 1
		modifier = {
			factor = 0.5
			current_situation_approach = situation_approach_tec_gene_path_gate_slow
		}
		modifier = {
			factor = 1.5
			current_situation_approach = situation_approach_tec_gene_path_gate_fast
		}
	}

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
			owner = {
				# Check organic species
				owner_main_species = {
					save_event_target_as = tec_target_species
				}
				# Check planet
				random_owned_planet = {
					limit = {
						any_owned_species = {
							is_same_value = event_target:tec_target_species
						}
					}
					save_event_target_as = tec_target_planet
				}
			}
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_gene_path.20021.a
		custom_tooltip = tec_gene_path.20021.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_genecrank
			icon_background = GFX_situation_approach_bg_red
			text = tec_icon_text_bad_outcome
		}
		hidden_effect = {
			if = {
				limit = {
					situation_progress > 10
				}
				add_situation_progress = -10
			}
			event_target:tec_target_planet = {
				while = {
					count = 5
					random_list = {
						33 = {
							# Safe i guess?
						}
						66 = {
							random_owned_pop = {
								limit = {
									is_same_species = event_target:tec_target_species
								}
								kill_pop = yes
							}
						}
					}
				}
			}
		}
	}
}

# Finisher
country_event = { # T1A Situation completed
	id = tec_psionic_path.105
	title = "tec_psionic_path.105.name"
	desc = "tec_psionic_path.105.desc"
	picture = GFX_evt_psionics
	show_sound = event_mind_over_matter
	trackable = yes

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			# Initial Finished
			set_country_flag = tec_psionic_path_unlocked_tradition_1
			# Alter species
			tec_create_latent_psionic_species = yes
			# TO DO create specific leader ascension trait handler
			every_owned_leader = {
				add_leader_traits_after_modification = yes
				remove_leader_traits_after_modification = yes
			}
			every_pool_leader = {
				add_leader_traits_after_modification = yes
				remove_leader_traits_after_modification = yes
			}
			fire_on_action = { on_action = tec_ascension_situation_finished }
			# Features
			# Fear of the Dark Separatists - Scared
				if = {
					limit = {
						any_planet_within_border = {
							has_planet_flag = fotd_seperatist_planet@root
							owner = {
								has_country_flag = fotd_seperatist_country@root
							}
						}
					}
					country_event = { id = origin.6105 days = 5 random = 2 }
				}
			# /
			# Announcement
			if = {
				limit = {	# Prevents FE and alike from triggering the announce
					NOT = {
						has_country_flag = tec_advanced_ascension
					}
				}
				observer_event = { id = observer.5 }
				every_country = {
					limit = {
						is_ai = no
						has_communications = root
						root = {
							is_primitive = no
						}
						NOR = {
							is_same_value = root
							# TO DO policy for muting other empire things 
							has_country_flag = tec_mute_empire_announces
						}
					}
					country_event = {
						id = tec_psionic_path.10501
						days = 5
						random = 2
					}
				}
			}
		}
		# Old code
		if = {
			limit = { always = no }
			every_owned_pop = {
				limit = {
					is_same_species = root
					NOT = { species = { has_trait = trait_latent_psionic } }
				}
				modify_species = {
					species = this
					add_trait = trait_latent_psionic
				}
				species = { save_event_target_as = psionic_species }
			}
			# Ensure the event target exists, since in rare cases the main species is already psionic and no pops get modified
			# (Example: Teachers of the Shroud empires)
			if = {
				limit = {
					exists = event_target:psionic_species
				}
				change_dominant_species = {
					species = event_target:psionic_species
					change_all = yes
				}
			}
			hidden_effect = {
				# Fear of the Dark Separatists - Scared
					if = {
						limit = {
							any_planet_within_border = {
								has_planet_flag = fotd_seperatist_planet@root
								owner = {
									has_country_flag = fotd_seperatist_country@root
								}
							}
						}
						country_event = { id = origin.6105 days = 5 random = 2 }
					}
				# /
				# Announcement
				if = {
					limit = {	# Prevents FE and alike from triggering the announce
						NOT = {
							has_country_flag = tec_advanced_ascension
						}
					}
					observer_event = { id = observer.5 }
					every_country = {
						limit = {
							is_ai = no
							has_communications = root
							root = {
								is_primitive = no
							}
							NOR = {
								is_same_value = root
								# TO DO policy for muting other empire things 
								has_country_flag = tec_mute_empire_announces
							}
						}
						country_event = {
							id = tec_psionic_path.10501
							days = 5
							random = 2
						}
					}
				}
			}
		}	
		# /
	}

	option = {
		name = "tec_psionic_path.105.a"
		custom_tooltip = "tec_psionic_path.105.a.tooltip"
		hidden_effect = {
			set_country_flag = tec_psionic_path_unlocked_tradition_1
		}
	}
}
country_event = { # T1A Notification to other empires - og utopia.2602 tec_gene_path.10501
	id = tec_psionic_path.10501
	title = "utopia.2602.name"
	desc = {
		text = utopia.2602.1.desc
		trigger = {
			NOR = {
				any_owned_pop = { is_same_species = from }
				any_owned_leader = { is_same_species = from }
			}
		}
	}
	desc = {
		text = utopia.2602.2.desc
		trigger = {
			OR = {
				any_owned_pop = { is_same_species = from }
				any_owned_leader = { is_same_species = from }
			}
		}
	}
	picture = GFX_evt_psionics
	show_sound = event_laboratory_sound
	location = from.capital_scope

	is_triggered_only = yes

	option = {
		name = "utopia.2602.a"
		trigger = {
			NOR = {
				has_ethic = ethic_materialist
				has_ethic = ethic_fanatic_materialist
				is_at_war_with = from
				species = { has_trait = trait_psionic }
			}
		}
	}
	option = {
		name = "utopia.2602.b"
		trigger = {
			OR = {
				has_ethic = ethic_materialist
				has_ethic = ethic_fanatic_materialist
			}
			NOR = {
				is_at_war_with = from
				species = { has_trait = trait_psionic }
			}
		}
	}
	option = {
		name = "utopia.2602.c"
		trigger = {
			is_at_war_with = from
			NOT = { species = { has_trait = trait_psionic } }
		}
	}
	option = {
		name = "utopia.2602.d"
		trigger = {
			species = { has_trait = trait_psionic }
		}
	}
}

	# T1B Situation completed

	# T1B Notification to other empires

# Picked tr_psionics_adopt
country_event = { # The Shroud
	id = tec_psionic_path.110
	title = "tec_psionic_path.110.name"
	desc = "tec_psionic_path.110.desc"
	picture = GFX_evt_psionics
	show_sound = event_psionic
	trackable = yes

	is_triggered_only = yes

	option = {
		name = "tec_psionic_path.110.a"
		# Old code
			#hidden_effect = { save_event_target_as = breach_shroud_owner }
			#capital_scope = {
			#	enable_special_project = {
			#		name = "BREACHING_SHROUD_PROJECT"
			#		location = this
			#		owner = root
			#	}
			#}
		# /
		hidden_effect = {
			country_event = {
				id = tec_psionic_path.111
				days = 5
			}
		}
	}
}

country_event = { # The Seance
	id = tec_psionic_path.111
	title = "tec_psionic_path.111.name"
	desc = "tec_psionic_path.111.desc"
	picture = GFX_evt_psionics
	show_sound = event_psionic

	is_triggered_only = yes

	immediate = {
		random_country = {
			limit = { is_country_type = shroud }
			save_event_target_as = the_shroud
		}
	}

	option = {
		name = "tec_psionic_path.111.a"
		establish_communications_no_message = event_target:the_shroud
		hidden_effect = {
			set_country_flag = shroud_intro
			country_event = { id = utopia.3000 }
		}
	}
}

# Picked tr_psionics_mind_readers
country_event = { # T2 picked - og utopia.2650
	id = tec_psionic_path.120
	title = "utopia.2650.name"
	desc = "utopia.2650.desc"
	picture = GFX_evt_psionics
	show_sound = event_the_great_awakening

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			# "Path" finished
			#set_country_flag = tec_psionic_assimilation
			# Moved to ap 2
			# Alter species
			tec_create_psionic_species = yes
			# TO DO create specific leader ascension trait handler
			every_owned_leader = {
				add_leader_traits_after_modification = yes
				remove_leader_traits_after_modification = yes
			}
			every_pool_leader = {
				add_leader_traits_after_modification = yes
				remove_leader_traits_after_modification = yes
			}
		}

		if = {	# Old effect
			limit = { always = no}
			every_owned_pop = {
				limit = {
					is_same_species = root
					has_trait = trait_latent_psionic
				}
				species = {
					save_event_target_as = psionic_species
				}
				modify_species = {
					species = this
					remove_trait = trait_latent_psionic
					add_trait = trait_psionic
					effect = {
						save_event_target_as = psionic_species
					}
				}
			}
			change_dominant_species = {
				species = event_target:psionic_species 
				change_all = yes 
			}
			if = {	# Anti edge cases
				limit = {
					owner_main_species = {
						NOT = {
							has_trait = trait_psionic
						}
					}
				}
				owner_main_species = {
					modify_species = {
						species = this
						remove_trait = trait_latent_psionic
						add_trait = trait_psionic
						effect = {
							save_event_target_as = psionic_species
						}
					}		
				}
				every_owned_pop = {
					limit = {
						is_same_species = owner_main_species
					}
					change_species = event_target:psionic_species
				}
				every_envoy = {
					limit = {
						is_same_species = owner_main_species
					}
					change_species = event_target:psionic_species 
				}
				every_pool_leader = {
					limit = {
						is_same_species = owner_main_species
					}
					change_species = event_target:psionic_species 
				}
				every_owned_leader = {
					limit = {
						is_same_species = owner_main_species
					}
					change_species = event_target:psionic_species 
				}
				change_dominant_species = {
					species = event_target:psionic_species 
					change_all = yes 
				}
			}
		}
	}
	option = {
		name = "utopia.2650.a"
		hidden_effect = {
			every_country = {
				limit = {
					OR = {
						tec_is_default_country = yes
						is_country_type = fallen_empire
						is_country_type = awakened_fallen_empire
					}
				}
				every_owned_leader = {
					limit = {
						is_same_species = root
						NOR = {
							has_trait =	leader_trait_psionic
						}
					}
					add_trait_no_notify = leader_trait_psionic
				}
				every_pool_leader = {
					limit = {
						is_same_species = root
						NOR = {
							has_trait =	leader_trait_psionic
						}
					}
					add_trait_no_notify = leader_trait_psionic
				}
			}
		}
	}
}

# --------------- T1 - Misc
country_event = { # Psychic Identified - Triggers 5 years after getting latent psi - og utopia.2605
	id = tec_psionic_path.102
	title = "utopia.2605.name"
	desc = "utopia.2605.desc"
	picture = GFX_evt_psionics
	show_sound = event_psionic
	is_triggered_only = yes

	trigger = {
		owner_species = {
			has_trait = trait_latent_psionic
		}
		any_owned_leader = {
			is_same_species = owner_species
			NOR = {
				has_trait = leader_trait_psionic
				has_trait = leader_trait_chosen
				has_chosen_covenant_trait_non_ruler = yes
			}
		}
	}

	immediate = {
		random_owned_leader = {
			limit = {
				is_same_species = owner_species
				NOT = {
					OR = {
						has_trait = leader_trait_psionic
						has_trait = leader_trait_chosen
						has_chosen_covenant_trait_non_ruler = yes
					}
				}
			}
			save_event_target_as = psionic_leader
		}
	}

	option = {
		name = "utopia.2605.a"
		event_target:psionic_leader = {
			add_trait_no_notify = leader_trait_psionic
		}
	}
}

country_event = { # T2A Notification for other empires
	id = tec_psionic_path.201
	title = "utopia.2652.name"
	desc = "utopia.2652.desc"
	picture = GFX_evt_psionics
	show_sound = event_the_great_awakening

	is_triggered_only = yes

	option = {
		name = AMAZING
		trigger = {
			NOR = {
				has_ethic = ethic_materialist
				has_ethic = ethic_fanatic_materialist
				is_at_war_with = from
				species = { has_trait = trait_psionic }
			}
		}
	}
	option = {
		name = "utopia.2652.b"
		trigger = {
			OR = {
				has_ethic = ethic_materialist
				has_ethic = ethic_fanatic_materialist
			}
			NOR = {
				is_at_war_with = from
				species = { has_trait = trait_psionic }
			}
		}
	}
	option = {
		name = "utopia.2652.c"
		trigger = {
			is_at_war_with = from
			NOT = { species = { has_trait = trait_psionic } }
		}
	}
	option = {
		name = "utopia.2652.d"
		trigger = {
			species = { has_trait = trait_psionic }
		}
	}
}

# New Leaders Get Psionic Trait
# !overwrite utopia.2651 
# tec_psionic_path.210

# Ruler gets normal class trait if one hasn't been assigned
# !overwrite utopia.2653
# tec_psionic_path.211

# --------------- Gating
country_event = { # Post-tradition - An awakening
	id = tec_psionic_path.200
	title = "tec_psionic_path.200.name"
	desc = "tec_psionic_path.200.desc"
	picture = GFX_evt_psionics
	show_sound = event_the_great_awakening

	is_triggered_only = yes

	trigger = {
		NOT = { has_country_flag  = tec_announced_psionic_traits }
	}

	immediate = {
		hidden_effect = {
			set_country_flag = tec_announced_psionic_traits
			owner_main_species = {
				save_event_target_as = tec_target_species
			}
		}
	}
	option = {
		name = tec_psionic_path.200.a
		custom_tooltip = tec_psionic_path.200.a.tooltip
		hidden_effect = {
			save_event_target_as = tec_target_country
			event_target:tec_target_country = {
				start_situation = {
					type = situation_tec_psionic_path_gate
					target = event_target:tec_target_country.capital_scope
					effect = {
						save_event_target_as = new_situation
					}
				}
			}
		}
	}
	after = {
		hidden_effect = {
			event_target:new_situation = {
				set_situation_locked = no
				set_situation_approach = situation_approach_tec_psionic_path_gate_neutral
			}
		}
	}
}

# Situation
situation_event = { # PSI - 25% - Standard trigger
	id = tec_psionic_path.20025
	title = "tec_psionic_path.20025.name"
	desc = "tec_psionic_path.20025.desc"

	picture = GFX_evt_shroudwalker_teachers
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_flag = situation_tec_psionic_path_gate_unlock_approachs
			set_situation_locked = yes
			owner_main_species = {
				save_event_target_as = tec_target_species
			}
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_psionic_path.20025.a
		custom_tooltip = tec_psionic_path.20025.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_mind
			icon_background = GFX_situation_approach_bg_green
			text = set_situation_approach_icon_text
		}
		set_situation_approach = situation_approach_tec_psionic_path_gate_slow
	}

	option = {
		name = tec_psionic_path.20025.b
		custom_tooltip = tec_psionic_path.20025.b.tooltip
		icon = {
			icon = GFX_situation_approach_tec_mind
			icon_background = GFX_situation_approach_bg_red
			text = set_situation_approach_icon_text
		}
		set_situation_approach = situation_approach_tec_psionic_path_gate_fast
	}
}
situation_event = { # PSI - 50% - Cyberpsi trigger
	id = tec_psionic_path.20050
	title = "tec_psionic_path.20050.name"
	desc = "tec_psionic_path.20050.desc"

	picture = GFX_evt_psionics
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
			owner_main_species = {
				save_event_target_as = tec_target_species
			}
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_psionic_path.20050.a
		custom_tooltip = tec_psionic_path.20050.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_mind
			icon_background = GFX_situation_approach_bg_tec_purple
			text = tec_icon_text_neutral_outcome
		}
	}
}
situation_event = { # PSI - 75% - Biopsi trigger
	id = tec_psionic_path.20075
	title = "tec_psionic_path.20075.name"
	desc = "tec_psionic_path.20075.desc"

	picture = GFX_evt_zro_4
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
			owner_main_species = {
				save_event_target_as = tec_target_species
			}
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_psionic_path.20075.a
		custom_tooltip = tec_psionic_path.20075.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_mind
			icon_background = GFX_situation_approach_bg_tec_purple
			text = tec_icon_text_neutral_outcome
		}
	}
}

# Random situation events
	# Good 1 - A planet discovers a zro deposit
	# Good 2 - Gives +10% 1 year planet output

	# Bad 1 - Psionic pop dies
	# Bad 2 - Gives -10% 1 planet year output
	# Bad 3 - Gives -20 planet stability for 5 years

country_event = { # Situation finished
	id = tec_psionic_path.205
	title = "tec_psionic_path.205.name"
	desc = {
		trigger = {
			has_country_flag = tec_psi_good_temp
		}
		text = tec_psionic_path.205.desc.slow
	}
	desc = {
		trigger = {
			has_country_flag = tec_psi_bad_temp
		}
		text = tec_psionic_path.205.desc.fast
	}
	desc = {	# Fallback
		trigger = {
			NOR = {
				has_country_flag = tec_psi_good_temp
				has_country_flag = tec_psi_bad_temp
			}
		}
		text = tec_psionic_path.205.desc.fast
	}
	
	picture = GFX_evt_psionics
	show_sound = event_psionic
	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			# Gate
			set_country_flag = tec_psionics_gate_completed
			# Safe
			owner_main_species = {
				save_event_target_as = tec_target_species
			}
			fire_on_action = { on_action = tec_ascension_situation_finished }
		}
	}

	after = {
		hidden_effect = {
			set_country_flag = tec_psionics_gate_completed
			owner_main_species = {
				save_event_target_as = tec_target_species
			}
		}
	}

	option = {
		name = tec_psionic_path.205.a
		custom_tooltip = tec_gene_path.205.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_mind
			icon_background = GFX_situation_approach_bg_tec_purple
			text = tec_icon_text_good_outcome
		}
		trigger = {
			NOT = { has_country_flag = tec_psi_bad_temp }
		}
	}

	option = {
		name = tec_psionic_path.205.b
		custom_tooltip = tec_psionic_path.205.b.tooltip
		icon = {
			icon = GFX_situation_approach_tec_mind
			icon_background = GFX_situation_approach_bg_tec_purple
			text = tec_icon_text_good_outcome
		}
		trigger = {
			has_country_flag = tec_psi_bad_temp
		}
	}
}

# ---------- T2


# Halfway empire situation events

# Random situation events
country_event = { # Good 1
	id = tec_psionic_path.20011
	title = "tec_psionic_path.20011.name"
	desc = "tec_psionic_path.20011.desc"
	picture = GFX_evt_machine_sapience
	show_sound = event_synthetic_evolution
	trackable = yes

	is_triggered_only = yes

	trigger = {
		always = no
	}

	option = {
		name = "tec_psionic_path.20011.a"
	}
}
country_event = { # Good 2
	id = tec_psionic_path.20012
	title = "tec_psionic_path.20012.name"
	desc = "tec_psionic_path.20012.desc"
	picture = GFX_evt_machine_sapience
	show_sound = event_synthetic_evolution
	trackable = yes

	is_triggered_only = yes

	trigger = {
		always = no
	}

	option = {
		name = "tec_psionic_path.20012.a"
	}
}
country_event = { # Bad 1
	id = tec_psionic_path.20021
	title = "tec_psionic_path.20021.name"
	desc = "tec_psionic_path.20021.desc"
	picture = GFX_evt_machine_sapience
	show_sound = event_synthetic_evolution
	trackable = yes

	is_triggered_only = yes

	trigger = {
		always = no
	}

	option = {
		name = "tec_psionic_path.20021.a"
	}
}
country_event = { # Bad 2
	id = tec_psionic_path.20022
	title = "tec_psionic_path.20022.name"
	desc = "tec_psionic_path.20022.desc"
	picture = GFX_evt_machine_sapience
	show_sound = event_synthetic_evolution
	trackable = yes

	is_triggered_only = yes

	trigger = {
		always = no
	}

	option = {
		name = "tec_psionic_path.20022.a"
	}
}


# ---------- T3
country_event = {
	id = tec_psionic_path.300
	title = "tec_psionic_path.300.name"
	desc = "tec_psionic_path.300.desc"
	picture = GFX_evt_zro_2
	show_sound = event_mystic_reveal_light

	is_triggered_only = yes
	option = {
		name = "tec_psionic_path.300.a"
		custom_tooltip = tec_psionic_path.300.a.tooltip
		hidden_effect = {
			save_event_target_as = tec_target_country
			event_target:tec_target_country = {
				start_situation = {
					type = situation_tec_psionic_path_t2
					target = event_target:tec_target_country.capital_scope
					effect = {
						save_event_target_as = new_situation
					}
				}
			}
		}
	}
	
	after = {
		hidden_effect = {
			event_target:new_situation = {
				set_situation_locked = no
				set_situation_approach = situation_approach_tec_psionic_path_t2_neutral
			}
		}
	}

}

situation_event = { # PSI T2 - 10% - Through the Veil
	id = tec_psionic_path.30010
	title = "tec_psionic_path.30010.name"
	desc = "tec_psionic_path.30010.desc"

	picture = GFX_evt_shroudwalker_enclave
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
			owner_main_species = {
				save_event_target_as = tec_target_species
			}
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_psionic_path.20025.a
		custom_tooltip = tec_psionic_path.20025.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_mind
			icon_background = GFX_situation_approach_bg_green
			text = tec_icon_text_neutral_outcome
		}
	}
}

situation_event = { # PSI T2 - 20% - A Strange Singularity
	id = tec_psionic_path.30020
	title = "tec_psionic_path.30020.name"
	desc = "tec_psionic_path.30020.desc"

	picture = GFX_evt_zro_4
	is_triggered_only = yes
	situation = this
	show_sound = event_the_great_awakening
	location = event_target:tec_recently_ascended_planet

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
			set_situation_flag = situation_tec_psionic_path_t2_unlock_approachs
			owner_main_species = {
				save_event_target_as = tec_target_species
			}
			if = {
				limit = {
					owner = {
						capital_scope = {
							num_pops > 10
							any_owned_species = {
								tec_is_total_psionic_species = yes
							}
						}
					}
				}
				owner = {
					capital_scope = {
						save_event_target_as = tec_psionic_target_planet
						random_owned_species = {
							limit = {
								tec_is_total_psionic_species = yes
							}
							save_event_target_as = tec_target_psionic_species
						}
						random_owned_pop = {
							limit = {
								species = {
									is_same_value = event_target:tec_target_psionic_species
								}
							}
							kill_pop = yes
						}
						add_deposit = d_tec_psionic_ascension_zone_1
						save_event_target_as = tec_recently_ascended_planet
					}
				}
			}
			else = {
				owner = {
					random_owned_planet = {
						limit = {
							# lets avoid colonies being ravaged
							num_pops > 10
							any_owned_species = {
								tec_is_total_psionic_species = yes
							}
						}
						save_event_target_as = tec_psionic_target_planet
						random_owned_species = {
							limit = {
								tec_is_total_psionic_species = yes
							}
							save_event_target_as = tec_target_psionic_species
						}
						random_owned_pop = {
							limit = {
								species = {
									is_same_value = event_target:tec_target_psionic_species
								}
							}
							kill_pop = yes
						}
						add_deposit = d_tec_psionic_ascension_zone_1
						save_event_target_as = tec_recently_ascended_planet
					}
				}
			}
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_psionic_path.30020.a
		custom_tooltip = tec_psionic_path.30020.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_mind
			icon_background = GFX_situation_approach_bg_green
			text = set_situation_approach_icon_text
		}
		set_situation_approach = situation_approach_tec_psionic_path_t2_slow
	}

	option = {
		name = tec_psionic_path.30020.b
		custom_tooltip = tec_psionic_path.30020.b.tooltip
		icon = {
			icon = GFX_situation_approach_tec_mind
			icon_background = GFX_situation_approach_bg_red
			text = set_situation_approach_icon_text
		}
		set_situation_approach = situation_approach_tec_psionic_path_t2_fast
	}
}

situation_event = { # PSI T2 - 60% - Veiled Secrets
	id = tec_psionic_path.30060
	title = "tec_psionic_path.30060.name"
	desc = "tec_psionic_path.30060.desc"

	picture = GFX_evt_zro_2
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
			owner_main_species = {
				save_event_target_as = tec_target_species
			}
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_psionic_path.30060.a
		custom_tooltip = tec_psionic_path.30060.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_mind
			icon_background = GFX_situation_approach_bg_green
			text = tec_icon_text_neutral_outcome
		}
	}
}

situation_event = { # PSI T2 - 80% - That which remains
	id = tec_psionic_path.30080
	title = "tec_psionic_path.30080.name"
	desc = {
		text = tec_psionic_path.30080.desc.hastech
		trigger = {
			owner = {
				OR = {
					has_tech_option = tech_mine_zro
					has_technology = tech_mine_zro
				}
			}
		}
	}
	desc = {
		text = tec_psionic_path.30080.desc.notech
		trigger = {
			owner = {
				NOR = {
					has_tech_option = tech_mine_zro
					has_technology = tech_mine_zro
				}
			}
		}
	}
	picture = GFX_evt_zro_2
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
			owner_main_species = {
				save_event_target_as = tec_target_species
			}
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_psionic_path.30080.a
		custom_tooltip = tec_psionic_path.30080.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_mind
			icon_background = GFX_situation_approach_bg_green
			text = tec_icon_text_good_outcome
		}

		trigger = {
			hidden_trigger = {
				owner = {
					NOT = {
						has_technology = tech_mine_zro
						has_tech_option = tech_mine_zro
					}
				}
			}
		}

		owner = {
			give_technology = {
				tech = tech_mine_zro
			}
		}
		add_situation_progress = -50
	}

	option = {
		name = tec_psionic_path.30080.b
		custom_tooltip = tec_psionic_path.30080.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_mind
			icon_background = GFX_situation_approach_bg_green
			text = tec_icon_text_good_outcome
		}

		trigger = {
			hidden_trigger = {
				owner = {
					NOR = {
						has_technology = tech_mine_zro
						has_tech_option = tech_mine_zro
					}
				}
			}
		}
		owner = {
			add_tech_option_or_research_effect = {
				TECH = tech_mine_zro
				PROGRESS = 0.25
				CATEGORY = society_research
			}
		}
		add_situation_progress = -20
	}

	option = {
		name = tec_psionic_path.30080.c
		custom_tooltip = tec_psionic_path.30080.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_mind
			icon_background = GFX_situation_approach_bg_green
			text = tec_icon_text_neutral_outcome
		}
	}
}

# Situation finished
country_event = { # You are told the secrets of ascension
	id = tec_psionic_path.305
	title = "tec_psionic_path.305.name"
	desc = "tec_psionic_path.305.desc"
	picture = GFX_evt_surreal_visions
	show_sound = event_psionic

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			set_country_flag = tec_psionics_t2_completed
			fire_on_action = { on_action = tec_ascension_situation_finished }
		}
	}
	option = {
		name = "tec_psionic_path.305.a"
		custom_tooltip = "tec_psionic_path.305.a.tooltip"
	}
}


# ---------- Ascension mechanic
# Ascension controller
planet_event = {
	id = tec_psionic_path.30001
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		has_modifier = pm_tec_psionic_ascension
	}
	
	immediate = {
		if = {
			limit = {
				exists = owner
				owner = {
					NOT = {
						has_country_flag = tec_done_first_ascension
					}
				}
			}
			planet_event = {
				id = tec_psionic_path.30003
			}
			owner = {
				set_country_flag = tec_done_first_ascension
				change_variable = {
					which = tec_psionic_ascension_number
					value = 1
				}
			}
		}
		else = {
			planet_event = {
				id = tec_psionic_path.30004
			}
			owner = {
				change_variable = {
					which = tec_psionic_ascension_number
					value = 1
				}
			}
		}
	}
}

# Ascension anticheese - If someone attempts to remove all the psionic pops to avoid losing pops...
planet_event = {
	id = tec_psionic_path.30002
	title = "tec_psionic_path.30002.name"
	desc = "tec_psionic_path.30002.desc"
	picture = GFX_evt_zro_5
	show_sound = event_screams

	is_triggered_only = yes

	trigger = {
		any_owned_species = {
			tec_is_any_psionic_species = no
		}
	}

	immediate = {
		if = { # 10+ pops, selects 1
			limit = {
				num_pops < 21
			}
			while = {
				count = 1
				random_owned_pop = {
					limit = {
						is_sapient = yes
					}
					kill_pop = yes
				}
				add_deposit = d_tec_psionic_wasteland
				add_planet_devastation = 10
			}
		}
		else_if = { # 20+ pops, selects up to 2
			limit = {
				num_pops < 31
				num_pops > 20
			}
			while = {
				count = 2
				random_owned_pop = {
					limit = {
						is_sapient = yes
					}
					kill_pop = yes
				}
				add_deposit = d_tec_psionic_wasteland
			}
		}
		else_if = { # 30+ pops, selects up to 3
			limit = {
				num_pops < 41
				num_pops > 30
			}
			while = {
				count = 3
				random_owned_pop = {
					limit = {
						is_sapient = yes
					}
					kill_pop = yes
				}
				add_deposit = d_tec_psionic_wasteland
				add_planet_devastation = 10
			}
		}
		else_if = { # 40+ pops, selects up to 4
			limit = {
				num_pops < 51
				num_pops > 40
			}
			while = {
				count = 4
				random_owned_pop = {
					limit = {
						is_sapient = yes
					}
					kill_pop = yes
				}
				add_deposit = d_tec_psionic_wasteland
				add_planet_devastation = 10
			}
		}
		else_if = { # 50+ pops, selects up to 5
			limit = {
				num_pops > 50
			}
			while = {
				count = 5
				random_owned_pop = {
					limit = {
						is_sapient = yes
					}
					kill_pop = yes
				}
				add_deposit = d_tec_psionic_wasteland
				add_planet_devastation = 10
			}
		}
	}

	
	option = {
		name = "tec_psionic_path.30002.a"
	}
}

# The first ascension...well actually the second but you know
planet_event = {
	id = tec_psionic_path.30003
	title = "tec_psionic_path.30003.name"
	desc = "tec_psionic_path.30003.desc"
	picture = GFX_evt_zro_4
	show_sound = event_mystic_reveal_light

	is_triggered_only = yes

	trigger = {
		any_owned_species = {
			tec_is_any_psionic_species = yes
		}
	}

	immediate = {
		if = { # 10+ pops, selects 1
			limit = {
				num_pops < 21
			}
			while = {
				count = 1
				random_owned_species = {
					limit = {
						tec_is_any_psionic_species = yes
					}
					save_event_target_as = tec_selected_psionic_species
				}
				random_owned_pop = {
					limit = {
						species = {
							is_same_value = event_target:tec_selected_psionic_species
						}
						is_sapient = yes
					}
					kill_pop = yes
				}
				add_deposit = d_tec_psionic_ascension_zone_1
			}
		}
		else_if = { # 20+ pops, selects up to 2
			limit = {
				num_pops < 31
				num_pops > 20
			}
			while = {
				count = 2
				random_owned_species = {
					limit = {
						tec_is_any_psionic_species = yes
					}
					save_event_target_as = tec_selected_psionic_species
				}
				random_owned_pop = {
					limit = {
						species = {
							is_same_value = event_target:tec_selected_psionic_species
						}
						is_sapient = yes
					}
					kill_pop = yes
				}
				add_deposit = d_tec_psionic_ascension_zone_1
			}
		}
		else_if = { # 30+ pops, selects up to 3
			limit = {
				num_pops < 41
				num_pops > 30
			}
			while = {
				count = 3
				random_owned_species = {
					limit = {
						tec_is_any_psionic_species = yes
					}
					save_event_target_as = tec_selected_psionic_species
				}
				random_owned_pop = {
					limit = {
						species = {
							is_same_value = event_target:tec_selected_psionic_species
						}
						is_sapient = yes
					}
					kill_pop = yes
				}
				add_deposit = d_tec_psionic_ascension_zone_1
			}
		}
		else_if = { # 40+ pops, selects up to 4
			limit = {
				num_pops < 51
				num_pops > 40
			}
			while = {
				count = 4
				random_owned_species = {
					limit = {
						tec_is_any_psionic_species = yes
					}
					save_event_target_as = tec_selected_psionic_species
				}
				random_owned_pop = {
					limit = {
						species = {
							is_same_value = event_target:tec_selected_psionic_species
						}
						is_sapient = yes
					}
					kill_pop = yes
				}
				add_deposit = d_tec_psionic_ascension_zone_1
			}
		}
		else_if = { # 50+ pops, selects up to 5
			limit = {
				num_pops > 50
			}
			while = {
				count = 5
				random_owned_species = {
					limit = {
						tec_is_any_psionic_species = yes
					}
					save_event_target_as = tec_selected_psionic_species
				}
				random_owned_pop = {
					limit = {
						species = {
							is_same_value = event_target:tec_selected_psionic_species
						}
						is_sapient = yes
					}
					kill_pop = yes
				}
				add_deposit = d_tec_psionic_ascension_zone_1
			}
		}
	}
	
	option = {
		name = "tec_psionic_path.30003.a"
	}
}

# Ascension continuations
planet_event = {
	id = tec_psionic_path.30004
	title = "tec_psionic_path.30004.name"
	desc = "tec_psionic_path.30004.desc"
	picture = GFX_evt_zro_4
	show_sound = event_mystic_reveal_light

	is_triggered_only = yes

	trigger = {
		any_owned_species = {
			tec_is_any_psionic_species = yes
		}
	}

	immediate = {
		if = { # 10+ pops, selects 1
			limit = {
				num_pops < 21
			}
			while = {
				count = 1
				random_owned_species = {
					limit = {
						tec_is_any_psionic_species = yes
					}
					save_event_target_as = tec_selected_psionic_species
				}
				random_owned_pop = {
					limit = {
						species = {
							is_same_value = event_target:tec_selected_psionic_species
						}
						is_sapient = yes
					}
					kill_pop = yes
				}
				add_deposit = d_tec_psionic_ascension_zone_1
			}
		}
		else_if = { # 20+ pops, selects up to 2
			limit = {
				num_pops < 31
				num_pops > 20
			}
			while = {
				count = 2
				random_owned_species = {
					limit = {
						tec_is_any_psionic_species = yes
					}
					save_event_target_as = tec_selected_psionic_species
				}
				random_owned_pop = {
					limit = {
						species = {
							is_same_value = event_target:tec_selected_psionic_species
						}
						is_sapient = yes
					}
					kill_pop = yes
				}
				add_deposit = d_tec_psionic_ascension_zone_1
			}
		}
		else_if = { # 30+ pops, selects up to 3
			limit = {
				num_pops < 41
				num_pops > 30
			}
			while = {
				count = 3
				random_owned_species = {
					limit = {
						tec_is_any_psionic_species = yes
					}
					save_event_target_as = tec_selected_psionic_species
				}
				random_owned_pop = {
					limit = {
						species = {
							is_same_value = event_target:tec_selected_psionic_species
						}
						is_sapient = yes
					}
					kill_pop = yes
				}
				add_deposit = d_tec_psionic_ascension_zone_1
			}
		}
		else_if = { # 40+ pops, selects up to 4
			limit = {
				num_pops < 51
				num_pops > 40
			}
			while = {
				count = 4
				random_owned_species = {
					limit = {
						tec_is_any_psionic_species = yes
					}
					save_event_target_as = tec_selected_psionic_species
				}
				random_owned_pop = {
					limit = {
						species = {
							is_same_value = event_target:tec_selected_psionic_species
						}
						is_sapient = yes
					}
					kill_pop = yes
				}
				add_deposit = d_tec_psionic_ascension_zone_1
			}
		}
		else_if = { # 50+ pops, selects up to 5
			limit = {
				num_pops > 50
			}
			while = {
				count = 5
				random_owned_species = {
					limit = {
						tec_is_any_psionic_species = yes
					}
					save_event_target_as = tec_selected_psionic_species
				}
				random_owned_pop = {
					limit = {
						species = {
							is_same_value = event_target:tec_selected_psionic_species
						}
						is_sapient = yes
					}
					kill_pop = yes
				}
				add_deposit = d_tec_psionic_ascension_zone_1
			}
		}
	}
	
	option = {
		name = "tec_psionic_path.30004.a"
	}
}

# ----- Psionic traits - also used by mixed paths
# Shroud affinity controller on year pulse
country_event = {
	id = tec_psionic_path.500
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		has_country_flag = tec_announced_psionic_traits
		NOT = {
			has_country_flag = tec_recently_received_psionic_trait
		}
		NAND = {
			has_country_flag = tec_unlocked_psionic_body
			has_country_flag = tec_unlocked_psionic_mind
			has_country_flag = tec_unlocked_psionic_energy
			has_country_flag = tec_unlocked_psionic_unity
			has_country_flag = tec_unlocked_psionic_telekinesis
			has_country_flag = tec_unlocked_psionic_teleport
		}
		if = {	# Biopsi and cyberpsi can only get 2
			limit = {
				NOT = {
					has_ascension_perk = ap_tec_psionic_ascendance
				}
			}
			OR = {
				NOT = {
					is_variable_set = tec_obtained_psionic_traits
				}
				check_variable = {
					which = tec_obtained_psionic_traits
					value < 3
				}
			}
		}
	}

	immediate = {
		# reset variables
		set_variable = {
			which = tec_psi_tr_chance_shroud
			value = 1
		}
		set_variable = {
			which = tec_psi_tr_chance_ascension
			value = 2
		}
		set_variable = {	# having a patron reduces the change of getting a psionic trait naturally
			which = tec_psi_tr_chance_patron
			value = 0.5
		}
		
		# checks times accessed the shroud
		if = {
			limit = {
				is_variable_set = tec_regular_shroud_incursions
			}
			multiply_variable = {	# Shroud explored 5 times = 5 points
				which = tec_psi_tr_chance_shroud
				value = tec_regular_shroud_incursions
			}
		}
		# checks times ascended
		if = {
			limit = {
				is_variable_set = tec_psionic_ascension_number
			}
			multiply_variable = { # Ascended 5 times = 10 points
				which = tec_psi_tr_chance_shroud
				value = tec_psionic_ascension_number
			}
		}

		# Checks number of traits
		if = {
			limit = {
				is_variable_set = tec_obtained_psionic_traits
			}
			set_variable = {
				which = tec_temp_psionic_trait_handler
				value = tec_obtained_psionic_traits
			}
			multiply_variable = {	# 1 trait = 50%, 2 traits = 33% chance, 3 traits = 22% chance etc
				which = tec_temp_psionic_trait_handler
				value = 1.5
			}

			divide_variable = {
				which = tec_psi_tr_chance_shroud
				value = tec_temp_psionic_trait_handler
			}
		}

		# The result is the chance to get a trait after each year
		if = {
			limit = { # 10%
				check_variable = {
					which = tec_psi_tr_chance_shroud
					value < 11
				}
			}
			random = {
				chance = 3
				set_country_flag = tec_get_psionic_trait
			}
		}
		else_if = {	# 20%
			limit = {
				check_variable = {
					which = tec_psi_tr_chance_shroud
					value > 10
				}
				check_variable = {
					which = tec_psi_tr_chance_shroud
					value < 21
				}
			}
			random = {
				chance = 6
				set_country_flag = tec_get_psionic_trait
			}
		}
		else_if = { # 30%
			limit = {
				check_variable = {
					which = tec_psi_tr_chance_shroud
					value > 20
				}
				check_variable = {
					which = tec_psi_tr_chance_shroud
					value < 31
				}
			}
			random = {
				chance = 9
				set_country_flag = tec_get_psionic_trait
			}
		}
		else_if = { # 30%
			limit = {
				check_variable = {
					which = tec_psi_tr_chance_shroud
					value > 30
				}
			}
			random = {
				chance = 12
				set_country_flag = tec_get_psionic_trait
			}
		}
		# If has the flag...
		if = {
			limit = {
				has_country_flag = tec_get_psionic_trait
				
			}
			if = {	# first trait
				limit = {
					NOR = {
						has_country_flag = tec_unlocked_psionic_body
						has_country_flag = tec_unlocked_psionic_mind
						has_country_flag = tec_unlocked_psionic_energy
						has_country_flag = tec_unlocked_psionic_unity
						has_country_flag = tec_unlocked_psionic_telekinesis
						has_country_flag = tec_unlocked_psionic_teleport
					}
				}
				random_list = {
					20 = {
						modifier = {
							weight = 0
							has_country_flag = tec_unlocked_psionic_body
						}
						country_event = {
							id = tec_psionic_path.50001
							days = 1
							random = 30
						}
						change_variable = {
							which = tec_obtained_psionic_traits
							value = 1
						}
					}
					20 = {
						modifier = {
							weight = 0
							has_country_flag = tec_unlocked_psionic_mind
						}
						country_event = {
							id = tec_psionic_path.50002
							days = 1
							random = 30
						}
						change_variable = {
							which = tec_obtained_psionic_traits
							value = 1
						}
					}
					20 = {
						modifier = {
							weight = 0
							has_country_flag = tec_unlocked_psionic_energy
						}
						country_event = {
							id = tec_psionic_path.50003
							days = 1
							random = 30
						}
						change_variable = {
							which = tec_obtained_psionic_traits
							value = 1
						}
					}
					20 = {
						modifier = {
							weight = 0
							has_country_flag = tec_unlocked_psionic_unity
						}
						country_event = {
							id = tec_psionic_path.50004
							days = 1
							random = 30
						}
						change_variable = {
							which = tec_obtained_psionic_traits
							value = 1
						}
					}
					20 = {
						modifier = {
							weight = 0
							has_country_flag = tec_unlocked_psionic_telekinesis
						}
						country_event = {
							id = tec_psionic_path.50005
							days = 1
							random = 30
						}
						change_variable = {
							which = tec_obtained_psionic_traits
							value = 1
						}
					}
					20 = {
						modifier = {
							weight = 0
							has_country_flag = tec_unlocked_psionic_teleport
						}
						country_event = {
							id = tec_psionic_path.50006
							days = 1
							random = 30
						}
						change_variable = {
							which = tec_obtained_psionic_traits
							value = 1
						}
					}
				}
			}
			else_if = {	# sorter
				limit = {
					OR = {
						has_country_flag = tec_unlocked_psionic_body
						has_country_flag = tec_unlocked_psionic_mind
						has_country_flag = tec_unlocked_psionic_energy
						has_country_flag = tec_unlocked_psionic_unity
						has_country_flag = tec_unlocked_psionic_telekinesis
						has_country_flag = tec_unlocked_psionic_teleport
					}
				}
				random_list = {
					20 = {
						modifier = {
							weight = 0
							has_country_flag = tec_unlocked_psionic_body
						}
						country_event = {
							id = tec_psionic_path.50001
							days = 1
							random = 30
						}
						change_variable = {
							which = tec_obtained_psionic_traits
							value = 1
						}
					}
					20 = {
						modifier = {
							weight = 0
							has_country_flag = tec_unlocked_psionic_mind
						}
						country_event = {
							id = tec_psionic_path.50002
							days = 1
							random = 30
						}
						change_variable = {
							which = tec_obtained_psionic_traits
							value = 1
						}
					}
					20 = {
						modifier = {
							weight = 0
							has_country_flag = tec_unlocked_psionic_energy
						}
						country_event = {
							id = tec_psionic_path.50003
							days = 1
							random = 30
						}
						change_variable = {
							which = tec_obtained_psionic_traits
							value = 1
						}
					}
					20 = {
						modifier = {
							weight = 0
							has_country_flag = tec_unlocked_psionic_unity
						}
						country_event = {
							id = tec_psionic_path.50004
							days = 1
							random = 30
						}
						change_variable = {
							which = tec_obtained_psionic_traits
							value = 1
						}
					}
					20 = {
						modifier = {
							weight = 0
							has_country_flag = tec_unlocked_psionic_telekinesis
						}
						country_event = {
							id = tec_psionic_path.50005
							days = 1
							random = 30
						}
						change_variable = {
							which = tec_obtained_psionic_traits
							value = 1
						}
					}
					20 = {
						modifier = {
							weight = 0
							has_country_flag = tec_unlocked_psionic_teleport
						}
						country_event = {
							id = tec_psionic_path.50005
							days = 1
							random = 30
						}
						change_variable = {
							which = tec_obtained_psionic_traits
							value = 1
						}
					}
				}
			}
			set_timed_country_flag = {
				flag = tec_recently_received_psionic_trait
				years = 10
			}
		}
		else = {
			break = yes
		}

	}

	after = {
		clear_variable = tec_psi_tr_chance_shroud
		clear_variable = tec_psi_tr_chance_ascension
		clear_variable = tec_psi_tr_chance_patron
	}
	
}

country_event = { # Psionic body
	id = tec_psionic_path.50001
	title = "tec_psionic_path.50001.name"
	desc = "tec_psionic_path.50001.desc"
	picture = GFX_evt_surreal_visions
	show_sound = event_psionic

	is_triggered_only = yes

	trigger = {
		NOT = {
			has_country_flag = tec_unlocked_psionic_body
		}
	}
	option = {
		name = "tec_psionic_path.50001.a"
		custom_tooltip = tec_psionic_path.50001.a.desc
		hidden_effect = {
			set_country_flag = tec_unlocked_psionic_body
		}
	}
}

country_event = { # Psionic mind
	id = tec_psionic_path.50002
	title = "tec_psionic_path.50002.name"
	desc = "tec_psionic_path.50002.desc"
	picture = GFX_evt_surreal_visions
	show_sound = event_psionic

	is_triggered_only = yes

	trigger = {
		NOT = {
			has_country_flag = tec_unlocked_psionic_mind
		}
	}
	option = {
		name = "tec_psionic_path.50002.a"
		custom_tooltip = tec_psionic_path.50002.a.desc
		hidden_effect = {
			set_country_flag = tec_unlocked_psionic_mind
		}
	}

}

country_event = { # Psionic Energy
	id = tec_psionic_path.50003
	title = "tec_psionic_path.50003.name"
	desc = "tec_psionic_path.50003.desc"
	picture = GFX_evt_surreal_visions
	show_sound = event_psionic

	is_triggered_only = yes

	trigger = {
		NOT = {
			has_country_flag = tec_unlocked_psionic_energy
		}
	}
	option = {
		name = "tec_psionic_path.50003.a"
		custom_tooltip = tec_psionic_path.50003.a.desc
		hidden_effect = {
			set_country_flag = tec_unlocked_psionic_energy
		}
	}
}

country_event = { # Psionic unity
	id = tec_psionic_path.50004
	title = "tec_psionic_path.50004.name"
	desc = "tec_psionic_path.50004.desc"
	picture = GFX_evt_surreal_visions
	show_sound = event_psionic

	is_triggered_only = yes

	trigger = {
		NOT = {
			has_country_flag = tec_unlocked_psionic_unity
		}
	}
	option = {
		name = "tec_psionic_path.50004.a"
		custom_tooltip = tec_psionic_path.50004.a.desc
		hidden_effect = {
			set_country_flag = tec_unlocked_psionic_unity
		}
	}
}

country_event = { # Psionic telekinesis
	id = tec_psionic_path.50005
	title = "tec_psionic_path.50005.name"
	desc = "tec_psionic_path.50005.desc"
	picture = GFX_evt_surreal_visions
	show_sound = event_psionic

	is_triggered_only = yes

	trigger = {
		NOT = {
			has_country_flag = tec_unlocked_psionic_telekinesis
		}
	}
	option = {
		name = "tec_psionic_path.50005.a"
		custom_tooltip = tec_psionic_path.50005.a.desc
		hidden_effect = {
			set_country_flag = tec_unlocked_psionic_telekinesis
		}
	}
}

country_event = { # Psionic teleport
	id = tec_psionic_path.50006
	title = "tec_psionic_path.50006.name"
	desc = "tec_psionic_path.50006.desc"
	picture = GFX_evt_surreal_visions
	show_sound = event_psionic

	is_triggered_only = yes

	trigger = {
		NOT = {
			has_country_flag = tec_unlocked_psionic_teleport
		}
	}
	option = {
		name = "tec_psionic_path.50006.a"
		custom_tooltip = tec_psionic_path.50006.a.desc
		hidden_effect = {
			set_country_flag = tec_unlocked_psionic_teleport
		}
	}
}
# ------


# Psionic path B
# ------------------------------------------------------------ tec_psionic_path_B.xxx
namespace = tec_psionic_path_B

# T2 picked

# Situation

# Situation finished

# T2 notification for other empires

# T3 picked

# Incursion trigger

# Incursion situation

# Halfway incursion events

# Random incursion events

# Incursion rewards


# --------------------------------- GESTALT ASCENSIONS ---------------------------------
# Hive psionic path
# ------------------------------------------------------------ tec_psionic_hive_path.xxx
namespace = tec_psionic_hive_path

# T1 picked

# Notification for other countries

# T2 picked

# Situation - Probing dimensions

# Situation finished

# T2 subsituations

# T3 picked

# Scaling situation 


# Machine Main Path
# ------------------------------------------------------------ tec_machine_path.xxx
namespace = tec_machine_path

# --------------- T1
country_event = { # T1 picked
	id = tec_machine_path.100
	title = "tec_machine_path.100.name"
	desc = "tec_machine_path.100.desc"
	picture = GFX_evt_machine_sapience
	show_sound = event_synthetic_evolution
	trackable = yes

	is_triggered_only = yes

	option = {
		name = "tec_machine_path.100.a"
		custom_tooltip = "tec_machine_path.100.a.tooltip"
		hidden_effect = {
			save_event_target_as = tec_target_country
			event_target:tec_target_country = {
				start_situation = {
					type = situation_tec_machine_path_t1
					target = event_target:tec_target_country.capital_scope
					effect = {
						save_event_target_as = new_situation
					}
				}
				event_target:new_situation = {
					set_situation_locked = no
				}
			}
		}
	}
}

# --------------- Situation
situation_event = { # Machine t1 25%
	id = tec_machine_path.10025
	title = "tec_machine_path.10025.name"
	desc = "tec_machine_path.10025.desc"

	picture = GFX_evt_tec_synthetic_recognition
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_machine_path.10025.a
		custom_tooltip = tec_machine_path.10025.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_ai
			icon_background = GFX_situation_approach_bg_tec_blue
			text = tec_icon_text_neutral_outcome
		}
	}
}
situation_event = { # Machine t1 50%
	id = tec_machine_path.10050
	title = "tec_machine_path.10050.name"
	desc = "tec_machine_path.10050.desc"

	picture = GFX_evt_tec_synthetic_first
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_machine_path.10050.a
		custom_tooltip = tec_machine_path.10050.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_ai
			icon_background = GFX_situation_approach_bg_tec_blue
			text = tec_icon_text_neutral_outcome
		}
	}
}
situation_event = { # Machine t1 75%
	id = tec_machine_path.10075
	title = "tec_machine_path.10075.name"
	desc = "tec_machine_path.10075.desc"

	picture = GFX_evt_machine_sapience
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_machine_path.10075.a
		custom_tooltip = tec_machine_path.10075.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_ai
			icon_background = GFX_situation_approach_bg_tec_blue
			text = tec_icon_text_neutral_outcome
		}
	}
}

country_event = { # Finished
	id = tec_machine_path.105
	title = "tec_machine_path.105.name"
	desc = "tec_machine_path.105.desc"
	picture = GFX_evt_tec_synthetic_first
	show_sound = event_synthetic_evolution
	trackable = yes

	is_triggered_only = yes

	option = {
		name = "tec_machine_path.105.a"
		custom_tooltip = tec_machine_path.105.a.tooltip
		hidden_effect = {
			set_country_flag = tec_synth_path_unlocked_tradition_1
			set_country_flag = tec_machine_synthetic_trait
			every_owned_leader = {
				add_leader_traits_after_modification = yes
				remove_leader_traits_after_modification = yes
			}
			every_pool_leader = {
				add_leader_traits_after_modification = yes
				remove_leader_traits_after_modification = yes
			}

			fire_on_action = { on_action = tec_ascension_situation_finished }
		}
	}
}

# T2
country_event = { # T2 picked
	id = tec_machine_path.200
	title = "tec_machine_path.200.name"
	desc = "tec_machine_path.200.desc"
	picture = GFX_evt_tec_synthetic_first
	show_sound = event_synthetic_evolution
	trackable = yes

	is_triggered_only = yes

	option = {
		name = "tec_machine_path.200.a"
		custom_tooltip = tec_machine_path.200.a.tooltip
		hidden_effect = {
			set_country_flag = tec_completed_synth_t2
		}
	}
}

# T2 situation - Synthetic Singularity
# 10%
# 25%
# 50%
# 75% 

# Halfway empire situation events

# Random situation events

# Situation finished

# T3 picked
country_event = { # T3 picked
	id = tec_machine_path.300
	title = "tec_machine_path.300.name"
	desc = "tec_machine_path.300.desc"
	picture = GFX_evt_machine_sapience
	show_sound = event_synthetic_evolution
	trackable = yes

	is_triggered_only = yes

	option = {
		name = "tec_machine_path.300.a"
		hidden_effect = {
			save_event_target_as = tec_synth_t3_owner
		}
		capital_scope = {
			#enable_special_project = {
			#	name = "TEC_SYNTH_T3_PROJECT"
			#	location = this
			#	owner = root
			#}
		}
	}
}

# T3 situation
# 10% - Decide the focus
# 25%
# 50%
# 75% 

# Halfway empire situation events

# Random situation events

# Situation finished

# Post-auto special project event

# T3 Notification to other empires



# --------------------------------- MIXED ASCENSIONS ---------------------------------
# Bio-Cyb: Replicant
# ------------------------------------------------------------ tec_replicant_path.xxx
namespace = tec_replicant_path

# T3 picked
country_event = { # Biosynths on pick
	id = tec_replicant_path.300
	title = "tec_replicant_path.300.name"
	desc = {
		text = "tec_replicant_path.300.desc"
		trigger = {
			always = yes
		}
	}
	desc = {
		text = "tec_replicant_path.300.desc.genetics"
		trigger = {
			always = no
		}
	}
	desc = {
		text = "tec_replicant_path.300.desc.cybernetics"
		trigger = {
			always = no
		}
	}
	desc = {
		text = "tec_replicant_path.300.desc.replicant"
		trigger = {
			always = no
		}
	}
	picture = GFX_evt_scientific_experiments
	show_sound = event_synthetic_evolution
	trackable = yes

	is_triggered_only = yes

	#option = {
		#name = "tec_replicant_path.300.a"
		#hidden_effect = {
		#	save_event_target_as = tec_replicant_owner
		#}
		#capital_scope = {
		#	enable_special_project = {
		#		name = "TEC_REPLICANT_PROJECT"
		#		location = this
		#		owner = root
		#	}
		#}
	#}

	option = {
		name = "tec_replicant_path.300.a"
		custom_tooltip = "tec_replicant_path.300.a.tooltip"
		icon = {
			icon = GFX_situation_approach_tec_ai
			icon_background = GFX_situation_approach_bg_tec_blue
			text = set_situation_approach_icon_text
		}
		allow = {
			has_technology = tech_neuro_quantum_links
			has_technology = tech_gene_tailoring
			NOT = {
				any_situation = {
					is_situation_type = situation_tec_replicant_path_t2
				}
			}
		}
		hidden_effect = { 
			save_event_target_as = tec_target_country
			event_target:tec_target_country = {
				start_situation = {
					type = situation_tec_replicant_path_t2
					target = event_target:tec_target_country.capital_scope
					effect = {
						save_event_target_as = new_situation
						set_situation_approach = situation_approach_tec_replicant_path_t2_neutral
						set_situation_locked = no
					}
				}
			}
			event_target:new_situation = {
				set_situation_locked = no
			}
		}
	}

	option = {
		name = "tec_replicant_path.300.b"
		custom_tooltip = "tec_replicant_path.300.b.tooltip"
		icon = {
			icon = GFX_situation_approach_research
			icon_background = GFX_situation_approach_bg_red
			text = set_situation_approach_icon_text
		}
		trigger = {
			OR = {
				NOT = {
					has_technology = tech_neuro_quantum_links
				}
				NOT = {
					has_technology = tech_gene_tailoring
				}
			}
		}
		allow = {
			NOT = {
				any_situation = {
					is_situation_type = situation_tec_replicant_path_t2
				}
			}
		}
		hidden_effect = { 
			save_event_target_as = tec_target_country
			event_target:tec_target_country = {
				start_situation = {
					type = situation_tec_replicant_path_t2
					target = event_target:tec_target_country.capital_scope
					effect = {
						save_event_target_as = new_situation
						set_situation_approach = situation_approach_tec_replicant_path_t2_notech
						set_situation_locked = no
					}
				}
			}
			event_target:new_situation = {
				set_situation_locked = no
			}
		}
	}
}

# T3 situation
situation_event = { # 10%
	id = tec_replicant_path.30010
	title = "tec_replicant_path.30010.name"
	desc = "tec_replicant_path.30010.desc"

	picture = GFX_evt_scientific_experiments
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_replicant_path.30010.a
		custom_tooltip = tec_replicant_path.30010.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_ai
			icon_background = GFX_situation_approach_bg_green
			text = set_situation_approach_icon_text
		}
		hidden_effect = {
			set_situation_flag = situation_tec_replicant_path_t2_unlock_approachs
		}
		set_situation_approach = situation_approach_tec_replicant_path_t2_slow
	}
	option = {
		name = tec_replicant_path.30010.b
		custom_tooltip = tec_replicant_path.30010.b.tooltip
		icon = {
			icon = GFX_situation_approach_tec_ai
			icon_background = GFX_situation_approach_bg_red
			text = set_situation_approach_icon_text
		}
		hidden_effect = {
			set_situation_flag = situation_tec_replicant_path_t2_unlock_approachs
		}
		set_situation_approach = situation_approach_tec_replicant_path_t2_fast
	}
}
situation_event = { # 20% - Indicate combined
	id = tec_replicant_path.30020
	title = "tec_replicant_path.30020.name"
	desc = "tec_replicant_path.30020.desc"

	picture = GFX_evt_scientific_experiments
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_replicant_path.30020.a
		custom_tooltip = tec_replicant_path.30010.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_ai
			icon_background = GFX_situation_approach_bg_yellow
			text = tec_icon_text_good_outcome
		}
	}
}
situation_event = { # 40% - Indicate upgraded
	id = tec_replicant_path.30040
	title = "tec_replicant_path.30040.name"
	desc = "tec_replicant_path.30040.desc"

	picture = GFX_evt_scientific_experiments
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_replicant_path.30040.a
		custom_tooltip = tec_replicant_path.30040.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_ai
			icon_background = GFX_situation_approach_bg_yellow
			text = tec_icon_text_good_outcome
		}
	}
}
situation_event = { # 50% - Decide
	id = tec_replicant_path.30050
	title = "tec_replicant_path.30050.name"
	desc = {
		text = "tec_replicant_path.30050.desc"
		trigger = {
			NOT = {
				has_situation_flag = situation_tec_replicant_path_t2_picked
			}
		}
	}
	desc = {
		text = "tec_replicant_path.30050.desc.revisited"
		trigger = {
			has_situation_flag = situation_tec_replicant_path_t2_picked
		}
	}

	picture = GFX_evt_genetic_modification
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
		}
	}

	after = {
		hidden_effect = {
			situation_event = {
				id = tec_replicant_path.30051
			}
		}
	}

	option = {
		name = tec_replicant_path.30050.a.standard
		custom_tooltip = tec_replicant_path.30050.a.standard.tooltip
		icon = {
			icon = GFX_situation_approach_pop
			icon_background = GFX_situation_approach_bg_tec_blue
			text = tec_icon_text_good_outcome
		}
		hidden_effect = {
			set_situation_flag = situation_tec_replicant_path_t2_picked
		}
	}
	option = {
		name = tec_replicant_path.30050.a.combined
		custom_tooltip = tec_replicant_path.30050.a.combined.tooltip
		icon = {
			icon = GFX_situation_approach_this_is_fine
			icon_background = GFX_situation_approach_bg_tec_blue
			text = tec_icon_text_good_outcome
		}
		hidden_effect = {
			set_situation_flag = situation_tec_replicant_path_t2_picked
			owner = {
				set_country_flag = tec_replicant_combined
			}
		}
	}
	
	option = {
		name = tec_replicant_path.30050.a.upgraded
		custom_tooltip = tec_replicant_path.30050.a.upgraded.tooltip
		icon = {
			icon = GFX_situation_approach_influence
			icon_background = GFX_situation_approach_bg_tec_blue
			text = tec_icon_text_good_outcome
		}
		hidden_effect = {
			set_situation_flag = situation_tec_replicant_path_t2_picked
			owner = {
				set_country_flag = tec_replicant_upgraded
			}
		}
	}
}
situation_event = {
	id = tec_replicant_path.30051
	title = "tec_replicant_path.30051.name"
	desc = {
		text = "tec_replicant_path.30051.desc.base"
		trigger = {
			exists = owner
			owner = {
				NOR = {
					has_country_flag = tec_replicant_combined
					has_country_flag = tec_replicant_upgraded
				}
			}
		}
	}
	desc = {
		text = "tec_replicant_path.30051.desc.combined"
		trigger = {
			exists = owner
			owner = {
				has_country_flag = tec_replicant_combined
			}
		}
	}
	desc = {
		text = "tec_replicant_path.30051.desc.upgraded"
		trigger = {
			exists = owner
			owner = {
				has_country_flag = tec_replicant_upgraded
			}
		}
	}

	picture = GFX_evt_genetic_modification
	is_triggered_only = yes
	situation = this
	location = target

	option = {
		name = tec_replicant_path.30051.a.standard
		custom_tooltip = tec_replicant_path.30051.a.standard.tooltip
		icon = {
			icon = GFX_situation_approach_pop
			icon_background = GFX_situation_approach_bg_tec_blue
			text = tec_icon_text_good_outcome
		}
		trigger = {
			exists = owner
			owner = {
				NOR = {
					has_country_flag = tec_replicant_combined
					has_country_flag = tec_replicant_upgraded
				}
			}
		}
		hidden_effect = {
			set_situation_locked = no
		}
	}
	option = {
		name = tec_replicant_path.30051.a.combined
		custom_tooltip = tec_replicant_path.30051.a.combined.tooltip
		icon = {
			icon = GFX_situation_approach_this_is_fine
			icon_background = GFX_situation_approach_bg_tec_blue
			text = tec_icon_text_good_outcome
		}
		trigger = {
			exists = owner
			owner = {
				has_country_flag = tec_replicant_combined
			}
		}
		hidden_effect = {
			set_situation_locked = no
		}
	}
	option = {
		name = tec_replicant_path.30051.a.upgraded
		custom_tooltip = tec_replicant_path.30051.a.upgraded.tooltip
		icon = {
			icon = GFX_situation_approach_influence
			icon_background = GFX_situation_approach_bg_tec_blue
			text = tec_icon_text_good_outcome
		}
		trigger = {
			exists = owner
			owner = {
				has_country_flag = tec_replicant_upgraded
			}
		}
		hidden_effect = {
			set_situation_locked = no
		}
	}
	option = {
		name = tec_replicant_path.30051.b.reroll
		custom_tooltip = tec_replicant_path.30051.b.reroll.tooltip
		icon = {
			icon = GFX_situation_approach_shrug
			icon_background = GFX_situation_approach_bg_yellow
			text = tec_icon_text_good_outcome
		}
		hidden_effect = {
			owner = {
				remove_country_flag = tec_replicant_combined
				remove_country_flag = tec_replicant_upgraded
			}
			situation_event = {
				id = tec_replicant_path.30050
			}
		}
	}
}
situation_event = { # 75% - Results
	id = tec_replicant_path.30075
	title = "tec_replicant_path.30075.name"
	desc = {
		text = "tec_replicant_path.30075.desc.base"
		trigger = {
			exists = owner
			owner = {
				NOR = {
					has_country_flag = tec_replicant_combined
					has_country_flag = tec_replicant_upgraded
				}
			}
		}
	}
	desc = {
		text = "tec_replicant_path.30075.desc.combined"
		trigger = {
			exists = owner
			owner = {
				has_country_flag = tec_replicant_combined
			}
		}
	}
	desc = {
		text = "tec_replicant_path.30075.desc.upgraded"
		trigger = {
			exists = owner
			owner = {
				has_country_flag = tec_replicant_upgraded
			}
		}
	}

	picture = GFX_evt_machine_sapience
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_replicant_path.30075.a
		custom_tooltip = tec_replicant_path.30075.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_ai
			icon_background = GFX_situation_approach_bg_tec_blue
			text = tec_icon_text_good_outcome
		}
		hidden_effect = {
			set_situation_flag = situation_tec_replicant_path_t2_slow_progress
		}
	}
}

# Halfway empire situation events

# Random situation events

# Situation finished
country_event = { # Biosynths after ending project
	id = tec_replicant_path.305
	title = "tec_replicant_path.305.name"
	desc = "tec_replicant_path.305.desc"
	picture = GFX_evt_hive_mind
	show_sound = event_synthetic_evolution

	is_triggered_only = yes

	immediate = {
		hidden_effect = { # Path rewards
			# Path finished
			set_country_flag = tec_replicant_path_finished
			# Alter species
			tec_create_replicant_species = yes
			# Flags
			set_country_flag = tec_replicant_assimilation
			remove_country_flag = tec_cybernetic_t1_assimilation
			remove_country_flag = tec_cybernetic_t2_assimilation
			# lets change the cybernetic fallback moduled don't we?
				if = {
					limit = {
						has_country_flag = tec_cybernetic_submodule_lifespan
					}
					remove_country_flag = tec_cybernetic_submodule_lifespan
					set_country_flag = tec_cybernetic_submodule_knowledge
				}
			# /

			fire_on_action = { on_action = tec_ascension_situation_finished }
		}	
	}

	option = {
		name = "tec_replicant_path.305.a"
		custom_tooltip = SYNTH_ASSIMILATION_CITIZENSHIP_ENABLED
		hidden_effect = {	
			# Announcement
			if = {
				limit = {	# Prevents FE and alike from triggering the announce
					NOT = {
						has_country_flag = tec_advanced_ascension
					}
				}
				every_country = {
					limit = {
						is_ai = no
						NOR = {
							is_same_value = root
							# TO DO policy for muting other empire things 
							has_country_flag = tec_mute_empire_announces
						}
						has_communications = root
						root = {
							is_primitive = no
						}
					}
					country_event = {
						id = tec_replicant_path.30501
						days = 5 
					}
					country_event = {
						id = tec_replicant_path.30502
						days = 10 
					}
				}
			}
		}
	}

	#after = { # Synth babbling - disabled because replicants
		#observer_event = { id = observer.4 }
		#every_country = {
		#	limit = {
		#		is_ai = no
		#		NOR = {
		#			is_same_value = root
		#			# TO DO policy for muting other empire things 
		#			has_country_flag = tec_mute_empire_announces
		#		}
		#		has_communications = root
		#		root = {
		#			is_primitive = no
		#		}
		#	}
		#	country_event = { id = utopia.2555 days = 5 }
		#	country_event = { id = utopia.2556 days = 10 }
		#}
		#if = {
		#	limit = {
		#		any_country = {
		#			OR = {
		#				is_country_type = fallen_empire
		#				is_country_type = awakened_fallen_empire
		#			}
		#			has_ethic = ethic_fanatic_spiritualist
		#			has_communications = root
		#			root = {
		#				is_primitive = no
		#			}
		#			NOT = { is_same_value = root }
		#		}
		#	}
		#	random_country = {
		#		limit = {
		#			OR = {
		#				is_country_type = fallen_empire
		#				is_country_type = awakened_fallen_empire
		#			}
		#			has_ethic = ethic_fanatic_spiritualist
		#			has_communications = root
		#			root = {
		#				is_primitive = no
		#			}
		#			NOT = { is_same_value = root }
		#		}
		#		country_event = { id = utopia.2557 days = 15 }
		#	}
		#}
		#else = {
		#	random_country = {
		#		limit = {
		#			tec_is_default_country = yes
		#			has_ethic = ethic_fanatic_spiritualist
		#			NOT = {
		#				has_valid_civic = civic_tec_regular_machine_cult
		#			}
		#			has_communications = root
		#			root = {
		#				is_primitive = no
		#			}
		#			NOT = { is_same_value = root }
		#		}
		#		country_event = { id = utopia.2557 days = 15 }
		#	}
		#	random_country = {
		#		limit = {
		#			tec_is_default_country = yes
		#			is_spiritualist = yes
		#			has_valid_civic = civic_tec_regular_machine_cult
		#			has_communications = root
		#			root = {
		#				is_primitive = no
		#			}
		#			NOT = { is_same_value = root }
		#		}
		#		country_event = { id = utopia.25571 days = 15 }
		#	}
		#}
	#}
}

# T2 Notification to other empires
country_event = { # Notification for Other Nations
	id = tec_replicant_path.30501
	title = tec_replicant_path.30501.name
	desc = tec_replicant_path.30501.desc

	desc = {
		text = utopia.2555.2.desc
		trigger = {
			OR = {
				has_ethic = ethic_fanatic_spiritualist
				has_ethic = ethic_spiritualist
			}
			NOT = {
				has_valid_civic = civic_tec_regular_machine_cult
			}
		}
	}
	picture = GFX_evt_cybernetics
	show_sound = event_synthetic_evolution

	is_triggered_only = yes

	option = {
		name = INTRIGUING
		trigger = {
			OR = {
				NOR = {
					has_ethic = ethic_fanatic_spiritualist
					has_ethic = ethic_spiritualist	
				}
				AND = {
					OR = {
						has_ethic = ethic_fanatic_spiritualist
						has_ethic = ethic_spiritualist
					}
					OR = {
						has_valid_civic = civic_tec_regular_machine_cult
						has_valid_civic = civic_tec_regular_occultist
					}
				}
			}
		}
	}

	option = {
		name = DISCONCERTING
		trigger = {
			OR = {
				has_ethic = ethic_fanatic_spiritualist
				has_ethic = ethic_spiritualist
			}
			NOR = {
				has_valid_civic = civic_tec_regular_machine_cult
				has_valid_civic = civic_tec_regular_occultist
			}
		}
	}
}
country_event = { # Diplomatic Announcement
	id = tec_replicant_path.30502
	title = TRANSMISSION
	desc = "tec_replicant_path.30502.desc"

	diplomatic = yes

	is_triggered_only = yes

	picture_event_data = {
		portrait = from
		room = from.ruler
	}

	option = {
		name = tec_replicant_path.30502.a
		trigger = {
			NOT = { is_at_war_with = from }
		}
	}
	option = {
		name = tec_replicant_path.30502.b
		trigger = {
			NOT = { is_at_war_with = from }
		}
	}

	option = {
		name = utopia.2556.d
		trigger = {
			NOT = {
				is_at_war_with = from
			}
		}
	}

	option = {
		name = tec_replicant_path.30502.c
		trigger = {
			is_at_war_with = from
		}
	}

	option = {
		name = tec_replicant_path.30502.d
		trigger = {
			has_valid_civic = civic_machine_terminator
		}
	}

	
}

# Cyb-Psi: Cyberpsionic
# ------------------------------------------------------------ tec_cyberpsionic_path.xxx
namespace = tec_cyberpsionic_path

# T3 picked
country_event = {	# Provides situation
	id = tec_cyberpsionic_path.300
	title = "tec_cyberpsionic_path.300.name"
	desc = {
		text = "tec_cyberpsionic_path.300.desc.psionics"
		trigger = {
			exists = owner
			owner = {
				has_country_flag = tec_psionics_gate_completed
			}
		}
	}
	desc = {
		text = "tec_cyberpsionic_path.300.desc.cybernetics"
		trigger = {
			exists = owner
			owner = {
				has_country_flag = tec_cybernetics_gate_completed
			}
		}
	}
	desc = {
		text = "tec_cyberpsionic_path.300.desc"
		trigger = {
			exists = owner
			owner = {
				NOR = {
					has_country_flag = tec_psionics_gate_completed
					has_country_flag = tec_cybernetics_gate_completed
				}
			}
		}
	}
	picture = GFX_evt_cybernetics
	show_sound = event_the_great_awakening

	is_triggered_only = yes

	option = {
		name = "tec_cyberpsionic_path.300.a"
		custom_tooltip = "tec_cyberpsionic_path.300.a.tooltip"
		icon = {
			icon = GFX_situation_approach_tec_cyb
			icon_background = GFX_situation_approach_bg_tec_purple
			text = set_situation_approach_icon_text
		}
		allow = {
			has_technology = tech_neuro_quantum_links
			has_technology = tech_psionic_theory
			NOT = {
				any_situation = {
					is_situation_type = situation_tec_cyberpsionic_path_t2
				}
			}
		}
		hidden_effect = { 
			save_event_target_as = tec_target_country
			event_target:tec_target_country = {
				start_situation = {
					type = situation_tec_cyberpsionic_path_t2
					target = event_target:tec_target_country.capital_scope
					effect = {
						save_event_target_as = new_situation
						set_situation_approach = situation_approach_tec_cyberpsionic_path_t2_neutral
						set_situation_locked = no
					}
				}
			}
			event_target:new_situation = {
				set_situation_locked = no
			}
		}
	}

	option = {
		name = "tec_cyberpsionic_path.300.b"
		custom_tooltip = "tec_cyberpsionic_path.300.b.tooltip"
		icon = {
			icon = GFX_situation_approach_research
			icon_background = GFX_situation_approach_bg_red
			text = set_situation_approach_icon_text
		}
		trigger = {
			OR = {
				NOT = {
					has_technology = tech_neuro_quantum_links
				}
				NOT = {
					has_technology = tech_psionic_theory
				}
			}
		}
		allow = {
			NOT = {
				any_situation = {
					is_situation_type = situation_tec_cyberpsionic_path_t2
				}
			}
		}
		hidden_effect = { 
			save_event_target_as = tec_target_country
			event_target:tec_target_country = {
				start_situation = {
					type = situation_tec_cyberpsionic_path_t2
					target = event_target:tec_target_country.capital_scope
					effect = {
						save_event_target_as = new_situation
						set_situation_approach = situation_approach_tec_cyberpsionic_path_t2_notech
						set_situation_locked = no
					}
				}
			}
			event_target:new_situation = {
				set_situation_locked = no
			}
		}
	}
}

# T3 situation
	# Note
		# 10 Discovering our potential
		# 20 Tools of improvement - gives the side projects
		# 30 Material creativity
		# 50 Anomalous combination
		# 60 Infusion applications - gives the projects
	# /
situation_event = { # 10%
	id = tec_cyberpsionic_path.30010
	title = "tec_cyberpsionic_path.30010.name"
	desc = {
		text = "tec_cyberpsionic_path.30010.desc.psionics"
		trigger = {
			exists = owner
			owner = {
				has_country_flag = tec_psionics_gate_completed
			}
		}
	}
	desc = {
		text = "tec_cyberpsionic_path.30010.desc.cybernetics"
		trigger = {
			exists = owner
			owner = {
				has_country_flag = tec_cybernetics_gate_completed
			}
		}
	}
	desc = {
		text = "tec_cyberpsionic_path.30010.desc"
		trigger = {
			exists = owner
			owner = {
				NOR = {
					has_country_flag = tec_psionics_gate_completed
					has_country_flag = tec_cybernetics_gate_completed
				}
			}
		}
	}

	picture = GFX_evt_scientific_experiments
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_cyberpsionic_path.30010.a
		custom_tooltip = tec_cyberpsionic_path.30010.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_cyb
			icon_background = GFX_situation_approach_bg_green
			text = set_situation_approach_icon_text
		}
		hidden_effect = {
			set_situation_flag = situation_tec_cyberpsionic_path_t2_unlock_approachs
		}
		set_situation_approach = situation_approach_tec_cyberpsionic_path_t2_slow
	}
	option = {
		name = tec_cyberpsionic_path.30010.b
		custom_tooltip = tec_cyberpsionic_path.30010.b.tooltip
		icon = {
			icon = GFX_situation_approach_tec_cyb
			icon_background = GFX_situation_approach_bg_red
			text = set_situation_approach_icon_text
		}
		hidden_effect = {
			set_situation_flag = situation_tec_cyberpsionic_path_t2_unlock_approachs
		}
		set_situation_approach = situation_approach_tec_cyberpsionic_path_t2_fast
	}
}

situation_event = { # 20% - gives side projects
	id = tec_cyberpsionic_path.30020
	title = "tec_cyberpsionic_path.30020.name"
	desc = "tec_cyberpsionic_path.30020.desc"

	picture = GFX_evt_scientific_experiments
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_cyberpsionic_path.30020.a
		custom_tooltip = tec_cyberpsionic_path.30020.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_cyb
			icon_background = GFX_situation_approach_bg_green
			text = tec_icon_text_good_outcome
		}
		hidden_effect = {
			owner = {
				save_event_target_as = tec_cyberpsionic_owner
			}
			event_target:tec_cyberpsionic_owner = {
				begin_event_chain = {
					event_chain = tec_cyberpsionic_election_chain
				}
				capital_scope = {
					enable_special_project = {
						name = TEC_CYBERPSIONIC_ELECTION_A
						location = this
						owner = event_target:tec_cyberpsionic_owner
					}
					enable_special_project = {
						name = TEC_CYBERPSIONIC_ELECTION_B
						location = this
						owner = event_target:tec_cyberpsionic_owner
					}
					enable_special_project = {
						name = TEC_CYBERPSIONIC_ELECTION_C
						location = this
						owner = event_target:tec_cyberpsionic_owner
					}
				}
			}
		}
	}
}
# 3 Traits
country_event = {	# power
	id = tec_cyberpsionic_path.30021
	title = "tec_cyberpsionic_path.30021.name"
	desc = {
		text = tec_cyberpsionic_path.30021.desc
	}
	picture = GFX_evt_cybernetics
	show_sound = event_the_flesh_is_weak

	is_triggered_only = yes

	option = {
		name = "tec_cyberpsionic_path.30021.a"
		custom_tooltip = tec_cyberpsionic_path.30021.a.tooltip
	}

	after = {
		hidden_effect = {
			if = {
				limit = {
					has_completed_event_chain_counter = {
						event_chain = tec_cyberpsionic_election_chain
						counter = tec_cyberpsionic_projects_completed
					}
				}
				end_event_chain = tec_cyberpsionic_election_chain
			}
		}
	}
}
country_event = {	# equilibrium
	id = tec_cyberpsionic_path.30022
	title = "tec_cyberpsionic_path.30022.name"
	desc = {
		text = tec_cyberpsionic_path.30022.desc
	}
	picture = GFX_evt_cybernetics
	show_sound = event_the_flesh_is_weak

	is_triggered_only = yes

	option = {
		name = "tec_cyberpsionic_path.30022.a"
		custom_tooltip = tec_cyberpsionic_path.30022.a.tooltip
	}

	after = {
		hidden_effect = {
			if = {
				limit = {
					has_completed_event_chain_counter = {
						event_chain = tec_cyberpsionic_election_chain
						counter = tec_cyberpsionic_projects_completed
					}
				}
				end_event_chain = tec_cyberpsionic_election_chain
			}
		}
	}
}
country_event = {	# control
	id = tec_cyberpsionic_path.30023
	title = "tec_cyberpsionic_path.30023.name"
	desc = {
		text = tec_cyberpsionic_path.30023.desc
	}
	picture = GFX_evt_cybernetics
	show_sound = event_the_flesh_is_weak

	is_triggered_only = yes

	option = {
		name = "tec_cyberpsionic_path.30023.a"
		custom_tooltip = tec_cyberpsionic_path.30023.a.tooltip
	}

	after = {
		hidden_effect = {
			if = {
				limit = {
					has_completed_event_chain_counter = {
						event_chain = tec_cyberpsionic_election_chain
						counter = tec_cyberpsionic_projects_completed
					}
				}
				end_event_chain = tec_cyberpsionic_election_chain
			}
		}
	}
}

situation_event = { # 30%
	id = tec_cyberpsionic_path.30030
	title = "tec_cyberpsionic_path.30030.name"
	desc = "tec_cyberpsionic_path.30030.desc"

	picture = GFX_evt_scientific_experiments
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_cyberpsionic_path.30030.a
		custom_tooltip = tec_cyberpsionic_path.30030.a.tooltip
		icon = {
			icon = GFX_situation_approach_shrug
			icon_background = GFX_situation_approach_bg_red
			text = tec_icon_text_bad_outcome
		}
		hidden_effect = {
			set_situation_flag = situation_tec_cyberpsionic_path_t2_slow_progress
		}
	}
}

situation_event = { # 50% - gives zro tech if not researched
	id = tec_cyberpsionic_path.30050
	title = "tec_cyberpsionic_path.30050.name"
	desc = {
		text = "tec_cyberpsionic_path.30050.desc"
		trigger = {
			exists = owner
			owner = {
				has_technology = tech_mine_zro
			}
		}
	}
	desc = {
		text = "tec_cyberpsionic_path.30050.desc.nozro"
		trigger = {
			exists = owner
			owner = {
				NOT = {
					has_technology = tech_mine_zro
				}
			}
		}
	}

	picture = GFX_evt_scientific_experiments
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
			remove_situation_flag = situation_tec_cyberpsionic_path_t2_slow_progress
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {	# Has zro
		name = tec_cyberpsionic_path.30050.a
		custom_tooltip = tec_cyberpsionic_path.30050.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_cyb
			icon_background = GFX_situation_approach_bg_green
			text = tec_icon_text_neutral_outcome
		}
		trigger = {
			exists = owner
			owner = {
				has_technology = tech_mine_zro
			}
		}
		hidden_effect = {
			owner = {
				set_country_flag = tec_announced_psionic_traits
			}
		}
	}
	option = {	# NOT Has zro
		name = tec_cyberpsionic_path.30050.b
		custom_tooltip = tec_cyberpsionic_path.30050.b.tooltip
		icon = {
			icon = GFX_situation_approach_tec_cyb
			icon_background = GFX_situation_approach_bg_green
			text = tec_icon_text_neutral_outcome
		}
		trigger = {
			exists = owner
			owner = {
				NOT = {
					has_technology = tech_mine_zro
				}
			}
		}
		hidden_effect = {
			# Keeps the current approaches
				if = {
					limit = {
						current_situation_approach = situation_approach_tec_cyberpsionic_path_t2_slow
					}
					set_situation_flag = situation_tec_cyberpsionic_path_t2_had_slow
				}
				if = {
					limit = {
						current_situation_approach = situation_approach_tec_cyberpsionic_path_t2_fast
					}
					set_situation_flag = situation_tec_cyberpsionic_path_t2_had_fast
				}
			# /
			# Adds zro guaranteed
				set_situation_flag = situation_tec_cyberpsionic_path_t2_nozro
				owner = {
					set_country_flag = situation_tec_cyberpsionic_path_t2_nozro
					if = {
						limit = {
							NOT = {
								has_tech_option = tech_mine_zro
							}
						}
						add_research_option = tech_mine_zro
					}
				}
				set_situation_approach = situation_approach_tec_cyberpsionic_path_t2_nozro
			# /
		}
	}
}
country_event = { # < - on tech increased country event triggers situation event
	id = tec_cyberpsionic_path.30051
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		has_country_flag = situation_tec_cyberpsionic_path_t2_nozro
		has_technology = tech_mine_zro
	}

	immediate = {
		random_situation = {
			limit = {
				is_situation_type = situation_tec_cyberpsionic_path_t2
			}
			situation_event = {
				id = tec_cyberpsionic_path.30055
			}
		}
	}
}
situation_event = { # 52%
	id = tec_cyberpsionic_path.30055
	title = "tec_cyberpsionic_path.30055.name"
	desc = "tec_cyberpsionic_path.30055.desc"

	picture = GFX_evt_scientific_experiments
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {	# Amazing
		name = tec_cyberpsionic_path.30055.a
		custom_tooltip = tec_cyberpsionic_path.30055.a.tooltip
		icon = {
			icon = GFX_situation_approach_this_is_fine
			icon_background = GFX_situation_approach_bg_tec_purple
			text = tec_icon_text_good_outcome
		}
		hidden_effect = {
			owner = {
				set_country_flag = tec_announced_psionic_traits
			}
			if = {
				limit = {
					has_situation_flag = situation_tec_cyberpsionic_path_t2_had_slow
				}
				remove_situation_flag = situation_tec_cyberpsionic_path_t2_had_slow
				set_situation_approach = situation_approach_tec_cyberpsionic_path_t2_slow
			}
			if = {
				limit = {
					has_situation_flag = situation_tec_cyberpsionic_path_t2_had_fast
				}
				remove_situation_flag = situation_tec_cyberpsionic_path_t2_had_fast
				set_situation_approach = situation_approach_tec_cyberpsionic_path_t2_fast
			}
			remove_situation_flag = situation_tec_cyberpsionic_path_t2_nozro
			owner = {
				remove_country_flag = situation_tec_cyberpsionic_path_t2_nozro
			}
		}
	}
}

situation_event = { # 60% - gives infusion projects
	id = tec_cyberpsionic_path.30060
	title = "tec_cyberpsionic_path.30060.name"
	desc = "tec_cyberpsionic_path.30060.desc"

	picture = GFX_evt_baol_datacrystals
	show_sound = event_the_great_awakening
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_cyberpsionic_path.30060.a
		custom_tooltip = tec_cyberpsionic_path.30060.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_cyb
			icon_background = GFX_situation_approach_bg_green
			text = tec_icon_text_good_outcome
		}
		owner = {
			hidden_effect = {
				save_event_target_as = tec_cyberpsionic_owner
			}
			event_target:tec_cyberpsionic_owner = {
				begin_event_chain = {
					event_chain = tec_cyberpsionic_zro_chain
				}
				capital_scope = {
					enable_special_project = {
						name = TEC_CYBERPSIONIC_ZRO_A
						location = this
						owner = event_target:tec_cyberpsionic_owner
					}
					enable_special_project = {
						name = TEC_CYBERPSIONIC_ZRO_B
						location = this
						owner = event_target:tec_cyberpsionic_owner
					}
					enable_special_project = {
						name = TEC_CYBERPSIONIC_ZRO_C
						location = this
						owner = event_target:tec_cyberpsionic_owner
					}
				}
			}
		}
	}
}
# Discover traits
# Special project 1 : Main tech
country_event = {
	id = tec_cyberpsionic_path.30061
	title = "tec_cyberpsionic_path.30061.name"
	desc = "tec_cyberpsionic_path.30061.desc"

	picture = GFX_evt_baol_datacrystals
	show_sound = event_the_flesh_is_weak

	is_triggered_only = yes

	option = {
		name = "tec_cyberpsionic_path.30061.a"
		custom_tooltip = "tec_cyberpsionic_path.30061.a.tooltip"
	}

	after = {
		hidden_effect = {
			if = {
				limit = {
					has_completed_event_chain_counter = {
						event_chain = tec_cyberpsionic_zro_chain
						counter = tec_cyberpsionic_zro_projects_completed
					}
				}
				end_event_chain = tec_cyberpsionic_zro_chain
				country_event = {
					id = tec_cyberpsionic_path.30065
					days = 1
				}
			}
		}
	}
}
# Special project 2: Main traits
country_event = {
	id = tec_cyberpsionic_path.30062
	title = "tec_cyberpsionic_path.30062.name"
	desc = "tec_cyberpsionic_path.30062.desc"

	picture = GFX_evt_baol_datacrystals
	show_sound = event_the_flesh_is_weak

	is_triggered_only = yes

	option = {
		name = "tec_cyberpsionic_path.30062.a"
		custom_tooltip = "tec_cyberpsionic_path.30062.a.tooltip"
	}

	after = {
		hidden_effect = {
			if = {
				limit = {
					has_completed_event_chain_counter = {
						event_chain = tec_cyberpsionic_zro_chain
						counter = tec_cyberpsionic_zro_projects_completed
					}
				}
				end_event_chain = tec_cyberpsionic_zro_chain
				country_event = {
					id = tec_cyberpsionic_path.30065
					days = 1
				}
			}
		}
	}
}
# Special project 3: Shroud extraction
country_event = {
	id = tec_cyberpsionic_path.30063
	title = "tec_cyberpsionic_path.30063.name"
	desc = "tec_cyberpsionic_path.30063.desc"

	picture = GFX_evt_matter_decompressor
	show_sound = event_the_flesh_is_weak

	is_triggered_only = yes

	option = {
		name = "tec_cyberpsionic_path.30063.a"
		custom_tooltip = "tec_cyberpsionic_path.30063.a.tooltip"
	}

	after = {
		hidden_effect = {
			if = {
				limit = {
					has_completed_event_chain_counter = {
						event_chain = tec_cyberpsionic_zro_chain
						counter = tec_cyberpsionic_zro_projects_completed
					}
				}
				end_event_chain = tec_cyberpsionic_zro_chain
				country_event = {
					id = tec_cyberpsionic_path.30065
					days = 1
				}
			}
		}
	}
}
#Ending
country_event = {
	id = tec_cyberpsionic_path.30065
	title = "tec_cyberpsionic_path.30065.name"
	desc = "tec_cyberpsionic_path.30065.desc"

	picture = GFX_evt_zro_4
	show_sound = event_the_flesh_is_weak

	is_triggered_only = yes

	option = {
		name = "tec_cyberpsionic_path.30065.a"
		custom_tooltip = "tec_cyberpsionic_path.30065.a.tooltip"
	}
}

situation_event = { # 80% - not used
	id = tec_cyberpsionic_path.30080
	title = "tec_cyberpsionic_path.30080.name"
	desc = "tec_cyberpsionic_path.30080.desc"

	picture = GFX_evt_scientific_experiments
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_cyberpsionic_path.30080.a
		custom_tooltip = tec_cyberpsionic_path.30080.a.tooltip
		icon = {
			icon = GFX_situation_approach_tec_cyb
			icon_background = GFX_situation_approach_bg_green
			text = tec_icon_text_neutral_outcome
		}
	}
}

# Halfway empire situation events

# Random situation events


# Upon completion, gives the trait and adds the special projects; also notifies the other empires
country_event = {
	id = tec_cyberpsionic_path.305
	title = "tec_cyberpsionic_path.305.name"
	desc = "tec_cyberpsionic_path.305.desc"
	picture = GFX_evt_cybernetics
	show_sound = event_the_great_awakening

	is_triggered_only = yes

	immediate = {
		hidden_effect = { # Path rewards
			# Path finished
			set_country_flag = tec_cyberpsionic_path_finished
			# Alter species
			tec_create_cyberpsionic_species = yes
			# TO DO create specific leader ascension trait handler
			every_owned_leader = {
				add_leader_traits_after_modification = yes
				remove_leader_traits_after_modification = yes
			}
			every_pool_leader = {
				add_leader_traits_after_modification = yes
				remove_leader_traits_after_modification = yes
			}
			# Features
			set_country_flag = tec_u_cp_equilibrium
			set_country_flag = tec_u_cp_control
			set_country_flag = tec_u_cp_power
			set_country_flag = tec_u_cp_cyborg_traits
			set_country_flag = tec_u_cp_robot_traits
			set_country_flag = tec_cyberpsionic_buildings
			# Flags
			set_country_flag = tec_cyberpsionic_assimilation
			remove_country_flag = tec_cybernetic_t1_assimilation
			remove_country_flag = tec_cybernetic_t2_assimilation
			# Psionic traits
			set_country_flag = tec_announced_psionic_traits
			fire_on_action = { on_action = tec_ascension_situation_finished }
		}	
	}

	option = {
		name = "tec_cyberpsionic_path.305.a"
		custom_tooltip = tec_cyberpsionic_path.305.a.tooltip
		hidden_effect = {
			# Announcement
			if = {
				limit = {	# Prevents FE and alike from triggering the announce
					NOT = {
						has_country_flag = tec_advanced_ascension
					}
				}
				every_country = {
					limit = {
						is_ai = no
						NOR = {
							is_same_value = root
							# TO DO policy for muting other empire things 
							has_country_flag = tec_mute_empire_announces
						}
						has_communications = root
						root = {
							is_primitive = no
						}
					}
					country_event = {
						id = tec_cyberpsionic_path.30501 
						days = 5
					}
				}
			}
		}
	}
}
	# B2 Notification for Other Nations
country_event = {
	id = tec_cyberpsionic_path.30501
	title = "tec_cyberpsionic_path.30501.name"
	desc = {
		text = tec_cyberpsionic_path.30501.desc
	}
	picture = GFX_evt_cybernetics
	show_sound = event_the_great_awakening

	is_triggered_only = yes

	option = {
		name = "tec_cyberpsionic_path.30501.a"
	}

	option = {
		name = "tec_cyberpsionic_path.30501.b"
		trigger = {
			OR = {
				has_ascension_perk = ap_tec_psionic_ascendance
				has_ascension_perk = ap_tec_biopsionic
				has_ascension_perk = ap_tec_hive_psionic_3
			}
			opinion_level = {
				who = from
				level < neutral 
			}
		}
	}

	option = {
		name = "tec_cyberpsionic_path.30501.c"
		trigger = {
			OR = {
				has_civic = civic_machine_terminator
				has_civic = civic_fanatic_purifiers
				has_civic = civic_hive_devouring_swarm
			}
		}
	}
	option = {
		name = "tec_cyberpsionic_path.30501.e"
		trigger = {
			is_machine_empire = yes
			NOR = {
				has_ethic = ethic_gestalt_empathy
				has_civic = civic_machine_assimilator
				has_civic = civic_machine_servitor
			}
		}
	}
	
}

# ==============================================
# ==============================================
# ==============================================
# Old events - reformulate ---------------------
# Picks one of the three main upgrades
country_event = {
	id = tec_cyberpsionic_path.306
	title = "tec_cyberpsionic_path.306.name"
	desc = "tec_cyberpsionic_path.306.desc"
	picture = GFX_evt_cybernetics
	show_sound = event_the_great_awakening

	is_triggered_only = yes

	option = {
		name = "tec_cyberpsionic_path.306.a"
		custom_tooltip = tec_cyberpsionic_path.306.a.tooltip
		
	}
}

# Starts the first trait thing



# EXTRACTORS - reformulate ---------------------
# Danger notification when the empire extract too much
country_event = {
	id = tec_cyberpsionic_path.31050
	title = "tec_cyberpsionic_path.31050.name"
	desc = "tec_cyberpsionic_path.31050.desc"

	picture = GFX_evt_surreal_visions
	show_sound = event_red_alert

	is_triggered_only = yes

	option = {
		name = "tec_cyberpsionic_path.31050.a"
	}
}
# First shroud incursion
country_event = {
	id = tec_cyberpsionic_path.31051
	title = "tec_cyberpsionic_path.31051.name"
	desc = "tec_cyberpsionic_path.31051.desc"
	location = event_target:tec_incursion_target_planet

	picture = GFX_evt_vortex
	show_sound = event_red_alert

	is_triggered_only = yes

	immediate = {
		random_owned_planet = {
			limit = {
				has_planet_flag = tec_incursion_target_planet
			}
			save_event_target_as = tec_incursion_target_planet
			solar_system = {
				save_event_target_as = tec_shroud_incursion_system
			}
		}
	}
	option = {
		name = "tec_cyberpsionic_path.31051.a"
	}
}
# Post-first shroud incursions
# tec_cyberpsionic_path.30055

# SHroud incursion handler
country_event = {
	id = tec_cyberpsionic_path.31055
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		always = no
		has_country_flag = tec_cyberpsionic_buildings
		any_owned_planet = {
			OR = {
				has_building = building_tec_cyberpsionic_extractor_2
				has_building = building_tec_cyberpsionic_extractor_3
			}
		}
		check_variable = {
			which = tec_dimensional_extraction_buildings_ref
			value > 5
		}
	}

	immediate = {
		random_list = {
			10 = {
				modifier = {
					factor = 2
					check_variable = {
						which = tec_dimensional_extraction_buildings_ref
						value >= 6
					}
				}
				modifier = {
					factor = 2
					check_variable = {
						which = tec_dimensional_extraction_buildings_ref
						value >= 9
					}
				}
				modifier = {
					factor = 2
					check_variable = {
						which = tec_dimensional_extraction_buildings_ref
						value >= 12
					}
				}
				modifier = {
					factor = 2
					check_variable = {
						which = tec_dimensional_extraction_buildings_ref
						value >= 15
					}
				}
				set_timed_country_flag = {
					flag = tec_dimensional_incursion_on
					days = 180
				}
				random_owned_planet = {
					limit = {
						OR = {
							has_building = building_tec_cyberpsionic_extractor_2
							has_building = building_tec_cyberpsionic_extractor_3
						}
					}
					set_timed_planet_flag = {
						flag = tec_incursion_target_planet
						days = 180
					}
				}
				country_event = {
					id = tec_cyberpsionic_path.31056
					days = 1
					random = 120
				}
			}
			90 = {
				#nothing :>
				break = yes
			}
		}
		
	}
}

# Spawns the entity
country_event = {
	id = tec_cyberpsionic_path.31056
	hide_window = yes

	is_triggered_only = yes

	trigger = {
		any_owned_planet = {
			has_planet_flag = tec_incursion_target_planet
		}
	}

	immediate = {
		random_owned_planet = {
			limit = {
				has_planet_flag = tec_incursion_target_planet
			}
			save_event_target_as = tec_incursion_target_planet
			solar_system = {
				save_event_target_as = tec_shroud_incursion_system
			}
		}
		if = {
			limit = {
				NOT = {
					has_country_flag = tec_first_aggro_incursion_done
				}
			}
			set_country_flag = tec_first_aggro_incursion_done
			country_event = {
				id = tec_cyberpsionic_path.31051
			}
		}
		else = {
			create_message = {
				type = MESSAGE_TEC_CYBERPSIONIC_INCURSION
				localization = MESSAGE_TEC_CYBERPSIONIC_INCURSION
				days = 30
				target = event_target:tec_shroud_incursion_system
				variable = {
					type = name
					localization = PLANET
					scope = event_target:tec_shroud_incursion_system
				}
			}
		}
		event_target:tec_shroud_incursion_system = {
			if = {
				limit = { NOT = { exists = event_target:shroud_country } }
				create_country = {
					name = "NAME_Creatures_of_the_Shroud"
					type = shroud_spirits
					flag = {
						icon = {
							category = "special"
							file = "the_shroud.dds"
						}
						background= {
							category = "backgrounds"
							file = "00_solid.dds"
						}
						colors = {
							"dark_purple"
							"black"
							"null"
							"null"
						}
					}
				}
				last_created_country = {
					save_global_event_target_as = shroud_country
				}
			}
			create_fleet = {
				name = "NAME_Psionic_Entity"
				settings = {
					spawn_debris = no
					is_boss = yes
				}
				effect = {
					set_owner = event_target:shroud_country
					set_fleet_flag = tec_dimensional_incursor
					create_ship = {
						name = "Dimensional Invader"
						#"NAME_Psionic_Entity"
						design = "NAME_Corrupted_Avatar"
					}
					last_created_ship = {
						if = {
							limit = {
								root = {
									max_naval_capacity > 1000
									used_naval_capacity_percent > 0.5
								}
							}
							add_modifier = {
								modifier = tec_dimensional_rage_10
							}
						}
						else_if = {
							limit = {
								root = {
									max_naval_capacity > 500
									used_naval_capacity_percent > 0.5
								}
							}
							add_modifier = {
								modifier = tec_dimensional_rage_5
							}
						}
						else_if = {
							limit = {
								root = {
									max_naval_capacity > 400
									used_naval_capacity_percent > 0.5
								}
							}
							add_modifier = {
								modifier = tec_dimensional_rage_4
							}
						}
						else_if = {
							limit = {
								root = {
									max_naval_capacity > 300
									used_naval_capacity_percent > 0.5
								}
							}
							add_modifier = {
								modifier = tec_dimensional_rage_3
							}
						}
						else_if = {
							limit = {
								root = {
									max_naval_capacity > 200
									used_naval_capacity_percent > 0.5
								}
							}
							add_modifier = {
								modifier = tec_dimensional_rage_2
							}
						}
						else_if = {
							limit = {
								root = {
									max_naval_capacity > 100
									used_naval_capacity_percent > 0.5
								}
							}
							add_modifier = {
								modifier = tec_dimensional_rage_1
							}
						}
					}
					set_location = {
						target = prev.star
						distance = 100
						angle = random
					}
					set_fleet_stance = aggressive
					set_aggro_range_measure_from = return_point
					set_aggro_range = 2000
				}
			}
			star = {
				create_ambient_object = {
					type = "psi_storm_1"
					location = this
				}
				last_created_ambient_object = {
					set_ambient_object_flag = psi_storm_object
					set_location = {
						target = prev
						distance = 0
						angle = random
					}
				}
			}
		}
		root = {
			establish_communications_no_message = event_target:shroud_country
		}
	}
}

# Remove Shroud System Effect
country_event = {
	id = tec_cyberpsionic_path.31057
	hide_window = yes

	is_triggered_only = yes

	trigger = {
		is_same_value = event_target:shroud_country
		fromfrom = { has_fleet_flag = tec_dimensional_incursor }
	}

	immediate = {
		fromfrom = {
			solar_system = {
				random_system_ambient_object = {
					limit = { has_ambient_object_flag = psi_storm_object }
					destroy_ambient_object = this
				}
			}
		}
	}
}
# EXTRACTORS - reformulate ---------------------
# ==============================================
# ==============================================
# ==============================================

# Bio-Psi: Purity of form
# ------------------------------------------------------------ tec_biopsionic_path.xxx
namespace = tec_biopsionic_path

# T3 picked
country_event = {	# Provides situation
	id = tec_biopsionic_path.300
	title = "tec_biopsionic_path.300.name"
	desc = "tec_biopsionic_path.300.desc"
	picture = GFX_evt_psionics
	show_sound = event_the_great_awakening

	is_triggered_only = yes

	option = {
		name = "tec_biopsionic_path.300.a"
		custom_tooltip = "tec_biopsionic_path.300.a.tooltip"
		icon = {
			icon = GFX_situation_approach_influence
			icon_background = GFX_situation_approach_bg_tec_purple
			text = tec_icon_text_good_outcome
		}
		allow = {
			has_technology = tech_gene_tailoring
			has_technology = tech_psionic_theory
			NOT = {
				any_situation = {
					is_situation_type = situation_tec_biopsionic_path_t2
				}
			}
		}
		hidden_effect = { 
			save_event_target_as = tec_target_country
			event_target:tec_target_country = {
				start_situation = {
					type = situation_tec_biopsionic_path_t2
					target = event_target:tec_target_country.capital_scope
					effect = {
						save_event_target_as = new_situation
						set_situation_approach = situation_approach_tec_biopsionic_path_t2_neutral
						set_situation_locked = no
					}
				}
			}
			event_target:new_situation = {
				set_situation_locked = no
			}
		}
	}

	option = {
		name = "tec_biopsionic_path.300.b"
		custom_tooltip = "tec_biopsionic_path.300.b.tooltip"
		icon = {
			icon = GFX_situation_approach_research
			icon_background = GFX_situation_approach_bg_red
			text = set_situation_approach_icon_text
		}
		trigger = {
			OR = {
				NOT = {
					has_technology = tech_gene_tailoring
				}
				NOT = {
					has_technology = tech_psionic_theory
				}
			}
		}
		allow = {
			NOT = {
				any_situation = {
					is_situation_type = situation_tec_biopsionic_path_t2
				}
			}
		}
		hidden_effect = { 
			save_event_target_as = tec_target_country
			event_target:tec_target_country = {
				start_situation = {
					type = situation_tec_biopsionic_path_t2
					target = event_target:tec_target_country.capital_scope
					effect = {
						save_event_target_as = new_situation
						set_situation_approach = situation_approach_tec_biopsionic_path_t2_notech
						set_situation_locked = no
					}
				}
			}
			event_target:new_situation = {
				set_situation_locked = no
			}
		}
	}
}

# --------------- Situation
situation_event = { # 10% - gives the two approaches
	id = tec_biopsionic_path.30010
	title = "tec_biopsionic_path.30010.name"
	desc = "tec_biopsionic_path.30010.desc"

	picture = GFX_evt_shroudwalker_teachers
	show_sound = evn_ove_shroudwalker_apprentice
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_biopsionic_path.30010.a
		custom_tooltip = tec_biopsionic_path.30010.a.tooltip
		icon = {
			icon = GFX_situation_approach_influence
			icon_background = GFX_situation_approach_bg_tec_purple
			text = set_situation_approach_icon_text
		}
		hidden_effect = {
			set_situation_flag = situation_tec_biopsionic_path_t2_unlock_approachs
		}
		set_situation_approach = situation_approach_tec_biopsionic_path_t2_psionics
	}
	option = {
		name = tec_biopsionic_path.30010.b
		custom_tooltip = tec_biopsionic_path.30010.b.tooltip
		icon = {
			icon = GFX_situation_approach_genetics
			icon_background = GFX_situation_approach_bg_green
			text = set_situation_approach_icon_text
		}
		hidden_effect = {
			set_situation_flag = situation_tec_biopsionic_path_t2_unlock_approachs
		}
		set_situation_approach = situation_approach_tec_biopsionic_path_t2_genetics
	}
}

situation_event = { # 20% - sub module
	id = tec_biopsionic_path.30020
	title = "tec_biopsionic_path.30020.name"
	desc = {
		trigger = {
			current_situation_approach = situation_approach_tec_biopsionic_path_t2_psionics
		}
		text =  "tec_biopsionic_path.30020.desc.psionics"
	}
	desc = {
		trigger = {
			current_situation_approach = situation_approach_tec_biopsionic_path_t2_genetics
		}
		text =  "tec_biopsionic_path.30020.desc.genetics"
	}

	picture = GFX_evt_scientific_experiments
	show_sound = evn_ove_shroudwalker_apprentice
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_biopsionic_path.30020.a.psionics
		custom_tooltip = tec_biopsionic_path.30020.a.psionics.tooltip
		icon = {
			icon = GFX_situation_approach_influence
			icon_background = GFX_situation_approach_bg_tec_purple
			text = tec_icon_text_good_outcome
		}
		hidden_effect = {
			owner = {
				set_country_flag = tec_biopsionic_module_upkeep
			}
		}
	}
	option = {
		name = tec_biopsionic_path.30020.b.genetics
		custom_tooltip = tec_biopsionic_path.30020.b.genetics.tooltip
		icon = {
			icon = GFX_situation_approach_genetics
			icon_background = GFX_situation_approach_bg_green
			text = tec_icon_text_good_outcome
		}
		hidden_effect = {
			owner = {
				set_country_flag = tec_biopsionic_module_amenities
			}
		}
	}
	option = {
		name = tec_biopsionic_path.30020.c.neither
		custom_tooltip = tec_biopsionic_path.30020.c.neither.tooltip
		icon = {
			icon = GFX_situation_approach_shrug
			icon_background = GFX_situation_approach_bg_yellow
			text = set_situation_approach_icon_text
		}
	}
}

situation_event = { # 40% - main module
	id = tec_biopsionic_path.30040
	title = "tec_biopsionic_path.30040.name"
	desc = {
		trigger = {
			current_situation_approach = situation_approach_tec_biopsionic_path_t2_psionics
		}
		text =  "tec_biopsionic_path.30040.desc.psionics"
	}
	desc = {
		trigger = {
			current_situation_approach = situation_approach_tec_biopsionic_path_t2_genetics
		}
		text =  "tec_biopsionic_path.30040.desc.genetics"
	}

	picture = GFX_evt_zro_4
	show_sound = evn_ove_shroudwalker_apprentice
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_biopsionic_path.30040.a.psionics
		custom_tooltip = tec_biopsionic_path.30040.a.psionics.tooltip
		icon = {
			icon = GFX_situation_approach_influence
			icon_background = GFX_situation_approach_bg_tec_purple
			text = tec_icon_text_good_outcome
		}
		hidden_effect = {
			owner = {
				set_country_flag = tec_biopsionic_main_module_production
			}
		}
	}
	option = {
		name = tec_biopsionic_path.30040.b.genetics
		custom_tooltip = tec_biopsionic_path.30040.b.genetics.tooltip
		icon = {
			icon = GFX_situation_approach_genetics
			icon_background = GFX_situation_approach_bg_green
			text = tec_icon_text_good_outcome
		}
		hidden_effect = {
			owner = {
				set_country_flag = tec_biopsionic_main_module_pop_upkeep
			}
		}
	}
}

situation_event = { # 50% - gives trait
	id = tec_biopsionic_path.30050
	title = "tec_biopsionic_path.30050.name"
	desc = "tec_biopsionic_path.30050.desc"

	picture = GFX_evt_psionics
	show_sound = event_the_great_awakening
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {
		name = tec_biopsionic_path.30050.a
		custom_tooltip = tec_biopsionic_path.30050.a.tooltip
		icon = {
			icon = GFX_situation_approach_this_is_fine
			icon_background = GFX_situation_approach_bg_tec_purple
			text = tec_icon_text_good_outcome
		}
		hidden_effect = {
			owner = {
				set_country_flag = tec_biopsionic_assimilation
				country_event = {
					id = tec_biopsionic_path.30051
				}
			}
		}
	}
}

country_event = {
	id = tec_biopsionic_path.30051
	hide_window = yes
	
	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			# Path finished ... or not?
			set_country_flag = tec_biopsionic_assimilation
			# Alter species
			tec_create_biopsionic_species = yes
			# TO DO create specific leader ascension trait handler
			every_owned_leader = {
				add_leader_traits_after_modification = yes
				remove_leader_traits_after_modification = yes
			}
			every_pool_leader = {
				add_leader_traits_after_modification = yes
				remove_leader_traits_after_modification = yes
			}
			fire_on_action = { on_action = tec_ascension_situation_finished }
			# Announcement
			if = {
				limit = {	# Prevents FE and alike from triggering the announce
					NOT = {
						has_country_flag = tec_advanced_ascension
					}
				}
				every_country = {
					limit = {
						is_ai = no
						NOR = {
							is_same_value = root
							# TO DO policy for muting other empire things 
							has_country_flag = tec_mute_empire_announces
						}
						has_communications = root
						root = {
							is_primitive = no
						}
					}
					country_event = {
						id = tec_biopsionic_path.30052
						days = 5
						random = 5
					}
				}
			}
		}
	}
}

country_event = { # Notification for Other Nations
	id = tec_biopsionic_path.30052
	title = "tec_biopsionic_path.30052.name"
	desc = {
		text = tec_biopsionic_path.30052.desc
	}
	picture = GFX_evt_psionics
	show_sound = event_engineered_evolution

	is_triggered_only = yes

	option = {
		name = "tec_biopsionic_path.30052.a"
	}

	option = {
		name = "tec_biopsionic_path.30052.b"
	}

	option = {
		name = "tec_biopsionic_path.30052.c"
		trigger = {
			OR = {
				has_civic = civic_machine_terminator
				has_civic = civic_fanatic_purifiers
				has_civic = civic_hive_devouring_swarm
			}
		}
	}
	option = {
		name = "tec_biopsionic_path.30052.d"
		trigger = {
			is_machine_empire = yes
			NOR = {
				has_ethic = ethic_gestalt_empathy
				has_civic = civic_machine_assimilator
				has_civic = civic_machine_servitor
			}
		}
	}
	
}

# tec_biopsionic_path.30055	biopsi hive trigger
# tec_biopsionic_path.30056
# tec_biopsionic_path.30057 # Notification for Other Nations

situation_event = { # 60% - gives zro tech if not researched
	id = tec_biopsionic_path.30060
	title = "tec_biopsionic_path.30060.name"
	desc = {
		text = "tec_biopsionic_path.30060.desc.haszro"
		trigger = {
			exists = owner
			owner = {
				has_technology = tech_mine_zro
			}
		}
	}
	desc = {
		text = "tec_biopsionic_path.30060.desc.nozro"
		trigger = {
			exists = owner
			owner = {
				NOT = {
					has_technology = tech_mine_zro
				}
			}
		}
	}

	picture = GFX_evt_zro_4
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {	# Has zro
		name = tec_biopsionic_path.30060.a
		custom_tooltip = tec_biopsionic_path.30060.a.tooltip
		icon = {
			icon = GFX_situation_approach_influence
			icon_background = GFX_situation_approach_bg_tec_purple
			text = tec_icon_text_neutral_outcome
		}
		trigger = {
			exists = owner
			owner = {
				has_technology = tech_mine_zro
			}
		}
		hidden_effect = {
			owner = {
				set_country_flag = tec_announced_psionic_traits
			}
		}
	}
	option = {	# NOT Has zro
		name = tec_biopsionic_path.30060.b
		custom_tooltip = tec_biopsionic_path.30060.b.tooltip
		icon = {
			icon = GFX_situation_approach_influence
			icon_background = GFX_situation_approach_bg_yellow
			text = tec_icon_text_neutral_outcome
		}
		trigger = {
			exists = owner
			owner = {
				NOT = {
					has_technology = tech_mine_zro
				}
			}
		}
		hidden_effect = {
			# Keeps the current approaches
				if = {
					limit = {
						current_situation_approach = situation_approach_tec_biopsionic_path_t2_psionics
					}
					set_situation_flag = situation_tec_biopsionic_path_t2_had_psionics
				}
				if = {
					limit = {
						current_situation_approach = situation_approach_tec_biopsionic_path_t2_genetics
					}
					set_situation_flag = situation_tec_biopsionic_path_t2_had_genetics
				}
			# /
			# Adds zro guaranteed
				set_situation_flag = situation_tec_biopsionic_path_t2_nozro
				set_situation_approach = situation_approach_tec_biopsionic_path_t2_nozro
				owner = {
					set_country_flag = situation_tec_biopsionic_path_t2_nozro
					if = {
						limit = {
							NOT = {
								has_tech_option = tech_mine_zro
							}
						}
						add_research_option = tech_mine_zro
					}
				}
			# /
		}
	}
}
country_event = { # < - on tech increased country event triggers situation event
	id = tec_biopsionic_path.30061
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		has_country_flag = situation_tec_biopsionic_path_t2_nozro
		has_technology = tech_mine_zro
	}

	immediate = {
		random_situation = {
			limit = {
				is_situation_type = situation_tec_biopsionic_path_t2
			}
			situation_event = {
				id = tec_biopsionic_path.30065
			}
		}
	}
}
situation_event = { # 65%
	id = tec_biopsionic_path.30065
	title = "tec_biopsionic_path.30065.name"
	desc = {
		text = "tec_biopsionic_path.30065.desc.psionics"
		trigger = {
			has_situation_flag = situation_tec_biopsionic_path_t2_had_psionics
		}
	}
	desc = {
		text = "tec_biopsionic_path.30065.desc.genetics"
		trigger = {
			has_situation_flag = situation_tec_biopsionic_path_t2_had_genetics
		}
	}

	picture = GFX_evt_zro_4
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
		}
	}

	option = {	# Amazing
		name = tec_biopsionic_path.30065.a
		custom_tooltip = tec_biopsionic_path.30065.a.tooltip
		icon = {
			icon = GFX_situation_approach_this_is_fine
			icon_background = GFX_situation_approach_bg_tec_purple
			text = tec_icon_text_good_outcome
		}
		hidden_effect = {
			owner = {
				set_country_flag = tec_announced_psionic_traits
			}
			remove_situation_flag = situation_tec_biopsionic_path_t2_nozro
			owner = {
				remove_country_flag = situation_tec_biopsionic_path_t2_nozro
			}
			if = {
				limit = {
					has_situation_flag = situation_tec_biopsionic_path_t2_had_psionics
				}
				remove_situation_flag = situation_tec_biopsionic_path_t2_had_psionics
				set_situation_approach = situation_approach_tec_biopsionic_path_t2_psionics
			}
			if = {
				limit = {
					has_situation_flag = situation_tec_biopsionic_path_t2_had_genetics
				}
				remove_situation_flag = situation_tec_biopsionic_path_t2_had_genetics
				set_situation_approach = situation_approach_tec_biopsionic_path_t2_genetics
			}
		}
	}
}

situation_event = { # 80% - Researching convergence
	id = tec_biopsionic_path.30080
	title = "tec_biopsionic_path.30080.name"
	desc = {
		trigger = {
			current_situation_approach = situation_approach_tec_biopsionic_path_t2_psionics
		}
		text =  "tec_biopsionic_path.30080.desc.psionics"
	}
	desc = {
		trigger = {
			current_situation_approach = situation_approach_tec_biopsionic_path_t2_genetics
		}
		text =  "tec_biopsionic_path.30080.desc.genetics"
	}

	picture = GFX_evt_surreal_visions
	show_sound = event_mystic_reveal
	is_triggered_only = yes
	situation = this
	location = target

	immediate = {
		hidden_effect = {
			set_situation_locked = yes
		}
	}

	after = {
		hidden_effect = {
			set_situation_locked = no
			set_situation_flag = situation_tec_biopsionic_path_t2_slow_progress
		}
	}

	option = {
		name = tec_biopsionic_path.30080.a
		custom_tooltip = tec_biopsionic_path.30080.a.tooltip
		icon = {
			icon = GFX_situation_approach_research
			icon_background = GFX_situation_approach_bg_yellow
			text = tec_icon_text_good_outcome
		}
	}
}

country_event = { # 100% - Finish
	id = tec_biopsionic_path.305
	title = "tec_biopsionic_path.305.name"
	desc = {
		trigger = {
			always = yes
		}
		text =  "tec_biopsionic_path.305.desc"
	}

	picture = GFX_evt_shroudwalker_enclave
	show_sound = event_psionic
	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			owner = {
				# Path finished, at last
				set_country_flag = tec_biopsionic_path_finished
			}
		}
	}

	option = {
		name = tec_biopsionic_path.305.a
		custom_tooltip = tec_biopsionic_path.305.a.tooltip
		icon = {
			icon = GFX_situation_approach_this_is_fine
			icon_background = GFX_situation_approach_bg_tec_purple
			text = tec_icon_text_good_outcome
		}
	}
}

# --------------- Submechanics
country_event = { # Pops get merged
	id = tec_biopsionic_path.350
	title = "tec_biopsionic_path.350.name"
	desc = {
		trigger = {
			check_variable = {
				which = tec_total_converged_pops
				value = 0
			}
		}
		text = "tec_biopsionic_path.350.firsttime.desc"
	}
	desc = {
		trigger = {
			check_variable = {
				which = tec_total_converged_pops
				value > 0
			}
		}
		text = "tec_biopsionic_path.350.desc"
	}
	picture = GFX_evt_shroudwalker_enclave
	show_sound = event_the_great_awakening
	location = event_target:tec_recently_ascended_planet

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			every_owned_planet = {
				limit = {
					has_building = building_tec_biopsionic_convergence
					any_owned_species = {
						OR = {
							tec_is_any_psionic_species = yes
							has_trait = trait_tec_biopsionic_seed
						}
						count_species_pop = {
							limit = {
								NOR = {
									has_trait = trait_tec_biopsionic_seed
									has_modifier = tec_converged_pop
								}
							}
							count > 1
						}
					}
					# building comes here
				}
				# Sort by numbers
					if = {
						limit = {
							num_pops >=100
						}
						set_variable = {
							which = tec_biopsi
							value = 10
						}
					}
					else_if = {
						limit = {
							num_pops >=90
							num_pops < 100
						}
						set_variable = {
							which = tec_biopsi
							value = 9
						}
					}
					else_if = {
						limit = {
							num_pops >=80
							num_pops < 90
						}
						set_variable = {
							which = tec_biopsi
							value = 8
						}
					}
					else_if = {
						limit = {
							num_pops >=70
							num_pops < 80
						}
						set_variable = {
							which = tec_biopsi
							value = 7
						}
					}
					else_if = {
						limit = {
							num_pops >=60
							num_pops < 70
						}
						set_variable = {
							which = tec_biopsi
							value = 6
						}
					}
					else_if = {
						limit = {
							num_pops >=50
							num_pops < 60
						}
						set_variable = {
							which = tec_biopsi
							value = 5
						}
					}
					else_if = {
						limit = {
							num_pops >=40
							num_pops < 50
						}
						set_variable = {
							which = tec_biopsi
							value = 4
						}
					}
					else_if = {
						limit = {
							num_pops >=30
							num_pops < 40
						}
						set_variable = {
							which = tec_biopsi
							value = 3
						}
					}
					else_if = {
						limit = {
							num_pops >=20
							num_pops < 30
						}
						set_variable = {
							which = tec_biopsi
							value = 2
						}
					}
					else_if = {
						limit = {
							num_pops < 20
						}
						set_variable = {
							which = tec_biopsi
							value = 1
						}
					}
				# /
				while = {
					count = tec_biopsi
					if = { # Prio seeded pops
						limit = {
							any_owned_species = {
								has_trait = trait_tec_biopsionic_seed
							}
						}
						random_owned_pop = {
							limit = {
								has_trait = trait_tec_biopsionic_seed
								NOT = {
									has_modifier = tec_converged_pop
								}
							}
							kill_pop = yes
						}
					}
					else = {
						random_owned_pop = {
							limit = {
								tec_is_any_psionic_species = yes
								NOT = {
									has_modifier = tec_converged_pop
								}
							}
							kill_pop = yes
						}
					}
					random_owned_pop = {
						limit = {
							tec_is_any_psionic_species = yes
							NOT = {
								has_trait = trait_tec_biopsionic_seed
							}
							NOT = {
								has_modifier = tec_converged_pop
							}
						}
						add_modifier = {
							modifier = tec_converged_pop
							days = -1
						}
						root = {
							change_variable = {
								which = tec_total_converged_pops
								value = 1
							}
						}
						root = {
							change_variable = {
								which = tec_temp_converged_pops
								value = 1
							}
						}
					}
					change_variable = {
						which = tec_conv_planet
						value = 0.2
					}
				}
			}
			create_message = {
				type = MESSAGE_TEC_CONVERGENCE_MERGED_POPS
				localization = MESSAGE_TEC_CONVERGENCE_MERGED_POPS
				days = 30
				target = root
				variable = {
					type = variable
					varname = tec_temp_converged_pops
					localization = VALUE
					scope = root
				}
			}
			if = {
				limit = {
					check_variable = {
						which = tec_temp_converged_pops
						value > 0
					}
				}
				change_variable = {
					which = tec_biopsionic_convergence_count
					value = 1
				}
			}
		}
	}
	option = {
		name = "tec_biopsionic_path.350.a"
		custom_tooltip = "tec_biopsionic_path.350.a.tooltip"
	}

	after = {
		hidden_effect = {
			clear_variable = tec_temp_converged_pops
		}
	}
}

country_event = { # Leader level trait handler
	id = tec_biopsionic_path.30099
	hide_window = yes

	is_triggered_only = yes

	trigger = {
		from = {
			species = {
				has_trait = @trait_tec_biopsionic_brain
			}
		}
		NOT = {
			has_country_flag = tec_leader_sharing_gate
		}
	}

	immediate = {
		set_timed_country_flag = {
			flag = tec_leader_sharing_gate
			days = 1
		}
		random = {
			chance = 25
			if = {
				limit = {
					from = {
						OR = {
							leader_class = governor
						}
					}
				}
				random_owned_leader = {
					limit = {
						NOT = {
							is_same_value = from
						}
						OR = {
							leader_class = governor
						}
					}
					tec_pure_brain_leader_effect = yes
				}
			}
			else_if = {
				limit = {
					from = {
						leader_class = scientist
					}
				}
				random_owned_leader = {
					limit = {
						NOT = {
							is_same_value = from
						}
						leader_class = scientist
					}
					tec_pure_brain_leader_effect = yes
				}
			}
			else_if = {
				limit = {
					from = {
						leader_class = admiral
					}
				}
				random_owned_leader = {
					limit = {
						NOT = {
							is_same_value = from
						}
						leader_class = admiral
					}
					tec_pure_brain_leader_effect = yes
				}
			}
			else_if = {
				limit = {
					from = {
						leader_class = general
					}
				}
				random_owned_leader = {
					limit = {
						NOT = {
							is_same_value = from
						}
						leader_class = general
					}
					tec_pure_brain_leader_effect = yes
				}
			}
		}
	}
}

country_event = { # Pops get merged
	id = tec_biopsionic_path.360
	title = "tec_biopsionic_path.360.name"
	desc = {
		trigger = {
			always = yes
		}
		text = "tec_biopsionic_path.360.desc"
	}
	picture = GFX_evt_zro_4
	show_sound = event_the_great_awakening

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			set_country_flag = tec_biopsionic_converged_traits
		}
	}

	option = {
		name = "tec_biopsionic_path.360.a"
		custom_tooltip = "tec_biopsionic_path.360.a.tooltip"
		icon = {
			icon = GFX_situation_approach_this_is_fine
			icon_background = GFX_situation_approach_bg_tec_purple
			text = tec_icon_text_good_outcome
		}
	}
}

# Scrap
# ------------------------------------------------------------
# This is unfinished, basically did this for the vid :>
namespace = tec_ferro

planet_event = {
	id = tec_ferro.10
	title = "tec_ferro.10.name"
	desc = "tec_ferro.10.desc"
	picture = GFX_evt_atmospheric_entry
	show_sound = event_mystic_reveal_light

	is_triggered_only = yes

	trigger = {
		always = yes
	}

	option = {
		name = "tec_ferro.10.a"
		custom_tooltip = "tec_ferro.10.a.tooltip"
		icon = {
			icon = GFX_situation_approach_research
			icon_background = GFX_situation_approach_bg_yellow
			text = tec_ferro.10.a.tooltip
		}
	}

	option = {
		name = "tec_ferro.10.b"
		custom_tooltip = "tec_ferro.10.b.tooltip"
		icon = {
			icon = GFX_situation_approach_shrug
			icon_background = GFX_situation_approach_bg_yellow
			text = tec_ferro.10.b.tooltip
		}
	}
}

#namespace = tec_ascend_debug
#
#country_event = {
#	id = tec_ascend_debug.1
#	title = tec_ascend_debug.1.name
#	desc = tec_ascend_debug.1.desc
#	picture = GFX_evt_atmospheric_entry
#	show_sound = event_mystic_reveal_light
#
#
#	is_triggered_only = yes
#
#	trigger = {
#		always = yes
#	}
#
#	option = {
#		name = tec_ascend_debug.1.bio
#		icon = {
#			icon = GFX_situation_approach_genetics
#			icon_background = GFX_situation_approach_bg_green
#			text = tec_ascend_debug.1.bio
#		}
#		trigger = {
#			has_country_flag = tec_debug_check_bio
#		}
#		hidden_effect = {
#			set_country_flag = tec_debug_chose_bio
#		}
#	}
#
#	option = {
#		name = tec_ascend_debug.1.psi
#		icon = {
#			icon = GFX_situation_approach_tec_mind
#			icon_background = GFX_situation_approach_bg_tec_purple
#			text = tec_ascend_debug.1.psi
#		}
#		trigger = {
#			has_country_flag = tec_debug_check_psi
#		}
#		hidden_effect = {
#			set_country_flag = tec_debug_chose_psi
#		}
#	}
#
#	option = {
#		name = tec_ascend_debug.1.cyb
#		icon = {
#			icon = GFX_situation_approach_tec_cyb
#			icon_background = GFX_situation_approach_bg_tec_blue
#			text = tec_ascend_debug.1.cyb
#		}
#		trigger = {
#			has_country_flag = tec_debug_check_cyb
#		}
#		hidden_effect = {
#			set_country_flag = tec_debug_chose_cyb
#		}
#	}
#
#	after
#}