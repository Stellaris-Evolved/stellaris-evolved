# events\zz_evolved_ascension_hybrid_events.txt


# --------------------------------- MIXED ASCENSIONS ---------------------------------
# Bio-Cyb: Replicant
# ------------------------------------------------------------ tec_replicant_path.xxx
namespace = tec_replicant_path

 # ---------------  REPLICANT T2
  # ---------------  REPLICANT T2 Pick
	country_event = { # Biosynths on pick
		id = tec_replicant_path.200
		title = "tec_replicant_path.200.name"
		desc = {
			text = "tec_replicant_path.200.desc"
			trigger = {
				always = yes
			}
		}
		desc = {
			text = "tec_replicant_path.200.desc.genetics"
			trigger = {
				always = no
			}
		}
		desc = {
			text = "tec_replicant_path.200.desc.cybernetics"
			trigger = {
				always = no
			}
		}
		desc = {
			text = "tec_replicant_path.200.desc.replicant"
			trigger = {
				always = no
			}
		}
		picture = GFX_evt_scientific_experiments
		show_sound = event_synthetic_evolution
		trackable = yes

		is_triggered_only = yes

		option = {
			name = "tec_replicant_path.200.a"
			custom_tooltip = "tec_replicant_path.200.a.tooltip"
			icon = {
				icon = GFX_situation_approach_tec_ai
				icon_background = GFX_situation_approach_bg_tec_blue
				text = set_situation_approach_icon_text
			}
			allow = {
				has_technology = tech_neuro_quantum_links
				has_technology = tech_gene_tailoring
				NOT = {
					any_situation = {
						is_situation_type = situation_tec_replicant_path_t2
					}
				}
			}
			hidden_effect = { 
				save_event_target_as = tec_target_country
				event_target:tec_target_country = {
					start_situation = {
						type = situation_tec_replicant_path_t2
						target = event_target:tec_target_country.capital_scope
						effect = {
							save_event_target_as = new_situation
							set_situation_approach = situation_approach_tec_replicant_path_t2_neutral
							set_situation_locked = no
						}
					}
				}
				event_target:new_situation = {
					set_situation_locked = no
				}
			}
		}

		option = {
			name = "tec_replicant_path.200.b"
			custom_tooltip = "tec_replicant_path.200.b.tooltip"
			icon = {
				icon = GFX_situation_approach_research
				icon_background = GFX_situation_approach_bg_red
				text = set_situation_approach_icon_text
			}
			trigger = {
				OR = {
					NOT = {
						has_technology = tech_neuro_quantum_links
					}
					NOT = {
						has_technology = tech_gene_tailoring
					}
				}
			}
			allow = {
				NOT = {
					any_situation = {
						is_situation_type = situation_tec_replicant_path_t2
					}
				}
			}
			hidden_effect = { 
				save_event_target_as = tec_target_country
				event_target:tec_target_country = {
					start_situation = {
						type = situation_tec_replicant_path_t2
						target = event_target:tec_target_country.capital_scope
						effect = {
							save_event_target_as = new_situation
							set_situation_approach = situation_approach_tec_replicant_path_t2_notech
							set_situation_locked = no
						}
					}
				}
				event_target:new_situation = {
					set_situation_locked = no
				}
			}
		}
	}
  # /

  # ---------------  REPLICANT T2 Situation
	# T3 situation
	situation_event = { # 10%
		id = tec_replicant_path.20010
		title = "tec_replicant_path.20010.name"
		desc = "tec_replicant_path.20010.desc"

		picture = GFX_evt_scientific_experiments
		is_triggered_only = yes
		situation = this
		location = target

		immediate = {
			hidden_effect = {
				set_situation_locked = yes
			}
		}

		after = {
			hidden_effect = {
				set_situation_locked = no
			}
		}

		option = {
			name = tec_replicant_path.20010.a
			custom_tooltip = tec_replicant_path.20010.a.tooltip
			icon = {
				icon = GFX_situation_approach_tec_ai
				icon_background = GFX_situation_approach_bg_green
				text = set_situation_approach_icon_text
			}
			hidden_effect = {
				set_situation_flag = situation_tec_replicant_path_t2_unlock_approachs
			}
			set_situation_approach = situation_approach_tec_replicant_path_t2_slow
		}
		option = {
			name = tec_replicant_path.20010.b
			custom_tooltip = tec_replicant_path.20010.b.tooltip
			icon = {
				icon = GFX_situation_approach_tec_ai
				icon_background = GFX_situation_approach_bg_red
				text = set_situation_approach_icon_text
			}
			hidden_effect = {
				set_situation_flag = situation_tec_replicant_path_t2_unlock_approachs
			}
			set_situation_approach = situation_approach_tec_replicant_path_t2_fast
		}
	}
	situation_event = { # 20% - Indicate combined
		id = tec_replicant_path.20020
		title = "tec_replicant_path.20020.name"
		desc = "tec_replicant_path.20020.desc"

		picture = GFX_evt_scientific_experiments
		is_triggered_only = yes
		situation = this
		location = target

		immediate = {
			hidden_effect = {
				set_situation_locked = yes
			}
		}

		after = {
			hidden_effect = {
				set_situation_locked = no
			}
		}

		option = {
			name = tec_replicant_path.20020.a
			custom_tooltip = tec_replicant_path.20010.a.tooltip
			icon = {
				icon = GFX_situation_approach_tec_ai
				icon_background = GFX_situation_approach_bg_yellow
				text = tec_icon_text_outcome_good
			}
		}
	}
	situation_event = { # 40% - Indicate upgraded
		id = tec_replicant_path.20040
		title = "tec_replicant_path.20040.name"
		desc = "tec_replicant_path.20040.desc"

		picture = GFX_evt_scientific_experiments
		is_triggered_only = yes
		situation = this
		location = target

		immediate = {
			hidden_effect = {
				set_situation_locked = yes
			}
		}

		after = {
			hidden_effect = {
				set_situation_locked = no
			}
		}

		option = {
			name = tec_replicant_path.20040.a
			custom_tooltip = tec_replicant_path.20040.a.tooltip
			icon = {
				icon = GFX_situation_approach_tec_ai
				icon_background = GFX_situation_approach_bg_yellow
				text = tec_icon_text_outcome_good
			}
		}
	}
	situation_event = { # 50% - Decide
		id = tec_replicant_path.20050
		title = "tec_replicant_path.20050.name"
		desc = {
			text = "tec_replicant_path.20050.desc"
			trigger = {
				NOT = {
					has_situation_flag = situation_tec_replicant_path_t2_picked
				}
			}
		}
		desc = {
			text = "tec_replicant_path.20050.desc.revisited"
			trigger = {
				has_situation_flag = situation_tec_replicant_path_t2_picked
			}
		}

		picture = GFX_evt_genetic_modification
		is_triggered_only = yes
		situation = this
		location = target

		immediate = {
			hidden_effect = {
				set_situation_locked = yes
			}
		}

		after = {
			hidden_effect = {
				situation_event = {
					id = tec_replicant_path.20051
				}
			}
		}

		option = {
			name = tec_replicant_path.20050.a.standard
			custom_tooltip = tec_replicant_path.20050.a.standard.tooltip
			icon = {
				icon = GFX_situation_approach_pop
				icon_background = GFX_situation_approach_bg_tec_blue
				text = tec_icon_text_outcome_good
			}
			hidden_effect = {
				set_situation_flag = situation_tec_replicant_path_t2_picked
			}
		}
		option = {
			name = tec_replicant_path.20050.a.combined
			custom_tooltip = tec_replicant_path.20050.a.combined.tooltip
			icon = {
				icon = GFX_situation_approach_this_is_fine
				icon_background = GFX_situation_approach_bg_tec_blue
				text = tec_icon_text_outcome_good
			}
			hidden_effect = {
				set_situation_flag = situation_tec_replicant_path_t2_picked
				owner = {
					set_country_flag = tec_replicant_combined
				}
			}
		}
		
		option = {
			name = tec_replicant_path.20050.a.upgraded
			custom_tooltip = tec_replicant_path.20050.a.upgraded.tooltip
			icon = {
				icon = GFX_situation_approach_influence
				icon_background = GFX_situation_approach_bg_tec_blue
				text = tec_icon_text_outcome_good
			}
			hidden_effect = {
				set_situation_flag = situation_tec_replicant_path_t2_picked
				owner = {
					set_country_flag = tec_replicant_upgraded
				}
			}
		}
	}
	situation_event = {
		id = tec_replicant_path.20051
		title = "tec_replicant_path.20051.name"
		desc = {
			text = "tec_replicant_path.20051.desc.base"
			trigger = {
				exists = owner
				owner = {
					NOR = {
						has_country_flag = tec_replicant_combined
						has_country_flag = tec_replicant_upgraded
					}
				}
			}
		}
		desc = {
			text = "tec_replicant_path.20051.desc.combined"
			trigger = {
				exists = owner
				owner = {
					has_country_flag = tec_replicant_combined
				}
			}
		}
		desc = {
			text = "tec_replicant_path.20051.desc.upgraded"
			trigger = {
				exists = owner
				owner = {
					has_country_flag = tec_replicant_upgraded
				}
			}
		}

		picture = GFX_evt_genetic_modification
		is_triggered_only = yes
		situation = this
		location = target

		option = {
			name = tec_replicant_path.20051.a.standard
			custom_tooltip = tec_replicant_path.20051.a.standard.tooltip
			icon = {
				icon = GFX_situation_approach_pop
				icon_background = GFX_situation_approach_bg_tec_blue
				text = tec_icon_text_outcome_good
			}
			trigger = {
				exists = owner
				owner = {
					NOR = {
						has_country_flag = tec_replicant_combined
						has_country_flag = tec_replicant_upgraded
					}
				}
			}
			hidden_effect = {
				set_situation_locked = no
			}
		}
		option = {
			name = tec_replicant_path.20051.a.combined
			custom_tooltip = tec_replicant_path.20051.a.combined.tooltip
			icon = {
				icon = GFX_situation_approach_this_is_fine
				icon_background = GFX_situation_approach_bg_tec_blue
				text = tec_icon_text_outcome_good
			}
			trigger = {
				exists = owner
				owner = {
					has_country_flag = tec_replicant_combined
				}
			}
			hidden_effect = {
				set_situation_locked = no
			}
		}
		option = {
			name = tec_replicant_path.20051.a.upgraded
			custom_tooltip = tec_replicant_path.20051.a.upgraded.tooltip
			icon = {
				icon = GFX_situation_approach_influence
				icon_background = GFX_situation_approach_bg_tec_blue
				text = tec_icon_text_outcome_good
			}
			trigger = {
				exists = owner
				owner = {
					has_country_flag = tec_replicant_upgraded
				}
			}
			hidden_effect = {
				set_situation_locked = no
			}
		}
		option = {
			name = tec_replicant_path.20051.b.reroll
			custom_tooltip = tec_replicant_path.20051.b.reroll.tooltip
			icon = {
				icon = GFX_situation_approach_shrug
				icon_background = GFX_situation_approach_bg_yellow
				text = tec_icon_text_outcome_good
			}
			hidden_effect = {
				owner = {
					remove_country_flag = tec_replicant_combined
					remove_country_flag = tec_replicant_upgraded
				}
				situation_event = {
					id = tec_replicant_path.20050
				}
			}
		}
	}
	situation_event = { # 75% - Results
		id = tec_replicant_path.20075
		title = "tec_replicant_path.20075.name"
		desc = {
			text = "tec_replicant_path.20075.desc.base"
			trigger = {
				exists = owner
				owner = {
					NOR = {
						has_country_flag = tec_replicant_combined
						has_country_flag = tec_replicant_upgraded
					}
				}
			}
		}
		desc = {
			text = "tec_replicant_path.20075.desc.combined"
			trigger = {
				exists = owner
				owner = {
					has_country_flag = tec_replicant_combined
				}
			}
		}
		desc = {
			text = "tec_replicant_path.20075.desc.upgraded"
			trigger = {
				exists = owner
				owner = {
					has_country_flag = tec_replicant_upgraded
				}
			}
		}

		picture = GFX_evt_machine_sapience
		is_triggered_only = yes
		situation = this
		location = target

		immediate = {
			hidden_effect = {
				set_situation_locked = yes
			}
		}

		after = {
			hidden_effect = {
				set_situation_locked = no
			}
		}

		option = {
			name = tec_replicant_path.20075.a
			custom_tooltip = tec_replicant_path.20075.a.tooltip
			icon = {
				icon = GFX_situation_approach_tec_ai
				icon_background = GFX_situation_approach_bg_tec_blue
				text = tec_icon_text_outcome_good
			}
			hidden_effect = {
				set_situation_flag = situation_tec_replicant_path_t2_slow_progress
			}
		}
	}

	# Halfway empire situation events

	# Random situation events
  # /

  # ---------------  REPLICANT T2 Finished
	# Situation finished
	country_event = { # Biosynths after ending project
		id = tec_replicant_path.205
		title = "tec_replicant_path.205.name"
		desc = "tec_replicant_path.205.desc"
		picture = GFX_evt_hive_mind
		show_sound = event_synthetic_evolution

		is_triggered_only = yes

		immediate = {
			hidden_effect = { # Path rewards
				# Path finished
				set_country_flag = tec_replicant_path_finished
				# Alter species
				tec_create_replicant_species_effect = yes
				# Flags
				set_country_flag = tec_replicant_assimilation
				remove_country_flag = tec_cybernetic_t1_assimilation
				remove_country_flag = tec_cybernetic_t2_assimilation
				# lets change the cybernetic fallback moduled don't we?
					if = {
						limit = {
							has_country_flag = tec_cybernetic_submodule_lifespan
						}
						remove_country_flag = tec_cybernetic_submodule_lifespan
						set_country_flag = tec_cybernetic_submodule_knowledge
					}
				# /

				fire_on_action = { on_action = tec_ascension_situation_finished }
			}
		}

		option = {
			name = "tec_replicant_path.205.a"
			custom_tooltip = SYNTH_ASSIMILATION_CITIZENSHIP_ENABLED
			hidden_effect = {	
				# Announcement
				if = {
					limit = {	# Prevents FE and alike from triggering the announce
						NOT = {
							has_country_flag = tec_advanced_ascension
						}
					}
					every_country = {
						limit = {
							is_ai = no
							NOR = {
								is_same_value = root
								# TO DO policy for muting other empire things 
								has_country_flag = tec_mute_empire_announces
							}
							has_communications = root
							root = {
								is_primitive = no
							}
						}
						country_event = {
							id = tec_replicant_path.20501
							days = 5 
						}
						country_event = {
							id = tec_replicant_path.20502
							days = 10 
						}
					}
				}
			}
		}

		#after = { # Synth babbling - disabled because replicants
			#observer_event = { id = observer.4 }
			#every_country = {
			#	limit = {
			#		is_ai = no
			#		NOR = {
			#			is_same_value = root
			#			# TO DO policy for muting other empire things 
			#			has_country_flag = tec_mute_empire_announces
			#		}
			#		has_communications = root
			#		root = {
			#			is_primitive = no
			#		}
			#	}
			#	country_event = { id = utopia.2555 days = 5 }
			#	country_event = { id = utopia.2556 days = 10 }
			#}
			#if = {
			#	limit = {
			#		any_country = {
			#			OR = {
			#				is_country_type = fallen_empire
			#				is_country_type = awakened_fallen_empire
			#			}
			#			has_ethic = ethic_fanatic_spiritualist
			#			has_communications = root
			#			root = {
			#				is_primitive = no
			#			}
			#			NOT = { is_same_value = root }
			#		}
			#	}
			#	random_country = {
			#		limit = {
			#			OR = {
			#				is_country_type = fallen_empire
			#				is_country_type = awakened_fallen_empire
			#			}
			#			has_ethic = ethic_fanatic_spiritualist
			#			has_communications = root
			#			root = {
			#				is_primitive = no
			#			}
			#			NOT = { is_same_value = root }
			#		}
			#		country_event = { id = utopia.2557 days = 15 }
			#	}
			#}
			#else = {
			#	random_country = {
			#		limit = {
			#			tec_is_default_country = yes
			#			has_ethic = ethic_fanatic_spiritualist
			#			NOT = {
			#				has_valid_civic = civic_tec_regular_machine_cult
			#			}
			#			has_communications = root
			#			root = {
			#				is_primitive = no
			#			}
			#			NOT = { is_same_value = root }
			#		}
			#		country_event = { id = utopia.2557 days = 15 }
			#	}
			#	random_country = {
			#		limit = {
			#			tec_is_default_country = yes
			#			is_spiritualist = yes
			#			has_valid_civic = civic_tec_regular_machine_cult
			#			has_communications = root
			#			root = {
			#				is_primitive = no
			#			}
			#			NOT = { is_same_value = root }
			#		}
			#		country_event = { id = utopia.25571 days = 15 }
			#	}
			#}
		#}
	}

	# T2 Notification to other empires
	country_event = { # Notification for Other Nations
		id = tec_replicant_path.20501
		title = tec_replicant_path.20501.name
		desc = tec_replicant_path.20501.desc

		desc = {
			text = utopia.2555.2.desc
			trigger = {
				OR = {
					has_ethic = ethic_fanatic_spiritualist
					has_ethic = ethic_spiritualist
				}
				NOT = {
					has_valid_civic = civic_tec_regular_machine_cult
				}
			}
		}
		picture = GFX_evt_cybernetics
		show_sound = event_synthetic_evolution

		is_triggered_only = yes

		option = {
			name = INTRIGUING
			trigger = {
				OR = {
					NOR = {
						has_ethic = ethic_fanatic_spiritualist
						has_ethic = ethic_spiritualist	
					}
					AND = {
						OR = {
							has_ethic = ethic_fanatic_spiritualist
							has_ethic = ethic_spiritualist
						}
						OR = {
							has_valid_civic = civic_tec_regular_machine_cult
							has_valid_civic = civic_tec_regular_occultist
						}
					}
				}
			}
		}

		option = {
			name = DISCONCERTING
			trigger = {
				OR = {
					has_ethic = ethic_fanatic_spiritualist
					has_ethic = ethic_spiritualist
				}
				NOR = {
					has_valid_civic = civic_tec_regular_machine_cult
					has_valid_civic = civic_tec_regular_occultist
				}
			}
		}
	}
	country_event = { # Diplomatic Announcement
		id = tec_replicant_path.20502
		title = TRANSMISSION
		desc = "tec_replicant_path.20502.desc"

		diplomatic = yes

		is_triggered_only = yes

		picture_event_data = {
			portrait = from
			room = from.ruler
		}

		option = {
			name = tec_replicant_path.20502.a
			trigger = {
				NOT = { is_at_war_with = from }
			}
		}
		option = {
			name = tec_replicant_path.20502.b
			trigger = {
				NOT = { is_at_war_with = from }
			}
		}

		option = {
			name = utopia.2556.d
			trigger = {
				NOT = {
					is_at_war_with = from
				}
			}
		}

		option = {
			name = tec_replicant_path.20502.c
			trigger = {
				is_at_war_with = from
			}
		}

		option = {
			name = tec_replicant_path.20502.d
			trigger = {
				has_valid_civic = civic_machine_terminator
			}
		}

		
	}
  # /
 # /
# /

# Cyb-Psi: Cyberpsionic
# ------------------------------------------------------------ tec_cyberpsionic_path.xxx
namespace = tec_cyberpsionic_path

 # ---------------  CYBERPSI T2
  # ---------------  CYBERPSI T2 Picked
	# T3 picked
	country_event = {	# Provides situation
		id = tec_cyberpsionic_path.200
		title = "tec_cyberpsionic_path.200.name"
		desc = {
			text = "tec_cyberpsionic_path.200.desc.psionics"
			trigger = {
				exists = owner
				owner = {
					has_country_flag = tec_psionics_gate_completed
				}
			}
		}
		desc = {
			text = "tec_cyberpsionic_path.200.desc.cybernetics"
			trigger = {
				exists = owner
				owner = {
					has_country_flag = tec_cybernetics_gate_completed
				}
			}
		}
		desc = {
			text = "tec_cyberpsionic_path.200.desc"
			trigger = {
				exists = owner
				owner = {
					NOR = {
						has_country_flag = tec_psionics_gate_completed
						has_country_flag = tec_cybernetics_gate_completed
					}
				}
			}
		}
		picture = GFX_evt_cybernetics
		show_sound = event_the_great_awakening

		is_triggered_only = yes

		option = {
			name = "tec_cyberpsionic_path.200.a"
			custom_tooltip = "tec_cyberpsionic_path.200.a.tooltip"
			icon = {
				icon = GFX_situation_approach_tec_cybernetics
				icon_background = GFX_situation_approach_bg_tec_purple
				text = set_situation_approach_icon_text
			}
			allow = {
				has_technology = tech_neuro_quantum_links
				has_technology = tech_psionic_theory
				NOT = {
					any_situation = {
						is_situation_type = situation_tec_cyberpsionic_path_t2
					}
				}
			}
			hidden_effect = { 
				save_event_target_as = tec_target_country
				event_target:tec_target_country = {
					start_situation = {
						type = situation_tec_cyberpsionic_path_t2
						target = event_target:tec_target_country.capital_scope
						effect = {
							save_event_target_as = new_situation
							set_situation_approach = situation_approach_tec_cyberpsionic_path_t2_neutral
							set_situation_locked = no
						}
					}
				}
				event_target:new_situation = {
					set_situation_locked = no
				}
			}
		}

		option = {
			name = "tec_cyberpsionic_path.200.b"
			custom_tooltip = "tec_cyberpsionic_path.200.b.tooltip"
			icon = {
				icon = GFX_situation_approach_research
				icon_background = GFX_situation_approach_bg_red
				text = set_situation_approach_icon_text
			}
			trigger = {
				OR = {
					NOT = {
						has_technology = tech_neuro_quantum_links
					}
					NOT = {
						has_technology = tech_psionic_theory
					}
				}
			}
			allow = {
				NOT = {
					any_situation = {
						is_situation_type = situation_tec_cyberpsionic_path_t2
					}
				}
			}
			hidden_effect = { 
				save_event_target_as = tec_target_country
				event_target:tec_target_country = {
					start_situation = {
						type = situation_tec_cyberpsionic_path_t2
						target = event_target:tec_target_country.capital_scope
						effect = {
							save_event_target_as = new_situation
							set_situation_approach = situation_approach_tec_cyberpsionic_path_t2_notech
							set_situation_locked = no
						}
					}
				}
				event_target:new_situation = {
					set_situation_locked = no
				}
			}
		}
	}
  # /

  # ---------------  CYBERPSI T2 Situation
	# Note
		# 10 Discovering our potential
		# 20 Tools of improvement - gives the side projects
		# 30 Material creativity
		# 50 Anomalous combination
		# 60 Infusion applications - gives the projects
	# /
	situation_event = { # 10%
		id = tec_cyberpsionic_path.20010
		title = "tec_cyberpsionic_path.20010.name"
		desc = {
			text = "tec_cyberpsionic_path.20010.desc.psionics"
			trigger = {
				exists = owner
				owner = {
					has_country_flag = tec_psionics_gate_completed
				}
			}
		}
		desc = {
			text = "tec_cyberpsionic_path.20010.desc.cybernetics"
			trigger = {
				exists = owner
				owner = {
					has_country_flag = tec_cybernetics_gate_completed
				}
			}
		}
		desc = {
			text = "tec_cyberpsionic_path.20010.desc"
			trigger = {
				exists = owner
				owner = {
					NOR = {
						has_country_flag = tec_psionics_gate_completed
						has_country_flag = tec_cybernetics_gate_completed
					}
				}
			}
		}

		picture = GFX_evt_scientific_experiments
		is_triggered_only = yes
		situation = this
		location = target

		immediate = {
			hidden_effect = {
				set_situation_locked = yes
			}
		}

		after = {
			hidden_effect = {
				set_situation_locked = no
			}
		}

		option = {
			name = tec_cyberpsionic_path.20010.a
			custom_tooltip = tec_cyberpsionic_path.20010.a.tooltip
			icon = {
				icon = GFX_situation_approach_tec_cybernetics
				icon_background = GFX_situation_approach_bg_green
				text = set_situation_approach_icon_text
			}
			hidden_effect = {
				set_situation_flag = situation_tec_cyberpsionic_path_t2_unlock_approachs
			}
			set_situation_approach = situation_approach_tec_cyberpsionic_path_t2_slow
		}
		option = {
			name = tec_cyberpsionic_path.20010.b
			custom_tooltip = tec_cyberpsionic_path.20010.b.tooltip
			icon = {
				icon = GFX_situation_approach_tec_cybernetics
				icon_background = GFX_situation_approach_bg_red
				text = set_situation_approach_icon_text
			}
			hidden_effect = {
				set_situation_flag = situation_tec_cyberpsionic_path_t2_unlock_approachs
			}
			set_situation_approach = situation_approach_tec_cyberpsionic_path_t2_fast
		}
	}

	situation_event = { # 20% - gives side projects
		id = tec_cyberpsionic_path.20020
		title = "tec_cyberpsionic_path.20020.name"
		desc = "tec_cyberpsionic_path.20020.desc"

		picture = GFX_evt_scientific_experiments
		is_triggered_only = yes
		situation = this
		location = target

		immediate = {
			hidden_effect = {
				set_situation_locked = yes
			}
		}

		after = {
			hidden_effect = {
				set_situation_locked = no
			}
		}

		option = {
			name = tec_cyberpsionic_path.20020.a
			custom_tooltip = tec_cyberpsionic_path.20020.a.tooltip
			icon = {
				icon = GFX_situation_approach_tec_cybernetics
				icon_background = GFX_situation_approach_bg_green
				text = tec_icon_text_outcome_good
			}
			hidden_effect = {
				owner = {
					save_event_target_as = tec_cyberpsionic_owner
				}
				event_target:tec_cyberpsionic_owner = {
					begin_event_chain = {
						event_chain = tec_cyberpsionic_election_chain
					}
					capital_scope = {
						enable_special_project = {
							name = TEC_CYBERPSIONIC_ELECTION_A
							location = this
							owner = event_target:tec_cyberpsionic_owner
						}
						enable_special_project = {
							name = TEC_CYBERPSIONIC_ELECTION_B
							location = this
							owner = event_target:tec_cyberpsionic_owner
						}
						enable_special_project = {
							name = TEC_CYBERPSIONIC_ELECTION_C
							location = this
							owner = event_target:tec_cyberpsionic_owner
						}
					}
				}
			}
		}
	}
	# 3 Traits
	country_event = {	# power
		id = tec_cyberpsionic_path.20021
		title = "tec_cyberpsionic_path.20021.name"
		desc = {
			text = tec_cyberpsionic_path.20021.desc
		}
		picture = GFX_evt_cybernetics
		show_sound = event_the_flesh_is_weak

		is_triggered_only = yes

		option = {
			name = "tec_cyberpsionic_path.20021.a"
			custom_tooltip = tec_cyberpsionic_path.20021.a.tooltip
		}

		after = {
			hidden_effect = {
				if = {
					limit = {
						has_completed_event_chain_counter = {
							event_chain = tec_cyberpsionic_election_chain
							counter = tec_cyberpsionic_projects_completed
						}
					}
					end_event_chain = tec_cyberpsionic_election_chain
				}
			}
		}
	}
	country_event = {	# equilibrium
		id = tec_cyberpsionic_path.20022
		title = "tec_cyberpsionic_path.20022.name"
		desc = {
			text = tec_cyberpsionic_path.20022.desc
		}
		picture = GFX_evt_cybernetics
		show_sound = event_the_flesh_is_weak

		is_triggered_only = yes

		option = {
			name = "tec_cyberpsionic_path.20022.a"
			custom_tooltip = tec_cyberpsionic_path.20022.a.tooltip
		}

		after = {
			hidden_effect = {
				if = {
					limit = {
						has_completed_event_chain_counter = {
							event_chain = tec_cyberpsionic_election_chain
							counter = tec_cyberpsionic_projects_completed
						}
					}
					end_event_chain = tec_cyberpsionic_election_chain
				}
			}
		}
	}
	country_event = {	# control
		id = tec_cyberpsionic_path.20023
		title = "tec_cyberpsionic_path.20023.name"
		desc = {
			text = tec_cyberpsionic_path.20023.desc
		}
		picture = GFX_evt_cybernetics
		show_sound = event_the_flesh_is_weak

		is_triggered_only = yes

		option = {
			name = "tec_cyberpsionic_path.20023.a"
			custom_tooltip = tec_cyberpsionic_path.20023.a.tooltip
		}

		after = {
			hidden_effect = {
				if = {
					limit = {
						has_completed_event_chain_counter = {
							event_chain = tec_cyberpsionic_election_chain
							counter = tec_cyberpsionic_projects_completed
						}
					}
					end_event_chain = tec_cyberpsionic_election_chain
				}
			}
		}
	}

	situation_event = { # 30%
		id = tec_cyberpsionic_path.20030
		title = "tec_cyberpsionic_path.20030.name"
		desc = "tec_cyberpsionic_path.20030.desc"

		picture = GFX_evt_scientific_experiments
		is_triggered_only = yes
		situation = this
		location = target

		immediate = {
			hidden_effect = {
				set_situation_locked = yes
			}
		}

		after = {
			hidden_effect = {
				set_situation_locked = no
			}
		}

		option = {
			name = tec_cyberpsionic_path.20030.a
			custom_tooltip = tec_cyberpsionic_path.20030.a.tooltip
			icon = {
				icon = GFX_situation_approach_shrug
				icon_background = GFX_situation_approach_bg_red
				text = tec_icon_text_outcome_bad
			}
			hidden_effect = {
				set_situation_flag = situation_tec_cyberpsionic_path_t2_slow_progress
			}
		}
	}

	situation_event = { # 50% - gives zro tech if not researched
		id = tec_cyberpsionic_path.20050
		title = "tec_cyberpsionic_path.20050.name"
		desc = {
			text = "tec_cyberpsionic_path.20050.desc"
			trigger = {
				exists = owner
				owner = {
					has_technology = tech_mine_zro
				}
			}
		}
		desc = {
			text = "tec_cyberpsionic_path.20050.desc.nozro"
			trigger = {
				exists = owner
				owner = {
					NOT = {
						has_technology = tech_mine_zro
					}
				}
			}
		}

		picture = GFX_evt_scientific_experiments
		is_triggered_only = yes
		situation = this
		location = target

		immediate = {
			hidden_effect = {
				set_situation_locked = yes
				remove_situation_flag = situation_tec_cyberpsionic_path_t2_slow_progress
			}
		}

		after = {
			hidden_effect = {
				set_situation_locked = no
			}
		}

		option = {	# Has zro
			name = tec_cyberpsionic_path.20050.a
			custom_tooltip = tec_cyberpsionic_path.20050.a.tooltip
			icon = {
				icon = GFX_situation_approach_tec_cybernetics
				icon_background = GFX_situation_approach_bg_green
				text = tec_icon_text_outcome_neutral
			}
			trigger = {
				exists = owner
				owner = {
					has_technology = tech_mine_zro
				}
			}
			hidden_effect = {
				owner = {
					set_country_flag = tec_announced_psionic_traits
				}
			}
		}
		option = {	# NOT Has zro
			name = tec_cyberpsionic_path.20050.b
			custom_tooltip = tec_cyberpsionic_path.20050.b.tooltip
			icon = {
				icon = GFX_situation_approach_tec_cybernetics
				icon_background = GFX_situation_approach_bg_green
				text = tec_icon_text_outcome_neutral
			}
			trigger = {
				exists = owner
				owner = {
					NOT = {
						has_technology = tech_mine_zro
					}
				}
			}
			hidden_effect = {
				# Keeps the current approaches
					if = {
						limit = {
							current_situation_approach = situation_approach_tec_cyberpsionic_path_t2_slow
						}
						set_situation_flag = situation_tec_cyberpsionic_path_t2_had_slow
					}
					if = {
						limit = {
							current_situation_approach = situation_approach_tec_cyberpsionic_path_t2_fast
						}
						set_situation_flag = situation_tec_cyberpsionic_path_t2_had_fast
					}
				# /
				# Adds zro guaranteed
					set_situation_flag = situation_tec_cyberpsionic_path_t2_nozro
					owner = {
						set_country_flag = situation_tec_cyberpsionic_path_t2_nozro
						if = {
							limit = {
								NOT = {
									has_tech_option = tech_mine_zro
								}
							}
							add_research_option = tech_mine_zro
						}
					}
					set_situation_approach = situation_approach_tec_cyberpsionic_path_t2_nozro
				# /
			}
		}
	}
	country_event = { # < - on tech increased country event triggers situation event
		id = tec_cyberpsionic_path.20051
		hide_window = yes
		is_triggered_only = yes

		trigger = {
			has_country_flag = situation_tec_cyberpsionic_path_t2_nozro
			has_technology = tech_mine_zro
		}

		immediate = {
			random_situation = {
				limit = {
					is_situation_type = situation_tec_cyberpsionic_path_t2
				}
				situation_event = {
					id = tec_cyberpsionic_path.20055
				}
			}
		}
	}
	situation_event = { # 52%
		id = tec_cyberpsionic_path.20055
		title = "tec_cyberpsionic_path.20055.name"
		desc = "tec_cyberpsionic_path.20055.desc"

		picture = GFX_evt_scientific_experiments
		is_triggered_only = yes
		situation = this
		location = target

		immediate = {
			hidden_effect = {
				set_situation_locked = yes
			}
		}

		after = {
			hidden_effect = {
				set_situation_locked = no
			}
		}

		option = {	# Amazing
			name = tec_cyberpsionic_path.20055.a
			custom_tooltip = tec_cyberpsionic_path.20055.a.tooltip
			icon = {
				icon = GFX_situation_approach_this_is_fine
				icon_background = GFX_situation_approach_bg_tec_purple
				text = tec_icon_text_outcome_good
			}
			hidden_effect = {
				owner = {
					set_country_flag = tec_announced_psionic_traits
				}
				if = {
					limit = {
						has_situation_flag = situation_tec_cyberpsionic_path_t2_had_slow
					}
					remove_situation_flag = situation_tec_cyberpsionic_path_t2_had_slow
					set_situation_approach = situation_approach_tec_cyberpsionic_path_t2_slow
				}
				if = {
					limit = {
						has_situation_flag = situation_tec_cyberpsionic_path_t2_had_fast
					}
					remove_situation_flag = situation_tec_cyberpsionic_path_t2_had_fast
					set_situation_approach = situation_approach_tec_cyberpsionic_path_t2_fast
				}
				remove_situation_flag = situation_tec_cyberpsionic_path_t2_nozro
				owner = {
					remove_country_flag = situation_tec_cyberpsionic_path_t2_nozro
				}
			}
		}
	}

	situation_event = { # 60% - gives infusion projects
		id = tec_cyberpsionic_path.20060
		title = "tec_cyberpsionic_path.20060.name"
		desc = "tec_cyberpsionic_path.20060.desc"

		picture = GFX_evt_baol_datacrystals
		show_sound = event_the_great_awakening
		is_triggered_only = yes
		situation = this
		location = target

		immediate = {
			hidden_effect = {
				set_situation_locked = yes
			}
		}

		after = {
			hidden_effect = {
				set_situation_locked = no
			}
		}

		option = {
			name = tec_cyberpsionic_path.20060.a
			custom_tooltip = tec_cyberpsionic_path.20060.a.tooltip
			icon = {
				icon = GFX_situation_approach_tec_cybernetics
				icon_background = GFX_situation_approach_bg_green
				text = tec_icon_text_outcome_good
			}
			owner = {
				hidden_effect = {
					save_event_target_as = tec_cyberpsionic_owner
				}
				event_target:tec_cyberpsionic_owner = {
					begin_event_chain = {
						event_chain = tec_cyberpsionic_zro_chain
					}
					capital_scope = {
						enable_special_project = {
							name = TEC_CYBERPSIONIC_ZRO_A
							location = this
							owner = event_target:tec_cyberpsionic_owner
						}
						enable_special_project = {
							name = TEC_CYBERPSIONIC_ZRO_B
							location = this
							owner = event_target:tec_cyberpsionic_owner
						}
						enable_special_project = {
							name = TEC_CYBERPSIONIC_ZRO_C
							location = this
							owner = event_target:tec_cyberpsionic_owner
						}
					}
				}
			}
		}
	}
	# Discover traits
	# Special project 1 : Main tech
	country_event = {
		id = tec_cyberpsionic_path.20061
		title = "tec_cyberpsionic_path.20061.name"
		desc = "tec_cyberpsionic_path.20061.desc"

		picture = GFX_evt_baol_datacrystals
		show_sound = event_the_flesh_is_weak

		is_triggered_only = yes

		option = {
			name = "tec_cyberpsionic_path.20061.a"
			custom_tooltip = "tec_cyberpsionic_path.20061.a.tooltip"
		}

		after = {
			hidden_effect = {
				if = {
					limit = {
						has_completed_event_chain_counter = {
							event_chain = tec_cyberpsionic_zro_chain
							counter = tec_cyberpsionic_zro_projects_completed
						}
					}
					end_event_chain = tec_cyberpsionic_zro_chain
					country_event = {
						id = tec_cyberpsionic_path.20065
						days = 1
					}
				}
			}
		}
	}
	# Special project 2: Main traits
	country_event = {
		id = tec_cyberpsionic_path.20062
		title = "tec_cyberpsionic_path.20062.name"
		desc = "tec_cyberpsionic_path.20062.desc"

		picture = GFX_evt_baol_datacrystals
		show_sound = event_the_flesh_is_weak

		is_triggered_only = yes

		option = {
			name = "tec_cyberpsionic_path.20062.a"
			custom_tooltip = "tec_cyberpsionic_path.20062.a.tooltip"
		}

		after = {
			hidden_effect = {
				if = {
					limit = {
						has_completed_event_chain_counter = {
							event_chain = tec_cyberpsionic_zro_chain
							counter = tec_cyberpsionic_zro_projects_completed
						}
					}
					end_event_chain = tec_cyberpsionic_zro_chain
					country_event = {
						id = tec_cyberpsionic_path.20065
						days = 1
					}
				}
			}
		}
	}
	# Special project 3: Shroud extraction
	country_event = {
		id = tec_cyberpsionic_path.20063
		title = "tec_cyberpsionic_path.20063.name"
		desc = "tec_cyberpsionic_path.20063.desc"

		picture = GFX_evt_matter_decompressor
		show_sound = event_the_flesh_is_weak

		is_triggered_only = yes

		option = {
			name = "tec_cyberpsionic_path.20063.a"
			custom_tooltip = "tec_cyberpsionic_path.20063.a.tooltip"
		}

		after = {
			hidden_effect = {
				if = {
					limit = {
						has_completed_event_chain_counter = {
							event_chain = tec_cyberpsionic_zro_chain
							counter = tec_cyberpsionic_zro_projects_completed
						}
					}
					end_event_chain = tec_cyberpsionic_zro_chain
					country_event = {
						id = tec_cyberpsionic_path.20065
						days = 1
					}
				}
			}
		}
	}
	#Ending
	country_event = {
		id = tec_cyberpsionic_path.20065
		title = "tec_cyberpsionic_path.20065.name"
		desc = "tec_cyberpsionic_path.20065.desc"

		picture = GFX_evt_zro_4
		show_sound = event_the_flesh_is_weak

		is_triggered_only = yes

		option = {
			name = "tec_cyberpsionic_path.20065.a"
			custom_tooltip = "tec_cyberpsionic_path.20065.a.tooltip"
		}
	}

	#situation_event = { # 80% - not used
		#	id = tec_cyberpsionic_path.20080
		#	title = "tec_cyberpsionic_path.20080.name"
		#	desc = "tec_cyberpsionic_path.20080.desc"
		#	picture = GFX_evt_scientific_experiments
		#	is_triggered_only = yes
		#	situation = this
		#	location = target
		#	immediate = {
		#		hidden_effect = {
		#			set_situation_locked = yes
		#		}
		#	}
		#	after = {
		#		hidden_effect = {
		#			set_situation_locked = no
		#		}
		#	}
		#	option = {
		#		name = tec_cyberpsionic_path.20080.a
		#		custom_tooltip = tec_cyberpsionic_path.20080.a.tooltip
		#		icon = {
		#			icon = GFX_situation_approach_tec_cybernetics
		#			icon_background = GFX_situation_approach_bg_green
		#			text = tec_icon_text_outcome_neutral
		#		}
		#	}
	#}

	# Halfway empire situation events

	# Random situation events
  # /
 
  # ---------------  CYBERPSI T2 Finished
	# Upon completion, gives the trait and adds the special projects; also notifies the other empires
	country_event = {
		id = tec_cyberpsionic_path.205
		title = "tec_cyberpsionic_path.205.name"
		desc = "tec_cyberpsionic_path.205.desc"
		picture = GFX_evt_cybernetics
		show_sound = event_the_great_awakening

		is_triggered_only = yes

		immediate = {
			hidden_effect = { # Path rewards
				# Path finished
				set_country_flag = tec_cyberpsionic_path_finished
				# Alter species
				tec_create_cyberpsionic_species_effect = yes
				# TO DO create specific leader ascension trait handler
				every_owned_leader = {
					add_leader_traits_after_modification = yes
					remove_leader_traits_after_modification = yes
				}
				every_pool_leader = {
					add_leader_traits_after_modification = yes
					remove_leader_traits_after_modification = yes
				}
				# Features
				set_country_flag = tec_u_cp_equilibrium
				set_country_flag = tec_u_cp_control
				set_country_flag = tec_u_cp_power
				set_country_flag = tec_u_cp_cyborg_traits
				set_country_flag = tec_u_cp_robot_traits
				set_country_flag = tec_cyberpsionic_buildings
				# Flags
				set_country_flag = tec_cyberpsionic_assimilation
				remove_country_flag = tec_cybernetic_t1_assimilation
				remove_country_flag = tec_cybernetic_t2_assimilation
				# Psionic traits
				set_country_flag = tec_announced_psionic_traits
				fire_on_action = { on_action = tec_ascension_situation_finished }
			}
		}

		option = {
			name = "tec_cyberpsionic_path.205.a"
			custom_tooltip = tec_cyberpsionic_path.205.a.tooltip
			hidden_effect = {
				# Announcement
				if = {
					limit = {	# Prevents FE and alike from triggering the announce
						NOT = {
							has_country_flag = tec_advanced_ascension
						}
					}
					every_country = {
						limit = {
							is_ai = no
							NOR = {
								is_same_value = root
								# TO DO policy for muting other empire things 
								has_country_flag = tec_mute_empire_announces
							}
							has_communications = root
							root = {
								is_primitive = no
							}
						}
						country_event = {
							id = tec_cyberpsionic_path.20501 
							days = 5
						}
					}
				}
			}
		}
	}
		# B2 Notification for Other Nations
	country_event = {
		id = tec_cyberpsionic_path.20501
		title = "tec_cyberpsionic_path.20501.name"
		desc = {
			text = tec_cyberpsionic_path.20501.desc
		}
		picture = GFX_evt_cybernetics
		show_sound = event_the_great_awakening

		is_triggered_only = yes

		option = {
			name = "tec_cyberpsionic_path.20501.a"
		}

		option = {
			name = "tec_cyberpsionic_path.20501.b"
			trigger = {
				OR = {
					has_ascension_perk = ap_tec_psionic_ascendance
					has_ascension_perk = ap_tec_biopsionic
					has_ascension_perk = ap_tec_hive_psionic_3
				}
				opinion_level = {
					who = from
					level < neutral 
				}
			}
		}

		option = {
			name = "tec_cyberpsionic_path.20501.c"
			trigger = {
				OR = {
					has_civic = civic_machine_terminator
					has_civic = civic_fanatic_purifiers
					has_civic = civic_hive_devouring_swarm
				}
			}
		}
		option = {
			name = "tec_cyberpsionic_path.20501.e"
			trigger = {
				is_machine_empire = yes
				NOR = {
					has_ethic = ethic_gestalt_empathy
					has_civic = civic_machine_assimilator
					has_civic = civic_machine_servitor
				}
			}
		}
		
	}
  # /
 # /

# /

# Bio-Psi: Purity of form
# ------------------------------------------------------------ tec_biopsionic_path.xxx
namespace = tec_biopsionic_path

 # ---------------  BIOPSI T2
  # ---------------  BIOPSI T2 Picked
	country_event = {	# Provides situation
		id = tec_biopsionic_path.200
		title = "tec_biopsionic_path.200.name"
		desc = "tec_biopsionic_path.200.desc"
		picture = GFX_evt_psionics
		show_sound = event_the_great_awakening

		is_triggered_only = yes

		option = {
			name = "tec_biopsionic_path.200.a"
			custom_tooltip = "tec_biopsionic_path.200.a.tooltip"
			icon = {
				icon = GFX_situation_approach_influence
				icon_background = GFX_situation_approach_bg_tec_purple
				text = tec_icon_text_outcome_good
			}
			allow = {
				has_technology = tech_gene_tailoring
				has_technology = tech_psionic_theory
				NOT = {
					any_situation = {
						is_situation_type = situation_tec_biopsionic_path_t2
					}
				}
			}
			hidden_effect = { 
				save_event_target_as = tec_target_country
				event_target:tec_target_country = {
					start_situation = {
						type = situation_tec_biopsionic_path_t2
						target = event_target:tec_target_country.capital_scope
						effect = {
							save_event_target_as = new_situation
							set_situation_approach = situation_approach_tec_biopsionic_path_t2_neutral
							set_situation_locked = no
						}
					}
				}
				event_target:new_situation = {
					set_situation_locked = no
				}
			}
		}

		option = {
			name = "tec_biopsionic_path.200.b"
			custom_tooltip = "tec_biopsionic_path.200.b.tooltip"
			icon = {
				icon = GFX_situation_approach_research
				icon_background = GFX_situation_approach_bg_red
				text = set_situation_approach_icon_text
			}
			trigger = {
				OR = {
					NOT = {
						has_technology = tech_gene_tailoring
					}
					NOT = {
						has_technology = tech_psionic_theory
					}
				}
			}
			allow = {
				NOT = {
					any_situation = {
						is_situation_type = situation_tec_biopsionic_path_t2
					}
				}
			}
			hidden_effect = { 
				save_event_target_as = tec_target_country
				event_target:tec_target_country = {
					start_situation = {
						type = situation_tec_biopsionic_path_t2
						target = event_target:tec_target_country.capital_scope
						effect = {
							save_event_target_as = new_situation
							set_situation_approach = situation_approach_tec_biopsionic_path_t2_notech
							set_situation_locked = no
						}
					}
				}
				event_target:new_situation = {
					set_situation_locked = no
				}
			}
		}
	}
  # /

  # ---------------  BIOPSI T2 Situation
	situation_event = { # 10% - gives the two approaches
		id = tec_biopsionic_path.20010
		title = "tec_biopsionic_path.20010.name"
		desc = "tec_biopsionic_path.20010.desc"

		picture = GFX_evt_shroudwalker_teachers
		show_sound = evn_ove_shroudwalker_apprentice
		is_triggered_only = yes
		situation = this
		location = target

		immediate = {
			hidden_effect = {
				set_situation_locked = yes
			}
		}

		after = {
			hidden_effect = {
				set_situation_locked = no
			}
		}

		option = {
			name = tec_biopsionic_path.20010.a
			custom_tooltip = tec_biopsionic_path.20010.a.tooltip
			icon = {
				icon = GFX_situation_approach_influence
				icon_background = GFX_situation_approach_bg_tec_purple
				text = set_situation_approach_icon_text
			}
			hidden_effect = {
				set_situation_flag = situation_tec_biopsionic_path_t2_unlock_approachs
			}
			set_situation_approach = situation_approach_tec_biopsionic_path_t2_psionics
		}
		option = {
			name = tec_biopsionic_path.20010.b
			custom_tooltip = tec_biopsionic_path.20010.b.tooltip
			icon = {
				icon = GFX_situation_approach_genetics
				icon_background = GFX_situation_approach_bg_green
				text = set_situation_approach_icon_text
			}
			hidden_effect = {
				set_situation_flag = situation_tec_biopsionic_path_t2_unlock_approachs
			}
			set_situation_approach = situation_approach_tec_biopsionic_path_t2_genetics
		}
	}
	situation_event = { # 20% - sub module
		id = tec_biopsionic_path.20020
		title = "tec_biopsionic_path.20020.name"
		desc = {
			trigger = {
				current_situation_approach = situation_approach_tec_biopsionic_path_t2_psionics
			}
			text = "tec_biopsionic_path.20020.desc.psionics"
		}
		desc = {
			trigger = {
				current_situation_approach = situation_approach_tec_biopsionic_path_t2_genetics
			}
			text = "tec_biopsionic_path.20020.desc.genetics"
		}

		picture = GFX_evt_scientific_experiments
		show_sound = evn_ove_shroudwalker_apprentice
		is_triggered_only = yes
		situation = this
		location = target

		immediate = {
			hidden_effect = {
				set_situation_locked = yes
			}
		}

		after = {
			hidden_effect = {
				set_situation_locked = no
			}
		}

		option = {
			name = tec_biopsionic_path.20020.a.psionics
			custom_tooltip = tec_biopsionic_path.20020.a.psionics.tooltip
			icon = {
				icon = GFX_situation_approach_influence
				icon_background = GFX_situation_approach_bg_tec_purple
				text = tec_icon_text_outcome_good
			}
			hidden_effect = {
				owner = {
					set_country_flag = tec_biopsionic_module_upkeep
				}
			}
		}
		option = {
			name = tec_biopsionic_path.20020.b.genetics
			custom_tooltip = tec_biopsionic_path.20020.b.genetics.tooltip
			icon = {
				icon = GFX_situation_approach_genetics
				icon_background = GFX_situation_approach_bg_green
				text = tec_icon_text_outcome_good
			}
			hidden_effect = {
				owner = {
					set_country_flag = tec_biopsionic_module_amenities
				}
			}
		}
		option = {
			name = tec_biopsionic_path.20020.c.neither
			custom_tooltip = tec_biopsionic_path.20020.c.neither.tooltip
			icon = {
				icon = GFX_situation_approach_shrug
				icon_background = GFX_situation_approach_bg_yellow
				text = set_situation_approach_icon_text
			}
		}
	}
	situation_event = { # 40% - main module
		id = tec_biopsionic_path.20040
		title = "tec_biopsionic_path.20040.name"
		desc = {
			trigger = {
				current_situation_approach = situation_approach_tec_biopsionic_path_t2_psionics
			}
			text = "tec_biopsionic_path.20040.desc.psionics"
		}
		desc = {
			trigger = {
				current_situation_approach = situation_approach_tec_biopsionic_path_t2_genetics
			}
			text = "tec_biopsionic_path.20040.desc.genetics"
		}

		picture = GFX_evt_zro_4
		show_sound = evn_ove_shroudwalker_apprentice
		is_triggered_only = yes
		situation = this
		location = target

		immediate = {
			hidden_effect = {
				set_situation_locked = yes
			}
		}

		after = {
			hidden_effect = {
				set_situation_locked = no
			}
		}

		option = {
			name = tec_biopsionic_path.20040.a.psionics
			custom_tooltip = tec_biopsionic_path.20040.a.psionics.tooltip
			icon = {
				icon = GFX_situation_approach_influence
				icon_background = GFX_situation_approach_bg_tec_purple
				text = tec_icon_text_outcome_good
			}
			hidden_effect = {
				owner = {
					set_country_flag = tec_biopsionic_main_module_production
				}
			}
		}
		option = {
			name = tec_biopsionic_path.20040.b.genetics
			custom_tooltip = tec_biopsionic_path.20040.b.genetics.tooltip
			icon = {
				icon = GFX_situation_approach_genetics
				icon_background = GFX_situation_approach_bg_green
				text = tec_icon_text_outcome_good
			}
			hidden_effect = {
				owner = {
					set_country_flag = tec_biopsionic_main_module_pop_upkeep
				}
			}
		}
	}
	situation_event = { # 50% - gives trait
		id = tec_biopsionic_path.20050
		title = "tec_biopsionic_path.20050.name"
		desc = "tec_biopsionic_path.20050.desc"

		picture = GFX_evt_psionics
		show_sound = event_the_great_awakening
		is_triggered_only = yes
		situation = this
		location = target

		immediate = {
			hidden_effect = {
				set_situation_locked = yes
			}
		}

		after = {
			hidden_effect = {
				set_situation_locked = no
			}
		}

		option = {
			name = tec_biopsionic_path.20050.a
			custom_tooltip = tec_biopsionic_path.20050.a.tooltip
			icon = {
				icon = GFX_situation_approach_this_is_fine
				icon_background = GFX_situation_approach_bg_tec_purple
				text = tec_icon_text_outcome_good
			}
			hidden_effect = {
				owner = {
					set_country_flag = tec_biopsionic_assimilation
					country_event = {
						id = tec_biopsionic_path.20051
					}
				}
			}
		}
	}

	# Gives the trait midway
	country_event = {
		id = tec_biopsionic_path.20051
		hide_window = yes
		
		is_triggered_only = yes

		immediate = {
			hidden_effect = {
				# Path finished ... or not?
				set_country_flag = tec_biopsionic_assimilation
				# Alter species
				tec_create_biopsionic_species_effect = yes
				# TO DO create specific leader ascension trait handler
				every_owned_leader = {
					add_leader_traits_after_modification = yes
					remove_leader_traits_after_modification = yes
				}
				every_pool_leader = {
					add_leader_traits_after_modification = yes
					remove_leader_traits_after_modification = yes
				}
				fire_on_action = { on_action = tec_ascension_situation_finished }
				# Announcement
				if = {
					limit = {	# Prevents FE and alike from triggering the announce
						NOT = {
							has_country_flag = tec_advanced_ascension
						}
					}
					every_country = {
						limit = {
							is_ai = no
							NOR = {
								is_same_value = root
								# TO DO policy for muting other empire things 
								has_country_flag = tec_mute_empire_announces
							}
							has_communications = root
							root = {
								is_primitive = no
							}
						}
						country_event = {
							id = tec_biopsionic_path.20052
							days = 5
							random = 5
						}
					}
				}
			}
		}
	}

	country_event = { # Notification for Other Nations
		id = tec_biopsionic_path.20052
		title = "tec_biopsionic_path.20052.name"
		desc = {
			text = tec_biopsionic_path.20052.desc
		}
		picture = GFX_evt_psionics
		show_sound = event_engineered_evolution

		is_triggered_only = yes

		option = {
			name = "tec_biopsionic_path.20052.a"
		}

		option = {
			name = "tec_biopsionic_path.20052.b"
		}

		option = {
			name = "tec_biopsionic_path.20052.c"
			trigger = {
				OR = {
					has_civic = civic_machine_terminator
					has_civic = civic_fanatic_purifiers
					has_civic = civic_hive_devouring_swarm
				}
			}
		}
		option = {
			name = "tec_biopsionic_path.20052.d"
			trigger = {
				is_machine_empire = yes
				NOR = {
					has_ethic = ethic_gestalt_empathy
					has_civic = civic_machine_assimilator
					has_civic = civic_machine_servitor
				}
			}
		}
		
	}

	# tec_biopsionic_path.20055	biopsi hive trigger
	# tec_biopsionic_path.20056
	# tec_biopsionic_path.20057 # Notification for Other Nations

	situation_event = { # 60% - gives zro tech if not researched
		id = tec_biopsionic_path.20060
		title = "tec_biopsionic_path.20060.name"
		desc = {
			text = "tec_biopsionic_path.20060.desc.haszro"
			trigger = {
				exists = owner
				owner = {
					has_technology = tech_mine_zro
				}
			}
		}
		desc = {
			text = "tec_biopsionic_path.20060.desc.nozro"
			trigger = {
				exists = owner
				owner = {
					NOT = {
						has_technology = tech_mine_zro
					}
				}
			}
		}

		picture = GFX_evt_zro_4
		is_triggered_only = yes
		situation = this
		location = target

		immediate = {
			hidden_effect = {
				set_situation_locked = yes
			}
		}

		after = {
			hidden_effect = {
				set_situation_locked = no
			}
		}

		option = {	# Has zro
			name = tec_biopsionic_path.20060.a
			custom_tooltip = tec_biopsionic_path.20060.a.tooltip
			icon = {
				icon = GFX_situation_approach_influence
				icon_background = GFX_situation_approach_bg_tec_purple
				text = tec_icon_text_outcome_neutral
			}
			trigger = {
				exists = owner
				owner = {
					has_technology = tech_mine_zro
				}
			}
			hidden_effect = {
				owner = {
					set_country_flag = tec_announced_psionic_traits
				}
			}
		}
		option = {	# NOT Has zro
			name = tec_biopsionic_path.20060.b
			custom_tooltip = tec_biopsionic_path.20060.b.tooltip
			icon = {
				icon = GFX_situation_approach_influence
				icon_background = GFX_situation_approach_bg_yellow
				text = tec_icon_text_outcome_neutral
			}
			trigger = {
				exists = owner
				owner = {
					NOT = {
						has_technology = tech_mine_zro
					}
				}
			}
			hidden_effect = {
				# Keeps the current approaches
					if = {
						limit = {
							current_situation_approach = situation_approach_tec_biopsionic_path_t2_psionics
						}
						set_situation_flag = situation_tec_biopsionic_path_t2_had_psionics
					}
					if = {
						limit = {
							current_situation_approach = situation_approach_tec_biopsionic_path_t2_genetics
						}
						set_situation_flag = situation_tec_biopsionic_path_t2_had_genetics
					}
				# /
				# Adds zro guaranteed
					set_situation_flag = situation_tec_biopsionic_path_t2_nozro
					set_situation_approach = situation_approach_tec_biopsionic_path_t2_nozro
					owner = {
						set_country_flag = situation_tec_biopsionic_path_t2_nozro
						if = {
							limit = {
								NOT = {
									has_tech_option = tech_mine_zro
								}
							}
							add_research_option = tech_mine_zro
						}
					}
				# /
			}
		}
	}
	country_event = { # < - on tech increased country event triggers situation event
		id = tec_biopsionic_path.20061
		hide_window = yes
		is_triggered_only = yes

		trigger = {
			has_country_flag = situation_tec_biopsionic_path_t2_nozro
			has_technology = tech_mine_zro
		}

		immediate = {
			random_situation = {
				limit = {
					is_situation_type = situation_tec_biopsionic_path_t2
				}
				situation_event = {
					id = tec_biopsionic_path.20065
				}
			}
		}
	}
	situation_event = { # 65%
		id = tec_biopsionic_path.20065
		title = "tec_biopsionic_path.20065.name"
		desc = {
			text = "tec_biopsionic_path.20065.desc.psionics"
			trigger = {
				has_situation_flag = situation_tec_biopsionic_path_t2_had_psionics
			}
		}
		desc = {
			text = "tec_biopsionic_path.20065.desc.genetics"
			trigger = {
				has_situation_flag = situation_tec_biopsionic_path_t2_had_genetics
			}
		}

		picture = GFX_evt_zro_4
		is_triggered_only = yes
		situation = this
		location = target

		immediate = {
			hidden_effect = {
				set_situation_locked = yes
			}
		}

		after = {
			hidden_effect = {
				set_situation_locked = no
			}
		}

		option = {	# Amazing
			name = tec_biopsionic_path.20065.a
			custom_tooltip = tec_biopsionic_path.20065.a.tooltip
			icon = {
				icon = GFX_situation_approach_this_is_fine
				icon_background = GFX_situation_approach_bg_tec_purple
				text = tec_icon_text_outcome_good
			}
			hidden_effect = {
				owner = {
					set_country_flag = tec_announced_psionic_traits
				}
				remove_situation_flag = situation_tec_biopsionic_path_t2_nozro
				owner = {
					remove_country_flag = situation_tec_biopsionic_path_t2_nozro
				}
				if = {
					limit = {
						has_situation_flag = situation_tec_biopsionic_path_t2_had_psionics
					}
					remove_situation_flag = situation_tec_biopsionic_path_t2_had_psionics
					set_situation_approach = situation_approach_tec_biopsionic_path_t2_psionics
				}
				if = {
					limit = {
						has_situation_flag = situation_tec_biopsionic_path_t2_had_genetics
					}
					remove_situation_flag = situation_tec_biopsionic_path_t2_had_genetics
					set_situation_approach = situation_approach_tec_biopsionic_path_t2_genetics
				}
			}
		}
	}

	situation_event = { # 80% - Researching convergence
		id = tec_biopsionic_path.20080
		title = "tec_biopsionic_path.20080.name"
		desc = {
			trigger = {
				current_situation_approach = situation_approach_tec_biopsionic_path_t2_psionics
			}
			text = "tec_biopsionic_path.20080.desc.psionics"
		}
		desc = {
			trigger = {
				current_situation_approach = situation_approach_tec_biopsionic_path_t2_genetics
			}
			text = "tec_biopsionic_path.20080.desc.genetics"
		}

		picture = GFX_evt_surreal_visions
		show_sound = event_mystic_reveal
		is_triggered_only = yes
		situation = this
		location = target

		immediate = {
			hidden_effect = {
				set_situation_locked = yes
			}
		}

		after = {
			hidden_effect = {
				set_situation_locked = no
				set_situation_flag = situation_tec_biopsionic_path_t2_slow_progress
			}
		}

		option = {
			name = tec_biopsionic_path.20080.a
			custom_tooltip = tec_biopsionic_path.20080.a.tooltip
			icon = {
				icon = GFX_situation_approach_research
				icon_background = GFX_situation_approach_bg_yellow
				text = tec_icon_text_outcome_good
			}
		}
	}
  # /

  # ---------------  BIOPSI T2 Finished
	country_event = { # 100% - Finish
		id = tec_biopsionic_path.205
		title = "tec_biopsionic_path.205.name"
		desc = {
			trigger = {
				always = yes
			}
			text = "tec_biopsionic_path.205.desc"
		}

		picture = GFX_evt_shroudwalker_enclave
		show_sound = event_psionic
		is_triggered_only = yes

		immediate = {
			hidden_effect = {
				owner = {
					# Path finished, at last
					set_country_flag = tec_biopsionic_path_finished
				}
			}
		}

		option = {
			name = tec_biopsionic_path.205.a
			custom_tooltip = tec_biopsionic_path.205.a.tooltip
			icon = {
				icon = GFX_situation_approach_this_is_fine
				icon_background = GFX_situation_approach_bg_tec_purple
				text = tec_icon_text_outcome_good
			}
		}
	}
  # /
 # /
# /

# Bio-Psy: Purity of essence
# ------------------------------------------------------------ tec_biopsychic_path.xxx
namespace = tec_biopsychic_path

# /

# Cyber-Psy: Biotic Mastery
# ------------------------------------------------------------ tec_cyberpsychic_path.xxx
namespace = tec_cyberpsychic_path

# /

# Bioware-Psy: TO DO
# ------------------------------------------------------------ tec_biowarepsychic_path.xxx
namespace = tec_biowarepsychic_path

# /
